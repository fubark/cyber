<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Docs</title>
    <style>/* Global variables. */
:root {
  /* Set sans-serif & mono fonts */
  --sans-font: -apple-system, BlinkMacSystemFont, "Avenir Next", Avenir,
    "Nimbus Sans L", Roboto, "Noto Sans", "Segoe UI", Arial, Helvetica,
    "Helvetica Neue", sans-serif;
  --mono-font: Consolas, Menlo, Monaco, "Andale Mono", "Ubuntu Mono", monospace;

  /* Default (light) theme */
  --bg: #fff;
  --accent-bg: #f5f7ff;
  --text: #212121;
  --text-light: #585858;
  --border: #898EA4;
  --accent: #0d47a1;
  --code: #d81b60;
  --preformatted: #444;
  --marked: #ffdd33;
  --disabled: #efefef;
}

/* Dark theme */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
    --bg: #212121;
    --accent-bg: #2b2b2b;
    --text: #dcdcdc;
    --text-light: #ababab;
    --accent: #ffb300;
    --code: #f06292;
    --preformatted: #ccc;
    --disabled: #111;
  }
  /* Add a bit of transparency so light media isn't so glaring in dark mode */
  img,
  video {
    opacity: 0.8;
  }
}

/* Reset box-sizing */
*, *::before, *::after {
  box-sizing: border-box;
}

/* Reset default appearance */
textarea,
select,
input,
progress {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
}

html {
  /* Set the font globally */
  font-family: var(--sans-font);
  scroll-behavior: smooth;
}

/* Make the body a nice central block */
body {
  color: var(--text);
  background-color: var(--bg);
  font-size: 1.15rem;
  line-height: 1.5;
  display: grid;
  grid-template-columns: 1fr min(45rem, 90%) 1fr;
  margin: 0;
}
body > * {
  grid-column: 2;
}

/* Make the header bg full width, but the content inline with body */
body > header {
  background-color: var(--accent-bg);
  border-bottom: 1px solid var(--border);
  text-align: center;
  padding: 0 0.5rem 2rem 0.5rem;
  grid-column: 1 / -1;
}

body > header h1 {
  max-width: 1200px;
  margin: 1rem auto;
}

body > header p {
  max-width: 40rem;
  margin: 1rem auto;
}

/* Add a little padding to ensure spacing is correct between content and header > nav */
main {
  padding-top: 1.5rem;
}

body > footer {
  margin-top: 4rem;
  padding: 2rem 1rem 1.5rem 1rem;
  color: var(--text-light);
  font-size: 0.9rem;
  text-align: center;
  border-top: 1px solid var(--border);
}

/* Format headers */
h1 {
  font-size: 3rem;
}

h2 {
  font-size: 2.6rem;
  margin-top: 3rem;
}

h3 {
  font-size: 2rem;
  margin-top: 3rem;
}

h4 {
  font-size: 1.44rem;
}

h5 {
  font-size: 1.15rem;
}

h6 {
  font-size: 0.96rem;
}

/* Prevent long strings from overflowing container */
p, h1, h2, h3, h4, h5, h6 {
  overflow-wrap: break-word;
}

/* Fix line height when title wraps */
h1,
h2,
h3 {
  line-height: 1.1;
}

/* Reduce header size on mobile */
@media only screen and (max-width: 720px) {
  h1 {
    font-size: 2.5rem;
  }

  h2 {
    font-size: 2.1rem;
  }

  h3 {
    font-size: 1.75rem;
  }

  h4 {
    font-size: 1.25rem;
  }
}

/* Format links & buttons */
a,
a:visited {
  color: var(--accent);
}

a:hover {
  text-decoration: none;
}

button,
[role="button"],
input[type="submit"],
input[type="reset"],
input[type="button"],
label[type="button"] {
  border: none;
  border-radius: 5px;
  background-color: var(--accent);
  font-size: 1rem;
  color: var(--bg);
  padding: 0.7rem 0.9rem;
  margin: 0.5rem 0;
}

button[disabled],
[role="button"][aria-disabled="true"],
input[type="submit"][disabled],
input[type="reset"][disabled],
input[type="button"][disabled],
input[type="checkbox"][disabled],
input[type="radio"][disabled],
select[disabled] {
  opacity: 0.5;
  cursor: not-allowed;
}

input:disabled,
textarea:disabled,
select:disabled {
  cursor: not-allowed;
  background-color: var(--disabled);
}

input[type="range"] {
  padding: 0;
}

/* Set the cursor to '?' on an abbreviation and style the abbreviation to show that there is more information underneath */
abbr[title] {
  cursor: help;
  text-decoration-line: underline;
  text-decoration-style: dotted;
}

button:focus,
button:enabled:hover,
[role="button"]:focus,
[role="button"]:not([aria-disabled="true"]):hover,
input[type="submit"]:focus,
input[type="submit"]:enabled:hover,
input[type="reset"]:focus,
input[type="reset"]:enabled:hover,
input[type="button"]:focus,
input[type="button"]:enabled:hover,
label[type="button"]:focus,
label[type="button"]:hover {
  filter: brightness(1.4);
  cursor: pointer;
}

/* Format navigation */
header > nav {
  font-size: 1rem;
  line-height: 2;
  padding: 1rem 0 0 0;
}

/* Use flexbox to allow items to wrap, as needed */
header > nav ul,
header > nav ol {
  align-content: space-around;
  align-items: center;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: center;
  list-style-type: none;
  margin: 0;
  padding: 0;
}

/* List items are inline elements, make them behave more like blocks */
header > nav ul li,
header > nav ol li {
  display: inline-block;
}

header > nav a,
header > nav a:visited {
  margin: 0 0.5rem 1rem 0.5rem;
  border: 1px solid var(--border);
  border-radius: 5px;
  color: var(--text);
  display: inline-block;
  padding: 0.1rem 1rem;
  text-decoration: none;
}

header > nav a:hover {
  border-color: var(--accent);
  color: var(--accent);
  cursor: pointer;
}

/* Reduce nav side on mobile */
@media only screen and (max-width: 720px) {
  header > nav a {
    border: none;
    padding: 0;
    text-decoration: underline;
    line-height: 1;
  }
}

/* Consolidate box styling */
aside, details, pre, progress {
  background-color: var(--accent-bg);
  border: 1px solid var(--border);
  border-radius: 5px;
  margin-bottom: 1rem;
}

aside {
  font-size: 1rem;
  width: 30%;
  padding: 0 15px;
  margin-left: 15px;
  float: right;
}

/* Make aside full-width on mobile */
@media only screen and (max-width: 720px) {
  aside {
    width: 100%;
    float: none;
    margin-left: 0;
  }
}

article, fieldset {
  border: 1px solid var(--border);
  padding: 1rem;
  border-radius: 5px;
  margin-bottom: 1rem;
}

article h2:first-child,
section h2:first-child {
  margin-top: 1rem;
}

section {
  border-top: 1px solid var(--border);
  border-bottom: 1px solid var(--border);
  padding: 2rem 1rem;
  margin: 3rem 0;
}

/* Don't double separators when chaining sections */
section + section,
section:first-child {
  border-top: 0;
  padding-top: 0;
}

section:last-child {
  border-bottom: 0;
  padding-bottom: 0;
}

details {
  padding: 0.7rem 1rem;
}

summary {
  cursor: pointer;
  font-weight: bold;
  padding: 0.7rem 1rem;
  margin: -0.7rem -1rem;
  word-break: break-all;
}

details[open] > summary + * {
  margin-top: 0;
}

details[open] > summary {
  margin-bottom: 0.5rem;
}

details[open] > :last-child {
  margin-bottom: 0;
}

/* Format tables */
table {
  border-collapse: collapse;
  display: block;
  margin: 1.5rem 0;
  overflow: auto;
  width: 100%;
}

td,
th {
  border: 1px solid var(--border);
  text-align: left;
  padding: 0.5rem;
}

th {
  background-color: var(--accent-bg);
  font-weight: bold;
}

tr:nth-child(even) {
  /* Set every other cell slightly darker. Improves readability. */
  background-color: var(--accent-bg);
}

table caption {
  font-weight: bold;
  margin-bottom: 0.5rem;
}

/* Format forms */
textarea,
select,
input {
  font-size: inherit;
  font-family: inherit;
  padding: 0.5rem;
  margin-bottom: 0.5rem;
  color: var(--text);
  background-color: var(--bg);
  border: 1px solid var(--border);
  border-radius: 5px;
  box-shadow: none;
  max-width: 100%;
  display: inline-block;
}
label {
  display: block;
}
textarea:not([cols]) {
  width: 100%;
}

/* Add arrow to drop-down */
select:not([multiple]) {
  background-image: linear-gradient(45deg, transparent 49%, var(--text) 51%),
    linear-gradient(135deg, var(--text) 51%, transparent 49%);
  background-position: calc(100% - 15px), calc(100% - 10px);
  background-size: 5px 5px, 5px 5px;
  background-repeat: no-repeat;
  padding-right: 25px;
}

/* checkbox and radio button style */
input[type="checkbox"],
input[type="radio"] {
  vertical-align: middle;
  position: relative;
  width: min-content;
}

input[type="checkbox"] + label,
input[type="radio"] + label {
  display: inline-block;
}

input[type="radio"] {
  border-radius: 100%;
}

input[type="checkbox"]:checked,
input[type="radio"]:checked {
  background-color: var(--accent);
}

input[type="checkbox"]:checked::after {
  /* Creates a rectangle with colored right and bottom borders which is rotated to look like a check mark */
  content: " ";
  width: 0.18em;
  height: 0.32em;
  border-radius: 0;
  position: absolute;
  top: 0.05em;
  left: 0.17em;
  background-color: transparent;
  border-right: solid var(--bg) 0.08em;
  border-bottom: solid var(--bg) 0.08em;
  font-size: 1.8em;
  transform: rotate(45deg);
}
input[type="radio"]:checked::after {
  /* creates a colored circle for the checked radio button  */
  content: " ";
  width: 0.25em;
  height: 0.25em;
  border-radius: 100%;
  position: absolute;
  top: 0.125em;
  background-color: var(--bg);
  left: 0.125em;
  font-size: 32px;
}

/* Makes input fields wider on smaller screens */
@media only screen and (max-width: 720px) {
  textarea,
  select,
  input {
    width: 100%;
  }
}

/* Set a height for color input */
input[type="color"] {
  height: 2.5rem;
  padding:  0.2rem;
}

/* do not show border around file selector button */
input[type="file"] {
  border: 0;
}

/* Misc body elements */
hr {
  border: none;
  height: 1px;
  background: var(--border);
  margin: 1rem auto;
}

mark {
  padding: 2px 5px;
  border-radius: 4px;
  background-color: var(--marked);
}

img,
video {
  max-width: 100%;
  height: auto;
  border-radius: 5px;
}

figure {
  margin: 0;
  text-align: center;
}

figcaption {
  font-size: 0.9rem;
  color: var(--text-light);
  margin-bottom: 1rem;
}

blockquote {
  margin: 2rem 0 2rem 2rem;
  padding: 0.4rem 0.8rem;
  border-left: 0.35rem solid var(--accent);
  color: var(--text-light);
  font-style: italic;
}

cite {
  font-size: 0.9rem;
  color: var(--text-light);
  font-style: normal;
}

dt {
    color: var(--text-light);
}

/* Use mono font for code elements */
code,
pre,
pre span,
kbd,
samp {
  font-family: var(--mono-font);
  color: var(--code);
}

kbd {
  color: var(--preformatted);
  border: 1px solid var(--preformatted);
  border-bottom: 3px solid var(--preformatted);
  border-radius: 5px;
  padding: 0.1rem 0.4rem;
}

pre {
  padding: 1rem 1.4rem;
  max-width: 100%;
  overflow: auto;
  color: var(--preformatted);
}

/* Fix embedded code within pre */
pre code {
  color: var(--preformatted);
  background: none;
  margin: 0;
  padding: 0;
}

/* Progress bars */
/* Declarations are repeated because you */
/* cannot combine vendor-specific selectors */
progress {
  width: 100%;
}

progress:indeterminate {
  background-color: var(--accent-bg);
}

progress::-webkit-progress-bar {
  border-radius: 5px;
  background-color: var(--accent-bg);
}

progress::-webkit-progress-value {
  border-radius: 5px;
  background-color: var(--accent);
}

progress::-moz-progress-bar {
  border-radius: 5px;
  background-color: var(--accent);
  transition-property: width;
  transition-duration: 0.3s;
}

progress:indeterminate::-moz-progress-bar {
  background-color: var(--accent-bg);
}
</style>
    <style>/*!
  Theme: Default
  Description: Original highlight.js style
  Author: (c) Ivan Sagalaev <maniac@softwaremaniacs.org>
  Maintainer: @highlightjs/core-team
  Website: https://highlightjs.org/
  License: see project LICENSE
  Touched: 2021
*/pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}.hljs{background:#f3f3f3;color:#444}.hljs-comment{color:#697070}.hljs-punctuation,.hljs-tag{color:#444a}.hljs-tag .hljs-attr,.hljs-tag .hljs-name{color:#444}.hljs-attribute,.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-name,.hljs-selector-tag{font-weight:700}.hljs-deletion,.hljs-number,.hljs-quote,.hljs-selector-class,.hljs-selector-id,.hljs-string,.hljs-template-tag,.hljs-type{color:#800}.hljs-section,.hljs-title{color:#800;font-weight:700}.hljs-link,.hljs-operator,.hljs-regexp,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-symbol,.hljs-template-variable,.hljs-variable{color:#ab5656}.hljs-literal{color:#695}.hljs-addition,.hljs-built_in,.hljs-bullet,.hljs-code{color:#397300}.hljs-meta{color:#1f7199}.hljs-meta .hljs-string{color:#38a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style>
    <style>:root {
    --bg: #0c0c0c;
    --accent-bg: #0d0707;
    --border: #614721;
/*    --text: #d2d2d2;*/
    --text: #fff;
    --text-light: #888888;
    --accent-light: #ffc57b;
/*    --header: #c4beb9;*/
    --header: #b5aea8;
    /* --accent-light: #fab760; */
    --accent: #ffa430;
    --marked: #ffa430;
    --mono-font: Consolas, Menlo, Monaco, "Andale Mono", "Ubuntu Mono", monospace;
    --keyword: #ff7d67;

    --header-line: #333;

    --nav-width: 15em;
}

html {
    scroll-behavior: auto;
}

h1 {
    font-size: 2em;
    font-weight: normal;
    margin-top: 1.5em;
}

h2 {
    font-size: 1.5em;
    font-weight: normal;
}

h3 {
    font-weight: normal;
}

h4 {
    font-weight: normal;
}

h5 {
    font-weight: normal;
}

h6 {
    font-weight: normal;
}

h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
    opacity: 0;
    text-decoration: none
}

h1:hover a, h2:hover a, h3:hover a, h4:hover a, h5:hover a, h6:hover a {
    opacity: initial
}

h1.title {
    color: var(--accent);
    margin-bottom: 10px;
}

html, body {
    font-size: 18px;

    /* Reset to defaults */ 
    letter-spacing: normal;
    -webkit-font-smoothing: auto;
    -moz-osx-font-smoothing: auto;
    background-color: var(--bg);
    color: var(--text);
}

header ul {
    list-style-type: none;
    padding-left: 0px;
}

header a {
    white-space: nowrap;
}

body > header {
    height: 100%;
    width: var(--nav-width);
    padding-left: 40px;
    text-align: left;
    position: fixed;
    top: 0;
    left: 0;
    overflow-y: auto;
}

header ul li {
    display: list-item;
    margin-right: 0px;
}

body {
    display: block;
}

main {
    padding-top: 0px;
    padding-left: calc(var(--nav-width) + 20px);
    padding-right: 20px;
}

em {
    font-style: normal;
    color: #fb6767;
}

/* mobile */
@media screen and (max-width: 720px) {
    body {
        display: grid;
    }

    /* Make 2 column navs fit */
    table ul {
        padding-left: 20px;
    }
    table ul ul {
        padding-left: 0px;
    }
    table td {
        padding: 0.5rem 0 0.5rem 0;
    }

    body > header {
        position: static;
        padding-left: 0px;
        height: initial;
        width: initial;
        top: initial;
        left: initial;
        text-align: center;
        overflow-y: visible;
    }

    main {
        padding-left: 0px;
        padding-right: 0px;
    }

    header ul {
        margin-top: 0px;
        margin-bottom: 0px;
    }

    header ul li {
        display: inline;
        margin-right: 5px;
    }
}

a.current {
    text-decoration: none;
}

h1 {
/*    color: var(--accent);*/
/*    font-weight: bold;*/
}

.markdown h2 {
    color: var(--header);
    font-weight: bold; 
    margin-top: 60px;
}

h3 {
    color: var(--header);
/*    font-weight: bold; */
    font-size: 1.2em;
    margin-top: 2.2em;

    padding: 0.5rem 1rem 0.7rem 0.75rem;
    border-bottom: 0.15rem solid var(--header-line);
    border-radius: 0rem;
}

.markdown h3 > code {
    color: var(--header);
    font-size: 0.9em;
    background-color: transparent;
}

.markdown table tr th {
    text-align: left;
    color: var(--text-light);
    font-weight: normal;
}

.markdown table tr th, .markdown table tr td {
    border: 3px solid #222;
}

.markdown table tr td:first-child code {
    font-size: 15px;
}

.book-search input {
    background-color: var(--bg);
    border: 3px solid #222;
}

.book-menu .book-brand a {
    color: var(--accent);
    font-weight: bold;
}

.book-menu a {
    color: var(--accent-light);
}
.book-menu a:hover {
    opacity: 1;
    color: var(--accent-light);
    text-decoration: underline;
}

.book-menu a.active {
    color: var(--accent);
    font-weight: bold;
    text-decoration: underline;
}

ul a {
    color: var(--accent-light);
}

a {
    color: var(--accent);
}

.markdown a:visited {
    color: var(--accent);
    text-decoration: underline;
}
.markdown a {
    color: var(--accent);
    text-decoration: underline;
}

:focus {
    outline-style: none;
}

/* inline code */
main code {
    font-size: 17px;
    background: none;
    color: var(--accent-light);
    padding: 2px 6px;
}

/* block code */
main pre code {
    font-size: 15px;
    color: var(--text);
    font-weight: normal;
    font-family: var(--mono-font);
}

pre {
/*    padding: 10px;*/
    font-size: 15px;
    border: 0px solid var(--border);
    background-color: #171717;
}

pre code.hljs {
    padding: 0px;
    white-space: pre-wrap;
}

.hljs {
/*    background-color: var(--accent-bg);*/
    background-color: transparent;
    color: var(--text);
}
.hljs-type {
    color: #919aff;
    font-weight: normal;
}
.hljs-title {
    color: var(--text);
    font-weight: normal;
}
.hljs-keyword {
    color: var(--keyword);
    font-weight: normal;
}
.hljs-symbol,
.hljs-number,
.hljs-string {
    color: rgb(120, 206, 120);
}
.hljs-built_in {
    color: var(--text);
}
.hljs-comment {
    color: var(--text-light);
}

blockquote {
    margin: 20px 0 20px 0;
    font-style: normal;
    border-left: 3px solid var(--header-line);
    padding: 3px 0px 3px 15px;
    color: var(--text);
}

blockquote p:nth-child(2) {
    margin-top: 5px;
}

blockquote p {
    margin: 0px;
    padding: 0px;
}

blockquote em {
    color: #fb6767;
}

table {
    font-size: 18px;
    width: auto;
    line-height: 1.5em;
    display: table;
    margin: 0 0;
}

table thead {
    border-bottom: 0.15rem solid var(--header-line);
    width: auto;
}

table th {
    border: 0px solid var(--border);
    width: auto;
    background-color: transparent;
}

table td {
    border: 0px solid var(--border);
    width: auto;
}

table tbody tr:nth-child(even) {
    background-color: #111;
}
</style>
</head>
<body id="table-of-contents">
<header>
    <h1 class="title">Cyber Docs</h1>
    <div class="sub-title">v0.4-dev 12-2f26e63</div>
    <ul>
        <li><a href="https://cyberscript.dev" target="_blank" rel="noopener">Homepage</a></li>
        <li><a href="https://cyberscript.dev/play.html" target="_blank" rel="noopener">Playground</a></li>
        <li><a href="https://github.com/fubark/cyber/edit/master/docs/docs.md" target="_blank" rel="noopener">Edit Docs</a></li>
    </ul>
    <div class="sub-title">Table of Contents</div>
    <ul>
        <li><a href="#introduction">Introduction.</a></li>
<li><a href="#syntax">Syntax.</a></li>
<li><a href="#data-types">Data Types.</a></li>
<li><a href="#control-flow">Control Flow.</a></li>
<li><a href="#functions">Functions.</a></li>
<li><a href="#modules">Modules.</a></li>
<li><a href="#ffi">FFI.</a></li>
<li><a href="#error-handling">Error Handling.</a></li>
<li><a href="#concurrency">Concurrency.</a></li>
<li><a href="#type-system">Type System.</a></li>
<li><a href="#metaprogramming">Metaprogramming.</a></li>
<li><a href="#embedding">Embedding.</a></li>
<li><a href="#memory">Memory.</a></li>
<li><a href="#backends">Backends.</a></li>
    </ul>
</header>
<main>
    <!--This does not contain module docs. Use docs.md from releases instead or generate it by using docs/gen-docs.cy -->
<h1 id="introduction">Introduction. <a href="#introduction">#</a></h1>
<p>Cyber is a fast, efficient, and concurrent scripting language. The landing page is at <a href="https://cyberscript.dev" title="">cyberscript.dev</a> and contains performance metrics and release notes.</p>
<p>Cyber is easy to learn. These docs provide a reference manual for the language. You can read it in order or jump around using the navigation.</p>
<p>You may come across features that are marked <code>Incomplete</code> or <code>Planned</code>. This is because the docs are written as if all features have been completed already.</p>
<h2 id="hello-world">Hello World. <a href="#hello-world">#</a></h2>
<pre><code class="language-cy">import math

var worlds = ['World', '‰∏ñÁïå', '‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ', 'mundo']
worlds.append(math.random())
for worlds -> w:
    print 'Hello, $(w)!'
</code></pre>
<h1 id="syntax">Syntax. <a href="#syntax">#</a></h1>
<table><tr>
<td valign="top">
<ul>
<li><a href="#statements" title="">Statements.</a></li>
<li><a href="#blocks" title="">Blocks.</a></li>
<li><a href="#variables" title="">Variables.</a><ul>
<li><a href="#local-variables" title="">Local variables.</a></li>
<li><a href="#dynamic-variables" title="">Dynamic variables.</a></li>
<li><a href="#variable-scopes" title="">Variable scopes.</a></li>
<li><a href="#static-variables" title="">Static variables.</a></li>
</ul>
</li>
<li><a href="#reserved-identifiers" title="">Reserved identifiers.</a><ul>
<li><a href="#keywords" title="">Keywords.</a></li>
<li><a href="#contextual-keywords" title="">Contextual keywords.</a></li>
<li><a href="#symbols" title="">Symbols.</a></li>
<li><a href="#literals" title="">Literals.</a></li>
</ul>
</li>
</ul>
</td><td valign="top">
<ul>
<li><a href="#operators" title="">Operators.</a><ul>
<li><a href="#arithmetic-operators" title="">Arithmetic operators.</a></li>
<li><a href="#comparison-operators" title="">Comparison operators.</a></li>
<li><a href="#logic-operators" title="">Logic operators.</a></li>
<li><a href="#bitwise-operators" title="">Bitwise operators.</a></li>
<li><a href="#operator-overloading" title="">Operator overloading.</a></li>
</ul>
</li>
<li><a href="#comments" title="">Comments.</a></li>
<li><a href="#cyon" title="">CYON.</a></li>
</ul>
</td>
</tr></table>
<p><a href="#table-of-contents" title="">top</a></p>
<p>Cyber's syntax is concise and easy to read.</p>
<h2 id="statements">Statements. <a href="#statements">#</a></h2>
<p>A statement ends with the new line.</p>
<pre><code class="language-cy">-- An assignment statement.
var a = 123
</code></pre>
<p><a href="#syntax" title="">parent</a></p>
<h2 id="blocks">Blocks. <a href="#blocks">#</a></h2>
<p>Some statements can start a new block with a colon.
The first statement in a new block must be indented further.
Spaces or tabs can be used for indentation but not both.</p>
<pre><code class="language-cy">-- This `if` statement begins a new block.
if true:
    var a = 234
</code></pre>
<p>Subsequent statements in the block must follow the same indentation.
The block ends when a statement recedes from this indentation.</p>
<pre><code class="language-cy">var items = [10, 20, 30]
for items -> it:
    if it == 20:
        print it
    print it      -- This is the first statement outside of the `if` block.
</code></pre>
<p>Single-line blocks allow only one statement after a starting block.</p>
<pre><code class="language-cy">-- A single line block.
if true: print 123

if true: print 123
    -- This is an indentation error since the single-line block is already consumed.
    print 234
</code></pre>
<p>Since blocks require at least one statement, use <code>pass</code> as a placeholder statement.</p>
<pre><code class="language-cy">func foo():
    pass
</code></pre>
<p><a href="#syntax" title="">parent</a></p>
<h2 id="variables">Variables. <a href="#variables">#</a></h2>
<p>Cyber supports dynamic and static typing. If you're used to a dynamic language such as Python, JavaScript, or Lua, use <code>my</code> to declare your variables and object fields. If you're used to a static language then use <code>var</code> instead. The documentation will use static typing by default.</p>
<p><a href="#syntax" title="">parent</a></p>
<h3 id="local-variables">Local variables. <a href="#local-variables">#</a></h3>
<p>Local variables exist until the end of their scope.
They are declared and initialized using the <code>var</code> keyword:</p>
<pre><code class="language-cy">var a = 123
</code></pre>
<p>When declared without a type specifier next to the variable, it infers the type from the right initializer.
To declare variables for a specific type, see <a href="#typed-variables" title="">Typed variables</a>.</p>
<p>Variables can be set afterwards using the <code>=</code> operator:</p>
<pre><code class="language-cy">a = 234
</code></pre>
<p><a href="#syntax" title="">parent</a></p>
<h3 id="dynamic-variables">Dynamic variables. <a href="#dynamic-variables">#</a></h3>
<p>Dynamically typed variables are easier to work with and there is no friction when using them. They are declared using the <code>my</code> keyword:</p>
<pre><code class="language-cy">my a = 123
</code></pre>
<p>To understand more about dynamically and statically typed code, see <a href="#type-system" title="">Type System</a>.</p>
<p><a href="#syntax" title="">parent</a></p>
<h3 id="variable-scopes">Variable scopes. <a href="#variable-scopes">#</a></h3>
<p>Blocks create a new variable scope. Variables declared in the current scope will take precedence over any parent variables with the same name:</p>
<pre><code class="language-cy">func foo():
    var a = 234

    if true:
        var a = 345     -- New `a` declared.
        print a         -- Prints "345"

    print a             -- Prints "234"
</code></pre>
<p><a href="#syntax" title="">parent</a></p>
<h3 id="static-variables">Static Variables. <a href="#static-variables">#</a></h3>
<p>Static variables live until the end of the script.
They act as global variables and are visible from anywhere in the script.</p>
<p>They are declared with <code>var</code> but a namespace must be provided before the variable name:</p>
<pre><code class="language-cy">var Root.a = 123

func foo():
    print a     -- '123'
</code></pre>
<p>The <code>Root</code> symbol is used to reference the current module's namespace.</p>
<p>Since static variables are initialized outside of a fiber's execution flow, they can not reference any local variables:</p>
<pre><code class="language-cy">-- Static declaration.
var Root.b = a   -- Compile error, initializer can not reference a local variable.

-- Main execution.
var a = 123
</code></pre>
<p>However, they can be reassigned after initialization:</p>
<pre><code class="language-cy">var Root.b = 0

var a = 123
b = a            -- Reassigning after initializing.
</code></pre>
<p>Static variable initializers have a natural order based on when it was encountered by the compiler.
In the case of <a href="#importing" title="">imported</a> variables, the order of the import would affect this order.
The following would print '123' before '234':</p>
<pre><code class="language-cy">var Root.a = print(123)
var Root.b = print(234)
</code></pre>
<p>When the initializers reference other static variables, those child references are initialized first in DFS order and supersede the natural ordering. The following initializes <code>b</code> before <code>a</code>.</p>
<pre><code class="language-cy">var Root.a = b + 321
var Root.b = 123

print a        -- '444'
</code></pre>
<p>Circular references in initializers are not allowed.
When initialization encounters a reference that creates a circular dependency an error is reported.</p>
<pre><code class="language-cy">var Root.a = b
var Root.b = a       -- CompileError. Referencing `a` creates a circular dependency.
</code></pre>
<p>Sometimes, you may want to initialize a static variable by executing multiple statements in order.
For this use case, you can use a declaration block. <em>Planned Feature</em></p>
<pre><code class="language-cy">var Root.myImage =:
    var img = loadImage('me.png')
    img.resize(100, 100)
    img.filter(.blur, 5)
    break img
</code></pre>
<p>The final resulting value that is assigned to the static variable is provided by a <code>break</code> statement. If a <code>break</code> statement is not provided, <code>none</code> is assigned instead.</p>
<p><a href="#syntax" title="">parent</a></p>
<h2 id="reserved-identifiers">Reserved identifiers. <a href="#reserved-identifiers">#</a></h2>
<h3 id="keywords">Keywords. <a href="#keywords">#</a></h3>
<p>There are <code>25</code> general keywords. This list categorizes them:</p>
<ul>
<li><a href="#control-flow" title="">Control Flow</a>: <code>if</code> <code>else</code> <code>switch</code> <code>case</code> <code>while</code> <code>for</code> <code>break</code> <code>continue</code> <code>pass</code></li>
<li><a href="#operators" title="">Operators</a>: <code>or</code> <code>and</code> <code>not</code></li>
<li><a href="#variables" title="">Variables</a>: <code>var</code> <code>my</code></li>
<li><a href="#functions" title="">Functions</a>: <code>func</code> <code>return</code></li>
<li><a href="#fibers" title="">Coroutines</a>: <code>coinit</code> <code>coyield</code>, <code>coresume</code></li>
<li><a href="#data-types" title="">Data Types</a>: <code>type</code> <code>as</code></li>
<li><a href="#error-handling" title="">Error Handling</a>: <code>try</code> <code>catch</code> <code>throw</code></li>
<li><a href="#modules" title="">Modules</a>: <code>import</code></li>
</ul>
<p><a href="#syntax" title="">parent</a></p>
<h3 id="contextual-keywords">Contextual keywords. <a href="#contextual-keywords">#</a></h3>
<p>These keywords only have meaning in a certain context.</p>
<ul>
<li><a href="#methods" title="">Methods</a>: <code>self</code>, <code>Self</code></li>
<li><a href="#caught-variable" title="">Catching Errors</a>: <code>caught</code></li>
<li><a href="#objects" title="">Object Type</a>: <code>object</code></li>
<li><a href="#enums" title="">Enum Type</a>: <code>enum</code></li>
<li><a href="#throws-specifier" title="">Function Throws</a>: <code>throws</code></li>
</ul>
<p><a href="#syntax" title="">parent</a></p>
<h3 id="symbols">Symbols. <a href="#symbols">#</a></h3>
<ul>
<li><a href="#modules" title="">Modules</a>: <code>Root</code></li>
</ul>
<p><a href="#syntax" title="">parent</a></p>
<h3 id="literals">Literals. <a href="#literals">#</a></h3>
<ul>
<li><a href="#booleans" title="">Booleans</a>: <code>true</code> <code>false</code></li>
<li><a href="#error-value" title="">Error Values</a>: <code>error</code></li>
<li><a href="#none" title="">None</a>: <code>none</code></li>
</ul>
<p><a href="#syntax" title="">parent</a></p>
<h2 id="operators">Operators. <a href="#operators">#</a></h2>
<p>Cyber supports the following operators. They are ordered from highest to lowest precedence.</p>
<table><thead><tr><th>Operator</th><th>Description</th></tr></thead><tbody><tr><td><code><<</code> <code>>></code></td><td>Bitwise left shift, right shift.</td></tr><tr><td><code>&</code></td><td>Bitwise and.</td></tr><tr><td><code>\|</code> <code>\|\|</code></td><td>Bitwise or, exclusive or.</td></tr><tr><td><code>^</code></td><td>Power.</td></tr><tr><td><code>/</code> <code>%</code> <code>*</code></td><td>Division, modulus, multiplication.</td></tr><tr><td><code>+</code> <code>-</code></td><td>Addition, subtraction.</td></tr><tr><td><code>as</code></td><td>Type casting.</td></tr><tr><td><code>></code> <code>>=</code> <code><</code> <code><=</code> <code>!=</code> <code>==</code></td><td>Greater, greater or equal, less, less or equal, not equals, equals.</td></tr><tr><td><code>and</code></td><td>Logical and.</td></tr><tr><td><code>or</code></td><td>Logical or.</td></tr></tbody></table><p><a href="#syntax" title="">parent</a></p>
<h3 id="arithmetic-operators">Arithmetic Operators. <a href="#arithmetic-operators">#</a></h3>
<p>The following arithmetic operators are supported for the <a href="#numbers" title="">numeric data types</a>.</p>
<pre><code class="language-cy">1 + 2     -- Addition, evaluates to 3.
100 - 10  -- Subtraction, evaluates to 90.
3 * 4     -- Multiplication, evaluates to 12.
20 / 5    -- Division, evaluates to 4.
2 ^ 4     -- Raise to the power, evaluates to 16.
12 % 5    -- Modulus remainder, evaluates to 2.
-(10)     -- Apply negative, evaluates to -10.
</code></pre>
<p><a href="#syntax" title="">parent</a></p>
<h3 id="comparison-operators">Comparison Operators. <a href="#comparison-operators">#</a></h3>
<p>Cyber supports the following comparison operators.
By default, a comparison operator evaluates to a <a href="#booleans" title="">Boolean</a> value.</p>
<p>The equals operator returns true if the two values are equal. For primitive types, the comparison checks the types and the underlying value. For strings, the underlying bytes are compared for equality. For objects, the comparison checks that the two values reference the same object.</p>
<pre><code class="language-cy">1 == 1      -- Evaluates to `true`
1 == 2      -- Evaluates to `false`
1 == true   -- Evaluates to `false`

my a = 'abc'
a == 'abc'  -- Evaluates to `true`

a = []
my b = a
a == b      -- Evaluates to `true`
a == []     -- Evaluates to `false`
</code></pre>
<p>The not equals operator returns true if the two values are not equal.</p>
<pre><code class="language-cy">1 != 1      -- Evaluates to `false`
1 != 2      -- Evaluates to `true`
</code></pre>
<p>Number types have additional comparison operators.</p>
<pre><code class="language-cy">a > b    -- `true` if a is greater than b
a >= b   -- `true` if a is greater than or equal to b
a < b    -- `true` if a is less than b
a <= b   -- `true` if a is less than or equal to b
</code></pre>
<p><a href="#syntax" title="">parent</a></p>
<h3 id="logic-operators">Logic Operators. <a href="#logic-operators">#</a></h3>
<p>The logical operators <code>and</code>, <code>or</code>, and <code>not</code> are supported.</p>
<p><code>and</code> evaluates to <code>a</code> if <code>a</code> is not truthy. Otherwise, it evaluates to <code>b</code>. If <code>a</code> is not truthy, the evaluation of <code>b</code> is not executed. A numeric value that isn't 0 is truthy. An object reference is always truthy. The none value is not truthy.</p>
<pre><code class="language-cy">true and true  -- Evaluates to true
123 and 234    -- Evaluates to 234
123 and 0      -- Evaluates to false
</code></pre>
<p><code>or</code> evaluates to <code>a</code> if <code>a</code> is truthy. Otherwise, it evaluates to <code>b</code>. If <code>a</code> is found to be truthy, the evaluation of <code>b</code> is not executed.</p>
<pre><code class="language-cy">true or false  -- Evaluates to true
false or true  -- Evaluates to true
false or false -- Evaluates to false
123 or false   -- Evaluates to 123
</code></pre>
<p>The unary operator <code>not</code> performs negation on the boolean value. The unary operator <code>!</code> can also be used instead of <code>not</code>.</p>
<pre><code class="language-cy">not false     -- Evaluates to true
not true      -- Evaluates to false
not 0         -- Evaluates to true      
not 123       -- Evaluates to false
!false        -- Evaluates to true
!true         -- Evaluates to false
</code></pre>
<p><a href="#syntax" title="">parent</a></p>
<h3 id="bitwise-operators">Bitwise Operators. <a href="#bitwise-operators">#</a></h3>
<p>The following bitwise operators are supported for <code>int</code> number values.</p>
<pre><code class="language-cy">-- Bitwise and: any underlying bits that are set in both integers are set in the new integer.
a & b

-- Bitwise or: any underlying bits that are set in either integer a or integer b are set in the new integer.
a | b

-- Bitwise exclusive or: any underlying bits that are set in either integer a or integer b but not both are set in the new integer.
a || b

-- Bitwise right shift: a's bits are shifted b bits to the least significant end. This performs sign-extension on the 32-bit integer.
a >> b

-- Bitwise left shift: a's bits are shifted b bits to the most significant end. This does not perform sign-extension on the 32-bit integer.
a << b

-- Bitwise not: a's integer bits are flipped.
~a
</code></pre>
<p><a href="#syntax" title="">parent</a></p>
<h3 id="operator-overloading">Operator overloading. <a href="#operator-overloading">#</a></h3>
<p>See <a href="#operator-overloading-1" title="">Operator overloading</a> in Metaprogramming.</p>
<p><a href="#syntax" title="">parent</a></p>
<h2 id="comments">Comments. <a href="#comments">#</a></h2>
<p>A single line comment starts with two hyphens and ends at the end of the line.</p>
<pre><code class="language-cy">-- This is a comment.

var a = 123   -- This is a comment on the same line as a statement.
</code></pre>
<p>There will be multi-line comments in Cyber but the syntax has not been determined.</p>
<p><a href="#syntax" title="">parent</a></p>
<h2 id="cyon">CYON. <a href="#cyon">#</a></h2>
<p>CYON or the Cyber object notation is similar to JSON. The format uses the same literal value semantics as Cyber.</p>
<pre><code class="language-cy">[
    name: 'John Doe',
    'age': 25,
    -- This is a comment
    cities: [
        'New York',
        'San Francisco',
        'Tokyo',
    ],
]
</code></pre>
<p><a href="#syntax" title="">parent</a></p>
<h1 id="data-types">Data Types. <a href="#data-types">#</a></h1>
<table><tr>
<td valign="top">
<ul>
<li><a href="#none" title="">None.</a></li>
<li><a href="#booleans" title="">Booleans.</a></li>
<li><a href="#numbers" title="">Numbers.</a><ul>
<li><a href="#integers" title="">Integers.</a></li>
<li><a href="#floats" title="">Floats.</a></li>
<li><a href="#big-numbers" title="">Big Numbers.</a></li>
</ul>
</li>
<li><a href="#strings" title="">Strings.</a><ul>
<li><a href="#string-interpolation" title="">String interpolation.</a></li>
<li><a href="#string-formatting" title="">String formatting.</a></li>
</ul>
</li>
<li><a href="#arrays" title="">Arrays.</a></li>
<li><a href="#bracket-literals" title="">Bracket literals.</a></li>
<li><a href="#lists" title="">Lists.</a></li>
<li><a href="#tuples" title="">Tuples.</a></li>
</ul>
</td>
<td valign="top">
<ul>
<li><a href="#maps" title="">Maps.</a><ul>
<li><a href="#create-map" title="">Create map.</a></li>
<li><a href="#empty-map" title="">Empty map.</a></li>
<li><a href="#map-indexing" title="">Map indexing.</a></li>
<li><a href="#map-operations" title="">Map operations.</a></li>
<li><a href="#map-block" title="">Map block.</a></li>
</ul>
</li>
<li><a href="#objects" title="">Objects.</a><ul>
<li><a href="#fields" title="">Fields.</a></li>
<li><a href="#instantiation" title="">Instantiation.</a></li>
<li><a href="#methods" title="">Methods.</a></li>
<li><a href="#self-variable" title=""><code>self</code> variable.</a></li>
<li><a href="#type-functions" title="">Type functions.</a></li>
<li><a href="#type-variables" title="">Type variables.</a></li>
</ul>
</li>
<li><a href="#enums" title="">Enums.</a></li>
<li><a href="#symbols-1" title="">Symbols.</a></li>
</ul>
</td>
</tr></table>
<p><a href="#table-of-contents" title="">top</a></p>
<p>In Cyber, there are primitive types and object types. Primitives are copied around by value and don't need additional heap memory or reference counts.</p>
<p>Primitives include <a href="#booleans" title="">Booleans</a>, <a href="#floats" title="">Floats</a>, <a href="#integers" title="">Integers</a>, <a href="#enums" title="">Enums</a>, <a href="#symbols-1" title="">Symbols</a>, <a href="#error-value" title="">Error Values</a>, and the <code>none</code> value.</p>
<p>Object types include <a href="#lists" title="">Lists</a>, <a href="#tuples" title="">Tuples</a>, <a href="#maps" title="">Maps</a>, <a href="#strings" title="">Strings</a>, <a href="#arrays" title="">Arrays</a>, <a href="#objects" title="">User Objects</a>, <a href="#lambdas" title="">Lambdas</a>, <a href="#fibers" title="">Fibers</a>, <a href="#enums" title="">Enums with payloads</a>, <a href="#pointers" title="">Pointers</a>, and several internal object types.</p>
<h2 id="none">None. <a href="#none">#</a></h2>
<p>The <code>none</code> value represents an empty value. This is similar to null in other languages.</p>
<p><a href="#data-types" title="">parent</a></p>
<h2 id="booleans">Booleans. <a href="#booleans">#</a></h2>
<p>Booleans can be <code>true</code> or <code>false</code>. See <a href="#type-bool" title=""><code>type bool</code></a>.</p>
<pre><code class="language-cy">var a = true
if a:
    print 'a is true'
</code></pre>
<p>When other value types are coerced to the bool type, the truthy value is determined as follows.</p>
<ul>
<li>The <code>none</code> value is <code>false</code>.</li>
<li>Other objects and values are always <code>true</code>.</li>
</ul>
<p><a href="#data-types" title="">parent</a></p>
<h2 id="numbers">Numbers. <a href="#numbers">#</a></h2>
<h3 id="integers">Integers. <a href="#integers">#</a></h3>
<p><code>int</code> is the default integer type. It has 48-bits and can represent integers in the range -(2<sup>47</sup>) to 2<sup>47</sup>-1. See <a href="#type-int" title=""><code>type int</code></a>.</p>
<p>When a numeric literal is used and the type can not be inferred, it will default to the <code>int</code> type:</p>
<pre><code class="language-cy">var a = 123
</code></pre>
<p>Integer notations always produce a <code>int</code> value:</p>
<pre><code class="language-cy">var a = 0xFF     -- hex.
a = 0o17         -- octal.
a = 0b1010       -- binary.
a = `üê∂`         -- UTF-8 rune.
</code></pre>
<p>Arbitrary values can be converted to a <code>int</code> using the type as a function.</p>
<pre><code class="language-cy">var a = '123'
var b = int(a) 
</code></pre>
<p>In addition to arithmetic operations, integers can also perform <a href="#bitwise-operators" title="">bitwise operations</a>.</p>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="floats">Floats. <a href="#floats">#</a></h3>
<p><code>float</code> is the default floating point type. It has a (IEEE 754) 64-bit floating point format. See <a href="#type-float" title=""><code>type float</code></a>.</p>
<p>Although a <code>float</code> represents a decimal number, it can also represent integers between -(2<sup>53</sup>-1) and (2<sup>53</sup>-1). Any integers beyond the safe integer range is not guaranteed to have a unique representation.</p>
<p>A numeric literal can be used to create a <code>float</code> if the inferred type is a <code>float</code>:</p>
<pre><code class="language-cy">var a float = 123
</code></pre>
<p>Decimal and scientific notations always produce a <code>float</code> value:</p>
<pre><code class="language-cy">var a = 2.34567
var b = 123.0e4
</code></pre>
<p>Arbitrary values can be converted to a <code>float</code> using the type as a function.</p>
<pre><code class="language-cy">var a = '12.3'
var b = float(a) 
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="big-numbers">Big Numbers. <a href="#big-numbers">#</a></h3>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#data-types" title="">parent</a></p>
<h2 id="strings">Strings. <a href="#strings">#</a></h2>
<p>The <code>string</code> type represents a sequence of UTF-8 codepoints, also known as <code>runes</code>. Each rune is stored internally as 1-4 bytes and can be represented as an <code>int</code>. See <a href="#type-string" title=""><code>type string</code></a>.</p>
<p>Under the hood, there are multiple string implementations to make operations faster by default.</p>
<p>Strings are <strong>immutable</strong>, so operations that do string manipulation return a new string. By default, small strings are interned to reduce memory footprint.</p>
<p>To mutate an existing string, use <a href="#mutstring" title="">MutString</a>. <em>Planned Feature</em></p>
<p>A string is always UTF-8 validated. Using an <a href="#arrays" title="">Array</a> to represent raw bytes of a string is faster but you'll have to validate them and take care of indexing.</p>
<p>A single line string literal is surrounded in single quotes.</p>
<pre><code class="language-cy">var apple = 'a fruit'
</code></pre>
<p>You can escape the single quote inside the literal or use double quotes.</p>
<pre><code class="language-cy">var apple = 'Bob\'s fruit'
apple = "Bob's fruit"
</code></pre>
<p>Concatenate two strings together with the <code>+</code> operator or the method <code>concat</code>.</p>
<pre><code class="language-cy">var res = 'abc' + 'xyz'
res = res.concat('end')
</code></pre>
<p>Strings are UTF-8 encoded.</p>
<pre><code class="language-cy">var str = 'abcü¶äxyzüê∂'
</code></pre>
<p>Use double quotes to surround a multi-line string.</p>
<pre><code class="language-cy">var str = "line a
line b
line c"
</code></pre>
<p>You can escape double quotes inside the literal or use triple quotes.</p>
<pre><code class="language-cy">var str = "line a
line \"b\"
line c"

-- Using triple quotes.
str = '''line a
line "b"
line c
'''
</code></pre>
<p>The following escape sequences are supported:</p>
<table><thead><tr><th>Escape Sequence</th><th>Code</th><th>Description</th></tr></thead><tbody><tr><td>\a</td><td>0x07</td><td>Terminal bell.</td></tr><tr><td>\b</td><td>0x08</td><td>Backspace.</td></tr><tr><td>\e</td><td>0x1b</td><td>Escape character.</td></tr><tr><td>\n</td><td>0x0a</td><td>Line feed character.</td></tr><tr><td>\r</td><td>0x0d</td><td>Carriage return character.</td></tr><tr><td>\t</td><td>0x09</td><td>Horizontal tab character.</td></tr></tbody></table><p>The boundary of each line can be set with a vertical line character. This makes it easier to see the whitespace.
<em>Planned Feature</em></p>
<pre><code class="language-cy">var poem = "line a
       |  two spaces from the left
       |     indented further"
</code></pre>
<p>Using the index operator will return the UTF-8 rune at the given index as a slice. This is equivalent to calling the method <code>sliceAt()</code>.</p>
<pre><code class="language-cy">var str = 'abcd'
print str[1]     -- "b"
</code></pre>
<p>Using the slice operator will return a view of the string at the given start and end (exclusive) indexes. The start index defaults to 0 and the end index defaults to the string's length.</p>
<pre><code class="language-cy">var str = 'abcxyz'
var sub = str[0..3]
print sub        -- "abc"
print str[..5]   -- "abcxy"
print str[1..]   -- "bcxyz"

-- One way to use slices is to continue a string operation.
str = 'abcabcabc'
var i = str.findRune(`c`)
print(i)                            -- "2"
i += 1
print(i + str[i..].findRune(`c`))   -- "5"
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="string-interpolation">String Interpolation. <a href="#string-interpolation">#</a></h3>
<p>Expressions can be embedded into string templates with <code>$()</code>:</p>
<pre><code class="language-cy">var name = 'Bob'
var points = 123
var str = 'Scoreboard: $(name) $(points)'
</code></pre>
<p>String templates can not contain nested string templates.</p>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="string-formatting">String formatting. <a href="#string-formatting">#</a></h3>
<p>Values that can be formatted into a string will have a <code>fmt</code> method:</p>
<pre><code class="language-cy">var file = os.openFile('data.bin', .read)
var bytes = file.readToEnd()

-- Dump contents in hex.
print '$(bytes.fmt(.x))' 
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h2 id="arrays">Arrays. <a href="#arrays">#</a></h2>
<p>An <code>array</code> is an immutable sequence of bytes. It can be used to represent strings but it won't automatically validate their encoding and indexing returns the n'th byte rather than a UTF-8 rune. See <a href="#type-array" title=""><code>type array</code></a>.</p>
<pre><code class="language-cy">var a = array('abcd')
a = a.insertByte(1, 255)
print a[0]     -- "97"
print a[1]     -- "255"
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h2 id="bracket-literals">Bracket literals. <a href="#bracket-literals">#</a></h2>
<p>Bracket literals are delimited with brackets <code>[]</code>. They are used to initialize Lists, Maps, and Objects:</p>
<pre><code class="language-cy">var list = [1, 2, 3]
var map = [ a: 123, b: 234 ]
var obj = [MyObject a: 123, b: 234]
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h2 id="lists">Lists. <a href="#lists">#</a></h2>
<p>Lists are a builtin type that holds an ordered collection of elements. Lists grow or shrink as you insert or remove elements. See <a href="#type-list" title=""><code>type List</code></a>.</p>
<pre><code class="language-cy">-- Construct a new list.
var list = [1, 2, 3]

-- The first element of the list starts at index 0.
print list[0]    -- Prints '1'
</code></pre>
<p>Lists can be sliced with the range <code>..</code> clause. The sliced list becomes a new list that you can modify without affecting the original list. The end index is non-inclusive.</p>
<pre><code class="language-cy">var list = [ 1, 2, 3, 4, 5 ]
list[0..0]    -- []          
list[0..3]    -- [ 1, 2, 3 ] 
list[3..]     -- [ 4, 5 ]    
list[..3]     -- [ 1, 2, 3 ] 
</code></pre>
<p>The <code>+..</code> invokes the slice operator with an end position that is an increment from the start: <em>Planned Feature</em></p>
<pre><code class="language-cy">var list = [ 1, 2, 3, 4, 5 ]
list[2+..2]   -- [ 3, 4 ]
</code></pre>
<p>List operations.</p>
<pre><code class="language-cy">var list = [234]

-- Append a value.
list.append 123

-- Inserting a value at an index.
list.insert(1, 345)

-- Get the length.
print list.len()  -- Prints '2'

-- Sort the list in place.
list.sort((a, b) => a < b)

-- Iterating a list.
for list -> it:
    print it

-- Remove an element at a specific index.
list.remove(1)
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h2 id="tuples">Tuples. <a href="#tuples">#</a></h2>
<blockquote><p><em>Incomplete: Tuples can only be created from @host funcs at the moment.</em></p>
</blockquote><p><a href="#data-types" title="">parent</a></p>
<h2 id="maps">Maps. <a href="#maps">#</a></h2>
<p>Maps are a builtin type that store key value pairs in dictionaries. See <a href="#type-map" title=""><code>type Map</code></a>.</p>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="create-map">Create map. <a href="#create-map">#</a></h3>
<p>Create a map using key value pairs inside a collection literal:</p>
<pre><code class="language-cy">var map = [ a: 123, b: () => 5 ]
</code></pre>
<p>Maps entries can be listed in multiple lines:</p>
<pre><code class="language-cy">var map = [
    foo: 1,
    bar: 2,
]
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="empty-map">Empty map. <a href="#empty-map">#</a></h3>
<p>The empty map is initialized using <code>[:]</code>:</p>
<pre><code class="language-cy">var empty = [:]
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="map-indexing">Map indexing. <a href="#map-indexing">#</a></h3>
<p>Get a value from the map using the index operator:</p>
<pre><code class="language-cy">print map['a']
</code></pre>
<p>Maps can be accessed with the <code>.</code> dot operator as well:</p>
<pre><code class="language-cy">print map.a
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="map-operations">Map operations. <a href="#map-operations">#</a></h3>
<pre><code class="language-cy">var map = [:]

-- Set a key value pair.
map[123] = 234

-- Get the size of the map.
print map.size()

-- Remove an entry by key.
map.remove 123

-- Iterating a map.
for map -> [val, key]:
    print '$(key) -> $(val)'
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="map-block">Map block. <a href="#map-block">#</a></h3>
<p>Entries can also follow a collection literal block.
This gives structure to the entries and has
the added benefit of allowing multi-line lambdas.
<em>Planned Feature</em></p>
<pre><code class="language-cy">var colors = []:
    red: 0xFF0000
    green: 0x00FF00
    blue: 0x0000FF
    dump func (c):
        print c.red
        print c.green
        print c.blue

    -- Nested map.
    darker []: 
        red: 0xAA0000
        green: 0x00AA00
        blue: 0x0000AA
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h2 id="objects">Objects. <a href="#objects">#</a></h2>
<p>Any value that isn't a primitive is an object. You can declare your own object types using the <code>type object</code> declaration.
Object types are similar to structs and classes in other languages.
Unlike classes, there is no concept of inheritance at the language level.</p>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="fields">Fields. <a href="#fields">#</a></h3>
<p>Fields must be declared at the top of the <code>type object</code> block using <code>var</code> or <code>my</code>:</p>
<pre><code class="language-cy">type Node object:
    var value int
    var next  any
</code></pre>
<p>When fields are declared with <code>my</code> instead, they become dynamically typed.</p>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="instantiation">Instantiation. <a href="#instantiation">#</a></h3>
<p>New object instances are created using a leading type name and the field values in a collection literal:</p>
<pre><code class="language-cy">var node = [Node value: 123, next: none]
print node.value       -- Prints "123"
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="methods">Methods. <a href="#methods">#</a></h3>
<p>Methods allow invoking a function on an object instance using the <code>.</code> operator:</p>
<pre><code class="language-cy">type Node object:
    var value int
    var next  any

    func inc(n):
        value += n

    func incAndPrint():
        self.inc(321)
        print value

var n = [Node value: 123, next: none]
n.incAndPrint()         -- Prints "444"
</code></pre>
<p>Methods can also be declared outside of the type declaration. To distinguish a method from a type function, <code>self</code> must be provided as a parameter:</p>
<pre><code class="language-cy">func Node.getNext(self):
    return self.next
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="self-variable"><code>self</code> variable. <a href="#self-variable">#</a></h3>
<p>Type members can be implicitly referenced inside the method. <em>Incomplete: Only the type's fields can be referenced this way.</em></p>
<p>To reference members explicitly inside a method, use the builtin <code>self</code>:</p>
<pre><code class="language-cy">type Node object:
    var value int
    var next  any

    func double():
        return self.value * 2
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="type-functions">Type functions. <a href="#type-functions">#</a></h3>
<p>Type functions are declared outside of the <code>type</code> block with an explicit namespace path:</p>
<pre><code class="language-cy">type Node object:
    var value int
    var next  any

-- Declare namespace function inside `Node`.
func Node.new():
    return [Node value: 123, next: none]

var n = Node.new()
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h3 id="type-variables">Type variables. <a href="#type-variables">#</a></h3>
<p>Similarily, type variables are declared outside of the <code>type</code> block:</p>
<pre><code class="language-cy">-- Declare inside the `Node` namespace.
var Node.DefaultValue = 100

print Node.DefaultValue    -- Prints "100"
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h2 id="enums">Enums. <a href="#enums">#</a></h2>
<p>A new enum type can be declared with the <code>type enum</code> declaration.
An enum value can only be one of the unique symbols declared in the enum type.
By default, the symbols generate unique ids starting from 0.</p>
<pre><code class="language-cy">type Fruit enum:
    case apple
    case orange
    case banana
    case kiwi

var fruit = Fruit.kiwi
print fruit       -- 'Fruit.kiwi'
print int(fruit)  -- '3'
</code></pre>
<p>When the type of the value is known to be an enum, it can be assigned using a symbol literal.</p>
<pre><code class="language-cy">var fruit = Fruit.kiwi
fruit = .orange
print(fruit == Fruit.orange)   -- 'true'
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h2 id="symbols-1">Symbols. <a href="#symbols-1">#</a></h2>
<p>Symbol literals begin with <code>.</code>, followed by an identifier. They have their own global unique id.</p>
<pre><code class="language-cy">var currency = .usd
print(currency == .usd)   -- 'true'
print int(currency)       -- '123' or some arbitrary id.
</code></pre>
<p><a href="#data-types" title="">parent</a></p>
<h1 id="control-flow">Control Flow. <a href="#control-flow">#</a></h1>
<table><tr>
<td valign="top">
<ul>
<li><a href="#branching" title="">Branching.</a><ul>
<li><a href="#if-statement" title=""><code>if</code> statement.</a></li>
<li><a href="#conditional-expression" title="">Conditional expression.</a></li>
<li><a href="#andor" title="">and/or.</a></li>
</ul>
</li>
<li><a href="#iterations" title="">Iterations.</a><ul>
<li><a href="#infinite-loop" title="">Infinite loop.</a></li>
<li><a href="#conditional-loop" title="">Conditional loop.</a></li>
<li><a href="#unwrapping-loop" title="">Unwrapping loop.</a></li>
<li><a href="#for-range" title=""><code>for</code> range.</a></li>
<li><a href="#for-each" title=""><code>for</code> each.</a></li>
<li><a href="#for-each-with-index" title=""><code>for</code> each with index.</a></li>
<li><a href="#exit-loop" title="">Exit loop.</a></li>
<li><a href="#next-iteration" title="">Next iteration.</a></li>
</ul>
</li>
</ul>
</td><td valign="top">
<ul>
<li><a href="#switch-matching" title=""><code>switch</code> matching.</a><ul>
<li><a href="#switch-assignment" title=""><code>switch</code> assignment.</a></li>
<li><a href="#switch-break" title=""><code>switch</code> break.</a></li>
</ul>
</li>
<li><a href="#trycatch" title="">Try/Catch.</a></li>
<li><a href="#deferred-execution" title="">Deferred Execution.</a></li>
</ul>
</td>
</tr></table>
<p><a href="#table-of-contents" title="">top</a></p>
<p>Cyber provides the common constructs to branch and enter loops.</p>
<h2 id="branching">Branching. <a href="#branching">#</a></h2>
<h3 id="if-statement"><code>if</code> statement. <a href="#if-statement">#</a></h3>
<p>Use <code>if</code> and <code>else</code> statements to branch the execution of your code depending on conditions. The <code>else</code> clause can contain a condition which is only evaluated if the previous if or conditional else clause was <code>false</code>.</p>
<pre><code class="language-cy">var a = 10
if a == 10:
    print 'a is 10'
else a == 20:
    print 'a is 20'
else:
    print 'neither 10 nor 20'
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h3 id="conditional-expression">Conditional expression. <a href="#conditional-expression">#</a></h3>
<p>A conditional branch expression evaluates a condition and returns either the true value or false value:</p>
<pre><code class="language-cy">var a = 10
var str = a == 10 ? 'red' else 'blue'
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h3 id="andor"><code>and</code>/<code>or</code> <a href="#andor">#</a></h3>
<p>Use <code>and</code> and <code>or</code> logical operators to combine conditions:</p>
<pre><code class="language-cy">var a = 10
if a > 5 and a < 15:
    print 'a is between 5 and 15'
if a == 20 or a == 10: 
    print 'a is 10 or 20'
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h2 id="iterations">Iterations. <a href="#iterations">#</a></h2>
<h3 id="infinite-loop">Infinite loop. <a href="#infinite-loop">#</a></h3>
<p>The <code>while</code> keyword starts an infinite loop which continues to run the code in the block until a <code>break</code> or <code>return</code> is reached.</p>
<pre><code class="language-cy">var count = 0
while:
    if count > 100:
        break
    count += 1
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h3 id="conditional-loop">Conditional loop. <a href="#conditional-loop">#</a></h3>
<p>When the <code>while</code> clause contains a condition, the loop continues to run until the condition is evaluated to <code>false</code>:</p>
<pre><code class="language-cy">var running = true
var count = 0
while running:
    if count > 100:
        running = false
    count += 1
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h3 id="unwrapping-loop">Unwrapping loop. <a href="#unwrapping-loop">#</a></h3>
<p>Using the capture operator <code>-></code> unwraps the left optional value to the right variable declaration. The loop exits when the left value is <code>none</code>:</p>
<pre><code class="language-cy">var iter = dir.walk()
while iter.next() -> entry:
    print entry.name
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h3 id="for-range"><code>for</code> range. <a href="#for-range">#</a></h3>
<p><code>for</code> loops can iterate over a range that starts at an <code>int</code> (inclusive) to a target <code>int</code> (exclusive).
The capture operator <code>-></code> is used to capture the loop's counter variable:</p>
<pre><code class="language-cy">for 0..4:
    performAction() 

for 0..100 -> i:
    print i    -- 0, 1, 2, ... , 99
</code></pre>
<p>To decrement the counter instead, use <code>-..</code>:</p>
<pre><code class="language-cy">for 100-..0 -> i:
    print i    -- 100, 99, 98, ... , 1
</code></pre>
<p>When the range operator <code>..</code> is replaced with <code>..=</code>, the target <code>int</code> is inclusive: <em>Planned Feature</em></p>
<pre><code class="language-cy">for 0..=100 -> i:
    print i    -- 0, 1, 2, ... , 100
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h3 id="for-each"><code>for</code> each. <a href="#for-each">#</a></h3>
<p>The <code>for</code> clause can iterate over any type that implements the <code>Iterable</code> trait. An Iterable contains an <code>iterator()</code> method which returns an <code>Iterator</code> object. The for loop continually invokes the Iterator's <code>next()</code> method until <code>none</code> is returned.</p>
<p>Lists can be iterated since they implement the Iterable trait. The capture operator <code>-></code> is used to capture the value returned from an iterator's <code>next()</code>:</p>
<pre><code class="language-cy">var list = [1, 2, 3, 4, 5]

for list -> n:
    print n
</code></pre>
<p>Maps can be iterated. <code>next()</code> returns a key and value tuple:</p>
<pre><code class="language-cy">var map = [ a: 123, b: 234 ]

for map -> entry:
    print entry[0]
    print entry[1]
</code></pre>
<p>Use the destructure syntax to extract the key and value into two separate variables:</p>
<pre><code class="language-cy">for map -> [ key, val ]:
    print 'key $(key) -> value $(val)'
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h3 id="for-each-with-index"><code>for</code> each with index. <a href="#for-each-with-index">#</a></h3>
<p>A counting index can be declared after the each variable. The count starts at 0 for the first value:</p>
<pre><code class="language-cy">var list = [1, 2, 3, 4, 5]

for list -> val, i:
    print 'index $(i), value $(val)'
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h3 id="exit-loop">Exit loop. <a href="#exit-loop">#</a></h3>
<p>Use <code>break</code> to exit a loop. This loop stops printing once <code>i</code> reaches 4:</p>
<pre><code class="language-cy">for 0..10 -> i:
    if i == 4:
        break
    print i
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h3 id="next-iteration">Next iteration. <a href="#next-iteration">#</a></h3>
<p>Use <code>continue</code> to skip the rest of the loop and go to the next iteration.
This loop prints 0 through 9 but skips 4:</p>
<pre><code class="language-cy">for 0..10 -> i:
    if i == 4:
        continue
    print i
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h2 id="switch-matching"><code>switch</code> matching. <a href="#switch-matching">#</a></h2>
<p>The <code>switch</code> statement branches to a case block from a matching case condition. The expression that is matched against comes after switch statement. Multiple cases can be grouped together using a comma separator. An optional <code>else</code> fallback case is executed when no other cases were matched.
<em>Incomplete: Not all types can be used in the case conditions such as ranges.</em></p>
<pre><code class="language-cy">var val = 1000
switch val:
case 0..100: print 'at or between 0 and 99'
case 100   : print 'val is 100'
case 200:
    print 'val is 200'
case 300, 400:
    print 'combined case'
else:
    print 'val is $(val)'
</code></pre>
<p>Note that the <code>switch</code> block must be empty and requires at least one <code>case</code> block or an <code>else</code> block to come after it.</p>
<p><a href="#control-flow" title="">parent</a></p>
<h3 id="switch-assignment"><code>switch</code> assignment. <a href="#switch-assignment">#</a></h3>
<p>Although <code>switch</code> can not be used freely as an expression, it can be assigned to a left variable or destination:</p>
<pre><code class="language-cy">var shu = switch pepper:
case 'bell'     => 0
case 'anaheim'  => 500
case 'jalape√±o' => 2000
case 'serrano'  => 10000
</code></pre>
<p>When declaring an assignable switch, the cases must have a return value using the syntax <code>case {cond} => {expr}</code> or <code>else => {expr}</code>.</p>
<p><a href="#control-flow" title="">parent</a></p>
<h3 id="switch-break"><code>switch</code> break. <a href="#switch-break">#</a></h3>
<p>A <code>break</code> statement exits the current case block and resumes execution after the end of the switch statement: <em>Planned Feature</em></p>
<pre><code class="language-cy">switch value:
case 0..5:
    print value
    if value == 3:
        break case
    print value    -- Skips second print if `value` is 3.
</code></pre>
<p><a href="#control-flow" title="">parent</a></p>
<h2 id="trycatch">Try/Catch. <a href="#trycatch">#</a></h2>
<p>The <code>try catch</code> statement, <code>try else</code> and <code>try</code> expressions provide a way to catch a throwing error and resume execution in a different branch. Learn more about <a href="#error-handling" title="">Error Handling</a>.</p>
<p><a href="#control-flow" title="">parent</a></p>
<h2 id="deferred-execution">Deferred Execution. <a href="#deferred-execution">#</a></h2>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#control-flow" title="">parent</a></p>
<h1 id="functions">Functions. <a href="#functions">#</a></h1>
<ul>
<li><a href="#static-functions" title="">Static functions.</a></li>
<li><a href="#function-overloading" title="">Function overloading.</a></li>
<li><a href="#lambdas" title="">Lambdas.</a></li>
<li><a href="#closures" title="">Closures.</a></li>
<li><a href="#named-parameters" title="">Named parameters.</a></li>
<li><a href="#optional-parameters" title="">Optional parameters.</a></li>
<li><a href="#variadic-parameters" title="">Variadic parameters.</a></li>
<li><a href="#function-calls" title="">Function calls.</a><ul>
<li><a href="#shorthand-syntax" title="">Shorthand syntax.</a></li>
<li><a href="#call-block-syntax" title="">Call block syntax.</a></li>
</ul>
</li>
</ul>
<p><a href="#table-of-contents" title="">top</a></p>
<p>In Cyber, there are first-class functions (or function values) and static functions.</p>
<h2 id="static-functions">Static functions. <a href="#static-functions">#</a></h2>
<p>Static functions are not initially values themselves. They allow function calls to be optimal since they don't need to resolve a dynamic value.</p>
<p>Static functions are declared with the <code>func</code> keyword and must have a name.</p>
<pre><code class="language-cy">import math

func dist(x0 float, y0 float, x1 float, y1 float) float:
    var dx = x0-x1
    var dy = y0-y1
    return math.sqrt(dx^2 + dy^2)
</code></pre>
<p>Calling static functions is straightforward. You can also reassign or pass them around as function values.</p>
<pre><code class="language-cy">print dist(0, 0, 10, 20)

-- Assigning to a local variable.
var bar = dist

-- Passing `dist` as an argument.
func squareDist(dist, size):
    return dist(0.0, 0.0, size, size)
    
print squareDist(dist, 30.0)
</code></pre>
<p>Functions can only return one value. However, the value can be destructured: <em>Planned Feature</em></p>
<pre><code class="language-cy">import {cos, sin} 'math'

func compute(rad):
    return [ cos(rad), sin(rad) ]

var [ x, y ] = compute(pi)
</code></pre>
<p><a href="#functions" title="">parent</a></p>
<h2 id="function-overloading">Function overloading. <a href="#function-overloading">#</a></h2>
<p>Functions can be overloaded by the number of parameters in its signature. <a href="#functions-1" title="">Typed functions</a> are further overloaded by their type signatures.</p>
<pre><code class="language-cy">func foo():
    return 2 + 2

func foo(n):
    return 10 + n

func foo(n, m):
    return n * m

print foo()         -- "4"
print foo(2)        -- "12"
print foo(20, 5)    -- "100"
</code></pre>
<p><a href="#functions" title="">parent</a></p>
<h2 id="lambdas">Lambdas. <a href="#lambdas">#</a></h2>
<p>Lambdas or function values can be assigned to variables or passed as arguments into other constructs.</p>
<p>When a lambda only returns an expression, it can be declared with a simplified syntax.</p>
<pre><code class="language-cy">-- Passing simple lambda as an argument.
foo(word => toUpper(word))

-- A simple lambda with multiple arguments.
foo((word, prefix) => prefix + toUpper(word))

-- Assigning a simple lambda.
canvas.onUpdate = delta_ms => print delta_ms
</code></pre>
<p>Lambdas that need a block of statements can be declared with the <code>func</code> keyword without a name.</p>
<pre><code class="language-cy">-- Assigning lambda block to a variable.
var add = func (a, b):
    return a + b

-- Passing a lambda block as an argument.
canvas.onUpdate():
    ..func (delta_ms):
        print delta_ms
</code></pre>
<p>Passing a lambda block as a call argument is only possible in a call block. <em>Planned Feature</em> See <a href="#function-calls" title="">Function calls</a>.</p>
<p><a href="#functions" title="">parent</a></p>
<h2 id="closures">Closures. <a href="#closures">#</a></h2>
<p>Lambdas can capture local variables from parent blocks. This example shows the lambda <code>f</code> capturing <code>a</code> from the main scope: <em>Incomplete, only variables one parent block away can be captured.</em></p>
<pre><code class="language-cy">var a = 1
var f = func():
    return a + 2
print f()         -- "3"
</code></pre>
<p>The following lambda expression captures <code>a</code> from the function <code>add</code>:</p>
<pre><code class="language-cy">func add():
    var a = 123
    return b => a + b
var addTo = add()
print addTo(10)   -- "133"
</code></pre>
<p>Like static variables, static functions can not reference local variables outside of their scope:</p>
<pre><code class="language-cy">var a = 1
func foo():
    print a       -- CompileError: Undeclared variable `a`.
</code></pre>
<p><a href="#functions" title="">parent</a></p>
<h2 id="named-parameters">Named parameters. <a href="#named-parameters">#</a></h2>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#functions" title="">parent</a></p>
<h2 id="optional-parameters">Optional parameters. <a href="#optional-parameters">#</a></h2>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#functions" title="">parent</a></p>
<h2 id="variadic-parameters">Variadic parameters. <a href="#variadic-parameters">#</a></h2>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#functions" title="">parent</a></p>
<h2 id="function-calls">Function calls. <a href="#function-calls">#</a></h2>
<p>The straightforward way to call a function is to use parentheses.</p>
<pre><code class="language-cy">var d = dist(100, 100, 200, 200)
</code></pre>
<p>You can call functions with named parameters.</p>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><pre><code class="language-cy">var d = dist(x0: 10, x1: 20, y0: 30, y1: 40)
</code></pre>
<p><a href="#functions" title="">parent</a></p>
<h3 id="shorthand-syntax">Shorthand syntax. <a href="#shorthand-syntax">#</a></h3>
<p>The shorthand method for calling functions omits parentheses and commas. This only works for functions that accept parameters:</p>
<blockquote><p><em>Incomplete: Only the most trivial cases work with the shorthand method. The case with operators being separated by spaces might not end up being implemented.</em></p>
</blockquote><pre><code class="language-cy">var d = dist 100 100 200 200  -- Calls the function `dist`.

func random():       -- Function with no parameters.
    return 4

var r = random       -- Returns the function itself as a value.
                     -- Does not call the function `random`.
r = random()         -- Calls the function `random`.
</code></pre>
<p>The top level arguments for the shorthand convention must be separated by whitespace. A string can contain whitespace since it's surrounded by delimiters.</p>
<pre><code class="language-cy">var a = myFunc 'cyber script'
</code></pre>
<p>The following has a binary expression with spaces inbetween which is not allowed. Removing that whitespace fixes the call expression.</p>
<pre><code class="language-cy">var a = myFunc 1 + 2     -- Not allowed.
a = myFunc 1+2       -- Correct.
</code></pre>
<p>Wrapping arguments in parentheses allows you to keep the whitespace in the sub-expression.</p>
<pre><code class="language-cy">-- This calls the function `myFunc` with 2 arguments.
var a = myFunc 'hello' (1 + 2 * 3)

-- Nested function call using the shorthand convention.
a = myFunc 'hello' (otherFunc 1+2 'world')
</code></pre>
<p><a href="#functions" title="">parent</a></p>
<h3 id="call-block-syntax">Call block syntax. <a href="#call-block-syntax">#</a></h3>
<p>The call expression block continues to add arguments from the block's body. If arguments are omitted from the initial call expression they can be added inside using the <code>..</code> syntax. Arguments mapped to named parameters have a key value syntax separated by a <code>:</code>. All other arguments are added into a list and passed as the last argument.</p>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><pre><code class="language-cy">foo(123):
    ..func ():
        return 123
    param3: 123
    234
    bar()
    'hello'
</code></pre>
<p>In the example above, the function <code>foo</code> is called with 4 arguments. The first argument <code>123</code> is included in the starting call expression. The second argument is a function value inside the call expression block. The third argument is mapped to the param <code>param3</code>. Finally, the fourth argument is a list that contains <code>234</code>, <code>bar()</code>, and <code>'hello'</code>.</p>
<p><a href="#functions" title="">parent</a></p>
<h1 id="modules">Modules. <a href="#modules">#</a></h1>
<table><tr>
<td valign="top">
<ul>
<li><a href="#importing" title="">Importing.</a></li>
<li><a href="#exporting" title="">Exporting.</a></li>
<li><a href="#module-uri" title="">Module URI.</a></li>
<li><a href="#visibility" title="">Visibility.</a></li>
<li><a href="#builtin-modules" title="">Builtin modules.</a></li>
<li><a href="#builtins" title="">builtins.</a><ul>
<li><a href="#type-bool" title=""><code>type bool</code></a></li>
<li><a href="#type-error" title=""><code>type error</code></a></li>
<li><a href="#type-int" title=""><code>type int</code></a></li>
<li><a href="#type-float" title=""><code>type float</code></a></li>
<li><a href="#type-list" title=""><code>type List</code></a></li>
<li><a href="#type-listiterator" title=""><code>type ListIterator</code></a></li>
<li><a href="#type-tuple" title=""><code>type tuple</code></a></li>
<li><a href="#type-map" title=""><code>type Map</code></a></li>
<li><a href="#type-mapiterator" title=""><code>type MapIterator</code></a></li>
<li><a href="#type-string" title=""><code>type string</code></a></li>
<li><a href="#type-array" title=""><code>type array</code></a></li>
<li><a href="#type-arrayiterator" title=""><code>type arrayIterator</code></a></li>
<li><a href="#type-pointer" title=""><code>type pointer</code></a></li>
<li><a href="#type-fiber" title=""><code>type Fiber</code></a></li>
<li><a href="#type-metatype" title=""><code>type metatype</code></a></li>
</ul>
</li>
</ul>
</td><td valign="top">
<ul>
<li><a href="#math" title="">math.</a></li>
<li><a href="#std-modules" title="">Std modules.</a></li>
<li><a href="#os" title="">os.</a><ul>
<li><a href="#type-file" title=""><code>type File</code></a></li>
<li><a href="#type-dir" title=""><code>type Dir</code></a></li>
<li><a href="#type-diriterator" title=""><code>type DirIterator</code></a></li>
<li><a href="#type-ffi" title=""><code>type FFI</code></a></li>
<li><a href="#type-carray" title=""><code>type CArray</code></a></li>
<li><a href="#type-cdimarray" title=""><code>type CDimArray</code></a></li>
<li><a href="#type-direntry" title=""><code>type DirEntry</code></a></li>
<li><a href="#type-dirwalkentry" title=""><code>type DirWalkEntry</code></a></li>
<li><a href="#type-argoption" title=""><code>type ArgOption</code></a></li>
<li><a href="#map-direntry" title=""><code>map DirEntry</code></a></li>
<li><a href="#map-dirwalkentry" title=""><code>map DirWalkEntry</code></a></li>
<li><a href="#map-argoption" title=""><code>map ArgOption</code></a></li>
</ul>
</li>
<li><a href="#test" title="">test.</a></li>
</ul>
</td>
</tr></table>
<p><a href="#table-of-contents" title="">top</a></p>
<p>Modules have their own namespace and contain accessible static symbols. By default, importing another Cyber script returns a module with its declared symbols.</p>
<h2 id="importing">Importing. <a href="#importing">#</a></h2>
<p>Import declarations create a local alias to the module referenced by the import specifier. The Cyber CLI comes with some builtin modules like <code>math</code> and <code>test</code>. If the specifier does not refer to a builtin module, it looks for a Cyber script file relative to the current script's directory. An embedder can integrate their own module loader and resolver.</p>
<pre><code class="language-cy">import test
test.eq(123, 123)

-- Imports are static declarations so they can be anywhere in the script.
import math
print math.cos(0)
</code></pre>
<p>When the imported alias needs to be renamed, the import specifier comes after the alias name and must be a string literal.</p>
<pre><code class="language-cy">import m 'math'
print m.random()

-- Loading a Cyber module from the local directory.
import foo 'bar.cy'
print foo.myFunc()
print foo.myVar
</code></pre>
<p>A Cyber script that is imported doesn't evaluate its main block. Only static declarations are effectively loaded. If there is code in the main block, it will skip evaluation. In the following, only the <code>print</code> statement in the <code>main.cy</code> is evaluated.</p>
<pre><code class="language-cy">-- main.cy
import a 'foo.cy'
print a.foo

-- foo.cy
import 'bar.cy'
var Root.foo = 123
print foo         -- Statement is ignored.

-- bar.cy
var Root.bar = 321
print bar         -- Statement is ignored.
</code></pre>
<p>You can have circular imports in Cyber. In the following example, <code>main.cy</code> and <code>foo.cy</code> import each other without any problems.</p>
<pre><code class="language-cy">-- main.cy
import foo 'foo.cy'

func printB():
    foo.printC()

foo.printA()

-- foo.cy
import main 'main.cy'

func printA():
    main.printB()

func printC():
    print 'done'
</code></pre>
<p>Static variable declarations from imports can have circular references. Read more about this in <a href="#static-variables" title="">Static Variables</a>.</p>
<p>Modules can also be destructured using the following syntax:</p>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><pre><code class="language-cy">import { cos, pi } 'math'
print cos(pi)
</code></pre>
<p><a href="#modules" title="">parent</a></p>
<h2 id="exporting">Exporting. <a href="#exporting">#</a></h2>
<p>All static declarations are exported when the script's module is loaded.</p>
<pre><code class="language-cy">func foo():         -- Exported static function.
    print 123

var Root.bar = 234  -- Exported static variable.

type Thing object:  -- Exported type.
    var a float
</code></pre>
<p><a href="#modules" title="">parent</a></p>
<h2 id="module-uri">Module URI. <a href="#module-uri">#</a></h2>
<p>To get the absolute path of the current module, reference the compile-time variable <code>ModUri</code>.
This can be used with <code>os.dirName</code> to get the current module directory.</p>
<pre><code class="language-cy">print #ModUri              -- Prints '/some/path/foo.cy'

import os
print os.dirName(#ModUri)  -- Prints '/some/path'
</code></pre>
<p><a href="#modules" title="">parent</a></p>
<h2 id="visibility">Visibility. <a href="#visibility">#</a></h2>
<p>The annotation <code>@hide</code> provides a hint to editors that a static symbol should not appear in the auto-complete. Despite this, the symbol is still reachable.</p>
<p><a href="#modules" title="">parent</a></p>
<h2 id="builtin-modules">Builtin modules. <a href="#builtin-modules">#</a></h2>
<p>Builtin modules are the bare minimum that comes with Cyber. The <a href="#embedding" title="">embeddable library</a> contains these modules and nothing more. They include:</p>
<ul>
<li><a href="#builtins" title="">builtins</a>: Cyber related functions and commonly used utilities.</li>
<li><a href="#math" title="">math</a>: Math constants and functions.</li>
</ul>
<p><a href="#modules" title="">parent</a></p>
<h2 id="builtins">builtins. <a href="#builtins">#</a></h2>
<p>The <code>builtins</code> module contains functions related to Cyber and common utilities. It is automatically imported into each script's namespace.</p>
<p>Sample usage:</p>
<pre><code class="language-cy">-- `print` and `typeof` are available without imports.
print 'hello'
print typeof('my str').id()
</code></pre>
<p><a href="#modules" title="">parent</a></p>
<!-- builtins.start -->
<blockquote><p><code>func copy(val any) any</code></p>
<p>Copies a primitive value or creates a shallow copy of an object value.</p>
</blockquote><blockquote><p><code>func dump(val any) none</code></p>
<p>Prints the result of <code>toCyon</code> on a value.</p>
</blockquote><blockquote><p><code>func errorReport() string</code></p>
</blockquote><blockquote><p><code>func getObjectRc(val any) int</code></p>
<p>Returns the current reference count of an object.</p>
</blockquote><blockquote><p><code>func is(a any, b any) bool</code></p>
<p>Returns whether two values refer to the same instance.</p>
</blockquote><blockquote><p><code>func isAlpha(val int) bool</code></p>
<p>Returns whether a rune is an alphabetic letter.</p>
</blockquote><blockquote><p><code>func isDigit(val int) bool</code></p>
<p>Returns whether a rune is a digit.</p>
</blockquote><blockquote><p><code>func must(val any) any</code></p>
<p>If <code>val</code> is an error, <code>panic(val)</code> is invoked. Otherwise, <code>val</code> is returned.</p>
</blockquote><blockquote><p><code>func panic(err any) none</code></p>
<p>Stop execution in the current fiber and starts unwinding the call stack. See <a href="#unexpected-errors" title="">Unexpected Errors</a>.</p>
</blockquote><blockquote><p><code>func parseCyber(src string) Map</code></p>
<p>Parses Cyber source string into structured map object.  Currently, only metadata about static declarations is made available but this will be extended to include an AST.</p>
</blockquote><blockquote><p><code>func parseCyon(src string) any</code></p>
<p>Parses a CYON string into a value.</p>
</blockquote><blockquote><p><code>func performGC() Map</code></p>
<p>Runs the garbage collector once to detect reference cycles and abandoned objects.  Returns the statistics of the run in a map value.</p>
</blockquote><blockquote><p><code>func print(str any) none</code></p>
<p>Prints a value. The host determines how it is printed.</p>
</blockquote><blockquote><p><code>func runestr(val int) string</code></p>
<p>Converts a rune to a string.</p>
</blockquote><blockquote><p><code>func toCyon(val any) string</code></p>
<p>Encodes a value to CYON string.</p>
</blockquote><blockquote><p><code>func typeof(val any) metatype</code></p>
<p>Returns the value's type as a <code>metatype</code> object.</p>
</blockquote><blockquote><p><code>func typesym(val any) symbol</code></p>
<p>Returns the value's type as one of the predefined symbols:  .float, .int, .bool, .object, .list, .map, .string, .array, .function, .fiber, .pointer, .symbol, .metatype, .none, .error</p>
</blockquote><h3 id="type-bool"><code>type bool</code> <a href="#type-bool">#</a></h3>
<blockquote><p><code>func bool.'$call'(val any) bool</code></p>
<p>Converts a value to either <code>true</code> or <code>false</code>.</p>
</blockquote><h3 id="type-error"><code>type error</code> <a href="#type-error">#</a></h3>
<blockquote><p><code>func sym() symbol</code></p>
<p>Return the underlying <code>symbol</code>.</p>
</blockquote><blockquote><p><code>func error.'$call'(val any) error</code></p>
<p>Create an error from an enum or symbol.</p>
</blockquote><h3 id="type-int"><code>type int</code> <a href="#type-int">#</a></h3>
<blockquote><p><code>func $prefix~() int</code></p>
</blockquote><blockquote><p><code>func $prefix-() int</code></p>
</blockquote><blockquote><p><code>func $infix<(o any) bool</code></p>
</blockquote><blockquote><p><code>func $infix<=(o any) bool</code></p>
</blockquote><blockquote><p><code>func $infix>(o any) bool</code></p>
</blockquote><blockquote><p><code>func $infix>=(o any) bool</code></p>
</blockquote><blockquote><p><code>func $infix+(o any) int</code></p>
</blockquote><blockquote><p><code>func $infix-(o any) int</code></p>
</blockquote><blockquote><p><code>func $infix*(o any) int</code></p>
</blockquote><blockquote><p><code>func $infix/(o any) int</code></p>
</blockquote><blockquote><p><code>func $infix%(o any) int</code></p>
</blockquote><blockquote><p><code>func $infix^(o any) int</code></p>
</blockquote><blockquote><p><code>func $infix&(o any) int</code></p>
</blockquote><blockquote><p><code>func $infix|(o any) int</code></p>
</blockquote><blockquote><p><code>func $infix||(o any) int</code></p>
</blockquote><blockquote><p><code>func $infix<<(o any) int</code></p>
</blockquote><blockquote><p><code>func $infix>>(o any) int</code></p>
</blockquote><blockquote><p><code>func fmt(kind symbol) string</code></p>
<p>Formats the integer using a kind specifier which can be binary <code>.b</code>,  octal <code>.o</code>, decimal <code>.d</code>, hexadecimal <code>.x</code>, ASCII <code>.c</code>.</p>
</blockquote><blockquote><p><code>func fmt(kind symbol, opts Map) string</code></p>
<p><code>opts.pad</code> provides the ASCII rune that is used for padding with a string length of <code>opts.width</code>.</p>
</blockquote><blockquote><p><code>func int.'$call'(val any) int</code></p>
<p>Converts a value to an 48-bit integer.</p>
</blockquote><h3 id="type-float"><code>type float</code> <a href="#type-float">#</a></h3>
<blockquote><p><code>func $prefix-() float</code></p>
</blockquote><blockquote><p><code>func $infix<(o any) bool</code></p>
</blockquote><blockquote><p><code>func $infix<=(o any) bool</code></p>
</blockquote><blockquote><p><code>func $infix>(o any) bool</code></p>
</blockquote><blockquote><p><code>func $infix>=(o any) bool</code></p>
</blockquote><blockquote><p><code>func $infix+(o any) float</code></p>
</blockquote><blockquote><p><code>func $infix-(o any) float</code></p>
</blockquote><blockquote><p><code>func $infix*(o any) float</code></p>
</blockquote><blockquote><p><code>func $infix/(o any) float</code></p>
</blockquote><blockquote><p><code>func $infix%(o any) float</code></p>
</blockquote><blockquote><p><code>func $infix^(o any) float</code></p>
</blockquote><blockquote><p><code>func float.'$call'(val any) float</code></p>
<p>Converts the value to a <code>float</code>. Panics if type conversion fails.</p>
</blockquote><h3 id="type-list"><code>type List</code> <a href="#type-list">#</a></h3>
<blockquote><p><code>func $index(idx any) any</code></p>
</blockquote><blockquote><p><code>func $setIndex(idx any, val any) none</code></p>
</blockquote><blockquote><p><code>func $slice(start any, end any) List</code></p>
</blockquote><blockquote><p><code>func append(val any) none</code></p>
<p>Appends a value to the end of the list.</p>
</blockquote><blockquote><p><code>func concat(list List) none</code></p>
<p>Concats the elements of another list to the end of this list.</p>
</blockquote><blockquote><p><code>func insert(idx int, val any) none</code></p>
<p>Inserts a value at index <code>idx</code>.</p>
</blockquote><blockquote><p><code>func iterator() ListIterator</code></p>
<p>Returns a new iterator over the list elements.</p>
</blockquote><blockquote><p><code>func join(sep string) string</code></p>
<p>Returns a new string that joins the elements with <code>separator</code>.</p>
</blockquote><blockquote><p><code>func len() int</code></p>
<p>Returns the number of elements in the list.</p>
</blockquote><blockquote><p><code>func remove(idx int) none</code></p>
<p>Removes an element at index <code>idx</code>.</p>
</blockquote><blockquote><p><code>func resize(size int) none</code></p>
<p>Resizes the list to <code>len</code> elements. If the new size is bigger, <code>none</code> values  are appended to the list. If the new size is smaller, elements at the end of the list are removed.</p>
</blockquote><blockquote><p><code>func slice(start any, end any) List</code></p>
</blockquote><blockquote><p><code>func List.fill(val any, n int) List</code></p>
<p>Creates a list with initial capacity of <code>n</code> and values set to <code>val</code>.  If the value is an object, it is shallow copied <code>n</code> times.</p>
</blockquote><h3 id="type-listiterator"><code>type ListIterator</code> <a href="#type-listiterator">#</a></h3>
<blockquote><p><code>func next() any</code></p>
</blockquote><h3 id="type-tuple"><code>type tuple</code> <a href="#type-tuple">#</a></h3>
<blockquote><p><code>func $index(idx int) any</code></p>
</blockquote><h3 id="type-map"><code>type Map</code> <a href="#type-map">#</a></h3>
<blockquote><p><code>func $index(key any) any</code></p>
</blockquote><blockquote><p><code>func $setIndex(key any, val any) none</code></p>
</blockquote><blockquote><p><code>func remove(key any) none</code></p>
<p>Removes the element with the given key <code>key</code>.</p>
</blockquote><blockquote><p><code>func size() int</code></p>
<p>Returns the number of key-value pairs in the map.</p>
</blockquote><blockquote><p><code>func iterator() MapIterator</code></p>
<p>Returns a new iterator over the map elements.</p>
</blockquote><h3 id="type-mapiterator"><code>type MapIterator</code> <a href="#type-mapiterator">#</a></h3>
<blockquote><p><code>func next() any</code></p>
</blockquote><h3 id="type-string"><code>type string</code> <a href="#type-string">#</a></h3>
<blockquote><p><code>func $infix+(o any) string</code></p>
</blockquote><blockquote><p><code>func concat(o string) string</code></p>
<p>Returns a new string that concats this string and <code>str</code>.</p>
</blockquote><blockquote><p><code>func endsWith(suffix string) bool</code></p>
<p>Returns whether the string ends with <code>suffix</code>.</p>
</blockquote><blockquote><p><code>func find(needle string) any</code></p>
<p>Returns the first index of substring <code>needle</code> in the string or <code>none</code> if not found. SIMD enabled.</p>
</blockquote><blockquote><p><code>func findAnyRune(runes string) any</code></p>
<p>Returns the first index of any UTF-8 rune in <code>runes</code> or <code>none</code> if not found. SIMD enabled.</p>
</blockquote><blockquote><p><code>func findRune(rune int) int</code></p>
<p>Returns the first index of UTF-8 rune <code>needle</code> in the string or <code>none</code> if not found. SIMD enabled.</p>
</blockquote><blockquote><p><code>func insert(idx int, str string) string</code></p>
<p>Returns a new string with <code>str</code> inserted at index <code>idx</code>.</p>
</blockquote><blockquote><p><code>func isAscii() bool</code></p>
<p>Returns whether the string contains all ASCII runes.</p>
</blockquote><blockquote><p><code>func len() int</code></p>
<p>Returns the number of UTF-8 runes in the string.</p>
</blockquote><blockquote><p><code>func less(other string) bool</code></p>
<p>Returns whether this string is lexicographically before <code>other</code>.</p>
</blockquote><blockquote><p><code>func lower() string</code></p>
<p>Returns this string in lowercase.</p>
</blockquote><blockquote><p><code>func replace(needle string, replacement string) string</code></p>
<p>Returns a new string with all occurrences of <code>needle</code> replaced with <code>replacement</code>.</p>
</blockquote><blockquote><p><code>func repeat(n int) string</code></p>
<p>Returns a new string with this string repeated <code>n</code> times.</p>
</blockquote><blockquote><p><code>func runeAt(n int) int</code></p>
<p>Returns the UTF-8 rune at index <code>idx</code>.</p>
</blockquote><blockquote><p><code>func slice(start any, end any) string</code></p>
<p>Returns a slice into this string from <code>start</code> to <code>end</code> (exclusive) indexes. This is equivalent to using the slice index operator <code>[start..end]</code>.</p>
</blockquote><blockquote><p><code>func $slice(start any, end any) string</code></p>
</blockquote><blockquote><p><code>func sliceAt(idx int) string</code></p>
<p>Returns the UTF-8 rune at index <code>idx</code> as a single rune string.</p>
</blockquote><blockquote><p><code>func $index(idx int) string</code></p>
</blockquote><blockquote><p><code>func split(sep string) List</code></p>
<p>Returns a list of UTF-8 strings split at occurrences of <code>sep</code>.</p>
</blockquote><blockquote><p><code>func startsWith(prefix string) bool</code></p>
<p>Returns whether the string starts with <code>prefix</code>.</p>
</blockquote><blockquote><p><code>func trim(mode symbol, delims string) string</code></p>
<p>Returns the string with ends trimmed from runes in <code>delims</code>. <code>mode</code> can be .left, .right, or .ends.</p>
</blockquote><blockquote><p><code>func upper() string</code></p>
<p>Returns this string in uppercase.</p>
</blockquote><blockquote><p><code>func string.'$call'(val any) string</code></p>
<p>Converts a value to a string.</p>
</blockquote><h3 id="type-array"><code>type array</code> <a href="#type-array">#</a></h3>
<blockquote><p><code>func $infix+(o any) array</code></p>
</blockquote><blockquote><p><code>func concat(other array) array</code></p>
<p>Returns a new array that concats this array and <code>other</code>.</p>
</blockquote><blockquote><p><code>func decode() string</code></p>
<p>Calls decode(.utf8)</p>
</blockquote><blockquote><p><code>func decode(encoding symbol) string</code></p>
<p>Decodes the array based on an <code>encoding</code>. Supported encodings: <code>.utf8</code>.  Returns the decoded string or throws <code>error.Decode</code>.</p>
</blockquote><blockquote><p><code>func endsWith(suffix array) bool</code></p>
<p>Returns whether the array ends with <code>suffix</code>.</p>
</blockquote><blockquote><p><code>func find(needle array) any</code></p>
<p>Returns the first index of <code>needle</code> in the array or <code>none</code> if not found.</p>
</blockquote><blockquote><p><code>func findAnyByte(bytes array) any</code></p>
<p>Returns the first index of any <code>bytes</code> in <code>arrays</code> or <code>none</code> if not found.</p>
</blockquote><blockquote><p><code>func findByte(byte int) any</code></p>
<p>Returns the first index of <code>byte</code> in the array or <code>none</code> if not found.</p>
</blockquote><blockquote><p><code>func fmt(kind symbol) string</code></p>
<p>Formats each byte in the array using a kind specifier which can be binary <code>.b</code>,  octal <code>.o</code>, decimal <code>.d</code>, hexadecimal <code>.x</code>, ASCII <code>.c</code>.  Each byte is zero padded.</p>
</blockquote><blockquote><p><code>func getByte(idx int) int</code></p>
<p>Returns the byte value (0-255) at the given index <code>idx</code>.</p>
</blockquote><blockquote><p><code>func getInt(idx int, endian symbol) int</code></p>
<p>Returns the int value of the 6 bytes starting from <code>idx</code> with the given endianness (.little or .big).</p>
</blockquote><blockquote><p><code>func getInt32(idx int, endian symbol) int</code></p>
<p>Returns the int value of the 4 bytes starting from <code>idx</code> with the given endianness (.little or .big).</p>
</blockquote><blockquote><p><code>func insert(idx int, arr array) array</code></p>
<p>Returns a new array with <code>arr</code> inserted at index <code>idx</code>.</p>
</blockquote><blockquote><p><code>func insertByte(idx int, byte int) array</code></p>
<p>Returns a new array with <code>byte</code> inserted at index <code>idx</code>.</p>
</blockquote><blockquote><p><code>func len() int</code></p>
<p>Returns the number of bytes in the array.</p>
</blockquote><blockquote><p><code>func repeat(n int) array</code></p>
<p>Returns a new array with this array repeated <code>n</code> times.</p>
</blockquote><blockquote><p><code>func replace(needle array, replacement array) array</code></p>
<p>Returns a new array with all occurrences of <code>needle</code> replaced with <code>replacement</code>.</p>
</blockquote><blockquote><p><code>func slice(start any, end any) array</code></p>
<p>Returns a slice into this array from <code>start</code> to <code>end</code> (exclusive) indexes. This is equivalent to using the slice index operator <code>[start..end]</code>.</p>
</blockquote><blockquote><p><code>func $slice(start any, end any) array</code></p>
</blockquote><blockquote><p><code>func $index(idx int) int</code></p>
</blockquote><blockquote><p><code>func split(sep array) List</code></p>
<p>Returns a list of arrays split at occurrences of <code>sep</code>.</p>
</blockquote><blockquote><p><code>func startsWith(prefix array) bool</code></p>
<p>Returns whether the array starts with <code>prefix</code>.</p>
</blockquote><blockquote><p><code>func trim(mode symbol, delims array) array</code></p>
<p>Returns the array with ends trimmed from runes in <code>delims</code>. <code>mode</code> can be .left, .right, or .ends.</p>
</blockquote><blockquote><p><code>func array.'$call'(val any) array</code></p>
<p>Converts a string to an byte <code>array</code>.</p>
</blockquote><h3 id="type-arrayiterator"><code>type arrayIterator</code> <a href="#type-arrayiterator">#</a></h3>
<h3 id="type-pointer"><code>type pointer</code> <a href="#type-pointer">#</a></h3>
<blockquote><p><code>func addr() int</code></p>
<p>Returns the memory address as an <code>int</code>. The value may be negative since it's  bitcasted from an unsigned 48-bit integer but it retains the original pointer bits.</p>
</blockquote><blockquote><p><code>func asObject() any</code></p>
<p>Unsafe. Casts the pointer to a Cyber object. The object is retained before it's returned.</p>
</blockquote><blockquote><p><code>func fromCstr(offset int) array</code></p>
<p>Unsafe. Returns an <code>array</code> from a null terminated C string.</p>
</blockquote><blockquote><p><code>func get(offset int, ctype symbol) any</code></p>
<p>Unsafe. Dereferences the pointer at a byte offset and returns the C value converted to Cyber.</p>
</blockquote><blockquote><p><code>func set(offset int, ctype symbol, val any) none</code></p>
<p>Unsafe. Converts the value to a compatible C value and writes it to a byte offset from this pointer.</p>
</blockquote><blockquote><p><code>func toArray(offset int, len int) array</code></p>
<p>Unsafe. Returns an <code>array</code> with a copy of the byte data starting from an offset to the specified length.</p>
</blockquote><blockquote><p><code>func pointer.'$call'(val any) pointer</code></p>
<p>Converts a <code>int</code> to a <code>pointer</code> value, or casts to a <code>pointer</code>. This is usually used with FFI.</p>
</blockquote><h3 id="type-externfunc"><code>type ExternFunc</code> <a href="#type-externfunc">#</a></h3>
<blockquote><p><code>func addr() int</code></p>
<p>Returns the memory address as an <code>int</code>. The value may be negative since it's  bitcasted from an unsigned 48-bit integer but it retains the original pointer bits.</p>
</blockquote><h3 id="type-fiber"><code>type Fiber</code> <a href="#type-fiber">#</a></h3>
<blockquote><p><code>func status() symbol</code></p>
</blockquote><h3 id="type-metatype"><code>type metatype</code> <a href="#type-metatype">#</a></h3>
<blockquote><p><code>func id() int</code></p>
</blockquote><!-- builtins.end -->
<h2 id="math">math. <a href="#math">#</a></h2>
<p>The math module contains commonly used math constants and functions.</p>
<p>Sample usage:</p>
<pre><code class="language-cy">import math

var r = 10.0
print(math.pi * r^2)
</code></pre>
<p><a href="#modules" title="">parent</a></p>
<!-- math.start -->
<blockquote><p><code>var e float</code></p>
<p>Euler's number and the base of natural logarithms; approximately 2.718.</p>
</blockquote><blockquote><p><code>var inf float</code></p>
<p>Infinity.</p>
</blockquote><blockquote><p><code>var log10e float</code></p>
<p>Base-10 logarithm of E; approximately 0.434.</p>
</blockquote><blockquote><p><code>var log2e float</code></p>
<p>Base-2 logarithm of E; approximately 1.443.</p>
</blockquote><blockquote><p><code>var ln10 float</code></p>
<p>Natural logarithm of 10; approximately 2.303.</p>
</blockquote><blockquote><p><code>var ln2 float</code></p>
<p>Natural logarithm of 2; approximately 0.693.</p>
</blockquote><blockquote><p><code>var maxSafeInt float</code></p>
<p>The maximum integer value that can be safely represented as a float. 2^53-1 or 9007199254740991.</p>
</blockquote><blockquote><p><code>var minSafeInt float</code></p>
<p>The minumum integer value that can be safely represented as a float. -(2^53-1) or -9007199254740991.</p>
</blockquote><blockquote><p><code>var nan float</code></p>
<p>Not a number. Note that nan == nan.  However, if a nan came from an arithmetic operation, the comparison is undefined.  Use <code>isNaN</code> instead.</p>
</blockquote><blockquote><p><code>var neginf float</code></p>
<p>Negative infinity.</p>
</blockquote><blockquote><p><code>var pi float</code></p>
<p>Ratio of a circle's circumference to its diameter; approximately 3.14159.</p>
</blockquote><blockquote><p><code>var sqrt1_2 float</code></p>
<p>Square root of ¬Ω; approximately 0.707.</p>
</blockquote><blockquote><p><code>var sqrt2 float</code></p>
<p>Square root of 2; approximately 1.414.</p>
</blockquote><blockquote><p><code>func abs(a float) float</code></p>
<p>Returns the absolute value of x.</p>
</blockquote><blockquote><p><code>func acos(a float) float</code></p>
<p>Returns the arccosine of x.</p>
</blockquote><blockquote><p><code>func acosh(a float) float</code></p>
<p>Returns the hyperbolic arccosine of x.</p>
</blockquote><blockquote><p><code>func asin(a float) float</code></p>
<p>Returns the arcsine of x.</p>
</blockquote><blockquote><p><code>func asinh(a float) float</code></p>
<p>Returns the hyperbolic arcsine of a number.</p>
</blockquote><blockquote><p><code>func atan(a float) float</code></p>
<p>Returns the arctangent of x.</p>
</blockquote><blockquote><p><code>func atan2(a float, b float) float</code></p>
<p>Returns the arctangent of the quotient of its arguments.</p>
</blockquote><blockquote><p><code>func atanh(a float) float</code></p>
<p>Returns the hyperbolic arctangent of x.</p>
</blockquote><blockquote><p><code>func cbrt(a float) float</code></p>
<p>Returns the cube root of x.</p>
</blockquote><blockquote><p><code>func ceil(a float) float</code></p>
<p>Returns the smallest integer greater than or equal to x.</p>
</blockquote><blockquote><p><code>func clz32(a float) float</code></p>
<p>Returns the number of leading zero bits of the 32-bit integer x.</p>
</blockquote><blockquote><p><code>func cos(a float) float</code></p>
<p>Returns the cosine of x.</p>
</blockquote><blockquote><p><code>func cosh(a float) float</code></p>
<p>Returns the hyperbolic cosine of x.</p>
</blockquote><blockquote><p><code>func exp(a float) float</code></p>
<p>Returns e^x, where x is the argument, and e is Euler's number (2.718‚Ä¶, the base of the natural logarithm).</p>
</blockquote><blockquote><p><code>func expm1(a float) float</code></p>
<p>Returns subtracting 1 from exp(x).</p>
</blockquote><blockquote><p><code>func floor(a float) float</code></p>
<p>Returns the largest integer less than or equal to x.</p>
</blockquote><blockquote><p><code>func frac(a float) float</code></p>
<p>Returns the fractional or decimal part of a float value.</p>
</blockquote><blockquote><p><code>func hypot(a float, b float) float</code></p>
<p>Returns the square root of the sum of squares of its arguments.</p>
</blockquote><blockquote><p><code>func isInt(a float) bool</code></p>
<p>Returns true if the float has no fractional part, otherwise false.</p>
</blockquote><blockquote><p><code>func isNaN(a float) bool</code></p>
<p>Returns whether x is not a number.</p>
</blockquote><blockquote><p><code>func ln(a float) float</code></p>
<p>Returns the natural logarithm („èíe; also, „èë) of x.</p>
</blockquote><blockquote><p><code>func log(a float, b float) float</code></p>
<p>Returns the logarithm of y with base x.</p>
</blockquote><blockquote><p><code>func log10(a float) float</code></p>
<p>Returns the base-10 logarithm of x.</p>
</blockquote><blockquote><p><code>func log1p(a float) float</code></p>
<p>Returns the natural logarithm („èíe; also „èë) of 1 + x for the number x.</p>
</blockquote><blockquote><p><code>func log2(a float) float</code></p>
<p>Returns the base-2 logarithm of x.</p>
</blockquote><blockquote><p><code>func max(a float, b float) float</code></p>
<p>Returns the largest of two numbers.</p>
</blockquote><blockquote><p><code>func min(a float, b float) float</code></p>
<p>Returns the smallest of two numbers.</p>
</blockquote><blockquote><p><code>func mul32(a float, b float) float</code></p>
<p>Returns the result of the 32-bit integer multiplication of x and y. Integer overflow is allowed.</p>
</blockquote><blockquote><p><code>func pow(a float, b float) float</code></p>
<p>Returns base x to the exponent power y (that is, x^y).</p>
</blockquote><blockquote><p><code>func random() float</code></p>
<p>Returns a pseudo-random number between 0 and 1.</p>
</blockquote><blockquote><p><code>func round(a float) float</code></p>
<p>Returns the value of the number x rounded to the nearest integer.</p>
</blockquote><blockquote><p><code>func sign(a float) float</code></p>
<p>Returns the sign of the x, indicating whether x is positive, negative, or zero.</p>
</blockquote><blockquote><p><code>func sin(a float) float</code></p>
<p>Returns the sine of x.</p>
</blockquote><blockquote><p><code>func sinh(a float) float</code></p>
<p>Returns the hyperbolic sine of x.</p>
</blockquote><blockquote><p><code>func sqrt(a float) float</code></p>
<p>Returns the positive square root of x.</p>
</blockquote><blockquote><p><code>func tan(a float) float</code></p>
<p>Returns the tangent of x.</p>
</blockquote><blockquote><p><code>func tanh(a float) float</code></p>
<p>Returns the hyperbolic tangent of x.</p>
</blockquote><blockquote><p><code>func trunc(a float) float</code></p>
<p>Returns the integer portion of x, removing any fractional digits.</p>
</blockquote><!-- math.end -->
<h2 id="std-modules">Std modules. <a href="#std-modules">#</a></h2>
<p>Std modules come with Cyber's CLI. They include:</p>
<ul>
<li><a href="#os" title="">os</a>: System level functions.</li>
<li><a href="#test" title="">test</a>: Utilities for testing.</li>
</ul>
<p><a href="#modules" title="">parent</a></p>
<h2 id="os">os. <a href="#os">#</a></h2>
<p>Cyber's os module contains system level functions. It's still undecided as to how much should be included here so it's incomplete. You can still access os and libc functions yourself using Cyber's FFI or embedding API.</p>
<p>Sample usage:</p>
<pre><code class="language-cy">import os

var map = os.getEnvAll()
for map -> [k, v]:
    print '$(k) -> $(v)'
</code></pre>
<p><a href="#modules" title="">parent</a></p>
<!-- os.start -->
<blockquote><p><code>var cpu string</code></p>
<p>The current cpu arch's tag name.</p>
</blockquote><blockquote><p><code>var endian symbol</code></p>
<p>The current arch's endianness: .little, .big</p>
</blockquote><blockquote><p><code>var stderr File</code></p>
<p>Standard error file descriptor.</p>
</blockquote><blockquote><p><code>var stdin File</code></p>
<p>Standard input file descriptor.</p>
</blockquote><blockquote><p><code>var stdout File</code></p>
<p>Standard output file descriptor.</p>
</blockquote><blockquote><p><code>var system string</code></p>
<p>The current operating system's tag name.</p>
</blockquote><blockquote><p><code>var vecBitSize int</code></p>
<p>Default SIMD vector bit size.</p>
</blockquote><blockquote><p><code>func access(path string, mode symbol) none</code></p>
<p>Attempts to access a file at the given <code>path</code> with the <code>.read</code>, <code>.write</code>, or <code>.readWrite</code> mode.  Throws an error if unsuccessful.</p>
</blockquote><blockquote><p><code>func args() List</code></p>
<p>Returns the command line arguments in a <code>List</code>.  Each argument is converted to a <code>string</code>.</p>
</blockquote><blockquote><p><code>func cacheUrl(url string) string</code></p>
<p>Returns the path of a locally cached file of <code>url</code>.  If no such file exists locally, it's fetched from <code>url</code>.</p>
</blockquote><blockquote><p><code>func copyFile(srcPath string, dstPath string) none</code></p>
<p>Copies a file to a destination path.</p>
</blockquote><blockquote><p><code>func createDir(path string) none</code></p>
<p>Creates the directory at <code>path</code>. Returns <code>true</code> if successful.</p>
</blockquote><blockquote><p><code>func createFile(path string, truncate bool) File</code></p>
<p>Creates and opens the file at <code>path</code>. If <code>truncate</code> is true, an existing file will be truncated.</p>
</blockquote><blockquote><p><code>func cstr(s any) pointer</code></p>
<p>Returns a null terminated C string.</p>
</blockquote><blockquote><p><code>func cwd() string</code></p>
<p>Returns the current working directory.</p>
</blockquote><blockquote><p><code>func dirName(path string) string</code></p>
<p>Returns the given path with its last component removed.</p>
</blockquote><blockquote><p><code>func execCmd(args List) Map</code></p>
<p>Runs a shell command and returns the stdout/stderr.</p>
</blockquote><blockquote><p><code>func exePath() string</code></p>
<p>Returns the current executable's path.</p>
</blockquote><blockquote><p><code>func exit(status int) none</code></p>
<p>Exits the program with a status code.</p>
</blockquote><blockquote><p><code>func fetchUrl(url string) array</code></p>
<p>Fetches the contents at <code>url</code> using the HTTP GET request method.</p>
</blockquote><blockquote><p><code>func free(ptr pointer) none</code></p>
<p>Frees the memory located at <code>ptr</code>.</p>
</blockquote><blockquote><p><code>func getEnv(key string) string</code></p>
<p>Returns an environment variable by key.</p>
</blockquote><blockquote><p><code>func getEnvAll() Map</code></p>
<p>Returns all environment variables as a <code>Map</code>.</p>
</blockquote><blockquote><p><code>func malloc(size int) pointer</code></p>
<p>Allocates <code>size</code> bytes of memory and returns a pointer.</p>
</blockquote><blockquote><p><code>func milliTime() float</code></p>
<p>Return the calendar timestamp, in milliseconds, relative to UTC 1970-01-01.  For an high resolution timestamp, use <code>now()</code>.</p>
</blockquote><blockquote><p><code>func newFFI() FFI</code></p>
<p>Returns a new FFI context for declaring C mappings and binding a dynamic library.</p>
</blockquote><blockquote><p><code>func now() float</code></p>
<p>Returns the current time (in high resolution seconds) since an arbitrary point in time.</p>
</blockquote><blockquote><p><code>func openDir(path string) Dir</code></p>
<p>Invokes <code>openDir(path, false)</code>.</p>
</blockquote><blockquote><p><code>func openDir(path string, iterable bool) Dir</code></p>
<p>Opens a directory at the given <code>path</code>. <code>iterable</code> indicates that the directory's entries can be iterated.</p>
</blockquote><blockquote><p><code>func openFile(path string, mode symbol) File</code></p>
<p>Opens a file at the given <code>path</code> with the <code>.read</code>, <code>.write</code>, or <code>.readWrite</code> mode.</p>
</blockquote><blockquote><p><code>func parseArgs(options List) Map</code></p>
<p>Given expected <code>ArgOption</code>s, returns a map of the options and a <code>rest</code> entry which contains the non-option arguments.</p>
</blockquote><blockquote><p><code>func readAll() string</code></p>
<p>Reads stdin to the EOF as a UTF-8 string.  To return the bytes instead, use <code>stdin.readAll()</code>.</p>
</blockquote><blockquote><p><code>func readFile(path string) string</code></p>
<p>Reads the file contents from <code>path</code> as a UTF-8 string.  To return the bytes instead, use <code>File.readAll()</code>.</p>
</blockquote><blockquote><p><code>func readLine() string</code></p>
<p>Reads stdin until a new line as a <code>string</code>. This is intended to read user input from the command line.  For bulk reads from stdin, use <code>stdin</code>.</p>
</blockquote><blockquote><p><code>func realPath(path string) string</code></p>
<p>Returns the absolute path of the given path.</p>
</blockquote><blockquote><p><code>func removeDir(path string) none</code></p>
<p>Removes an empty directory at <code>path</code>. Returns <code>true</code> if successful.</p>
</blockquote><blockquote><p><code>func removeFile(path string) none</code></p>
<p>Removes the file at <code>path</code>. Returns <code>true</code> if successful.</p>
</blockquote><blockquote><p><code>func setEnv(key string, val string) none</code></p>
<p>Sets an environment variable by key.</p>
</blockquote><blockquote><p><code>func sleep(ms float) none</code></p>
<p>Pauses the current thread for given milliseconds.</p>
</blockquote><blockquote><p><code>func unsetEnv(key string) none</code></p>
<p>Removes an environment variable by key.</p>
</blockquote><blockquote><p><code>func writeFile(path string, contents any) none</code></p>
<p>Writes <code>contents</code> as a string or bytes to a file.</p>
</blockquote><h3 id="type-file"><code>type File</code> <a href="#type-file">#</a></h3>
<blockquote><p><code>func close() none</code></p>
<p>Closes the file handle. File ops invoked afterwards will return <code>error.Closed</code>.</p>
</blockquote><blockquote><p><code>func iterator() any</code></p>
</blockquote><blockquote><p><code>func next() any</code></p>
</blockquote><blockquote><p><code>func read(n int) array</code></p>
<p>Reads at most <code>n</code> bytes as an <code>array</code>. <code>n</code> must be at least 1.  A result with length 0 indicates the end of file was reached.</p>
</blockquote><blockquote><p><code>func readAll() array</code></p>
<p>Reads to the end of the file and returns the content as an <code>array</code>.</p>
</blockquote><blockquote><p><code>func seek(n int) none</code></p>
<p>Seeks the read/write position to <code>pos</code> bytes from the start. Negative <code>pos</code> is invalid.</p>
</blockquote><blockquote><p><code>func seekFromCur(n int) none</code></p>
<p>Seeks the read/write position by <code>pos</code> bytes from the current position.</p>
</blockquote><blockquote><p><code>func seekFromEnd(n int) none</code></p>
<p>Seeks the read/write position by <code>pos</code> bytes from the end. Positive <code>pos</code> is invalid.</p>
</blockquote><blockquote><p><code>func stat() Map</code></p>
<p>Returns info about the file as a <code>Map</code>.</p>
</blockquote><blockquote><p><code>func streamLines() File</code></p>
<p>Equivalent to <code>streamLines(4096)</code>.</p>
</blockquote><blockquote><p><code>func streamLines(bufSize int) File</code></p>
<p>Returns an iterable that streams lines ending in <code>\n</code>, <code>\r</code>, <code>\r\n</code>, or the <code>EOF</code>.  The lines returned include the new line character(s).  A buffer size of <code>bufSize</code> bytes is allocated for reading.  If <code>\r</code> is found at the end of the read buffer, the line is returned instead of  waiting to see if the next read has a connecting <code>\n</code>.</p>
</blockquote><blockquote><p><code>func write(val any) int</code></p>
<p>Writes a <code>string</code> or <code>array</code> at the current file position.  The number of bytes written is returned.</p>
</blockquote><h3 id="type-dir"><code>type Dir</code> <a href="#type-dir">#</a></h3>
<blockquote><p><code>func iterator() DirIterator</code></p>
<p>Returns a new iterator over the directory entries.  If this directory was not opened with the iterable flag, <code>error.NotAllowed</code> is returned instead.</p>
</blockquote><blockquote><p><code>func stat() Map</code></p>
<p>Returns info about the file as a <code>Map</code>.</p>
</blockquote><blockquote><p><code>func walk() DirIterator</code></p>
<p>Returns a new iterator over the directory recursive entries.  If this directory was not opened with the iterable flag, <code>error.NotAllowed</code> is returned instead.</p>
</blockquote><h3 id="type-diriterator"><code>type DirIterator</code> <a href="#type-diriterator">#</a></h3>
<blockquote><p><code>func next() any</code></p>
</blockquote><h3 id="type-ffi"><code>type FFI</code> <a href="#type-ffi">#</a></h3>
<blockquote><p><code>func bindCallback(fn any, params List, ret symbol) ExternFunc</code></p>
<p>Creates an <code>ExternFunc</code> that contains a C function pointer with the given signature.  The extern function is a wrapper that calls the provided user function.  Once created, the extern function is retained and managed by the FFI context.</p>
</blockquote><blockquote><p><code>func bindLib(path any) any</code></p>
<p>Calls <code>bindLib(path, [:])</code>.</p>
</blockquote><blockquote><p><code>func bindLib(path any, config Map) any</code></p>
<p>Creates a handle to a dynamic library and functions declared from <code>cfunc</code>.  By default, an anonymous object is returned with the C-functions binded as the object's methods.  If <code>config</code> contains <code>genMap: true</code>, a <code>Map</code> is returned instead with C-functions  binded as function values.</p>
</blockquote><blockquote><p><code>func bindObjPtr(obj any) pointer</code></p>
<p>Returns a Cyber object's pointer. Operations on the pointer is unsafe,  but it can be useful when passing it to C as an opaque pointer.  The object is also retained and managed by the FFI context.</p>
</blockquote><blockquote><p><code>func cbind(mt metatype, fields List) none</code></p>
<p>Binds a Cyber type to a C struct.</p>
</blockquote><blockquote><p><code>func cfunc(name string, params List, ret any) none</code></p>
<p>Declares a C function which will get binded to the library handle created from <code>bindLib</code>.</p>
</blockquote><blockquote><p><code>func new(ctype symbol) pointer</code></p>
<p>Allocates memory for a C struct or primitive with the given C type specifier.  A <code>pointer</code> to the allocated memory is returned.  Eventually this will return a <code>cpointer</code> instead which will be more idiomatic to use.</p>
</blockquote><blockquote><p><code>func unbindObjPtr(obj any) none</code></p>
<p>Releases the object from the FFI context.  External code should no longer use the object's pointer since it's not guaranteed to exist  or point to the correct object.</p>
</blockquote><h3 id="type-carray"><code>type CArray</code> <a href="#type-carray">#</a></h3>
<h3 id="type-cdimarray"><code>type CDimArray</code> <a href="#type-cdimarray">#</a></h3>
<!-- os.end -->
<h3 id="map-direntry"><code>map DirEntry</code> <a href="#map-direntry">#</a></h3>
<table><thead><tr><th>key</th><th>summary</th></tr></thead><tbody><tr><td><code>'name' -> array</code></td><td>The name of the file or directory.</td></tr><tr><td><code>'type' -> #file | #dir | #unknown</code></td><td>The type of the entry.</td></tr></tbody></table><p><a href="#modules" title="">parent</a></p>
<h3 id="map-dirwalkentry"><code>map DirWalkEntry</code> <a href="#map-dirwalkentry">#</a></h3>
<table><thead><tr><th>key</th><th>summary</th></tr></thead><tbody><tr><td><code>'name' -> array</code></td><td>The name of the file or directory.</td></tr><tr><td><code>'path' -> array</code></td><td>The path of the file or directory relative to the walker's root directory.</td></tr><tr><td><code>'type' -> #file | #dir | #unknown</code></td><td>The type of the entry.</td></tr></tbody></table><p><a href="#modules" title="">parent</a></p>
<h3 id="map-argoption"><code>map ArgOption</code> <a href="#map-argoption">#</a></h3>
<table><thead><tr><th>key</th><th>summary</th></tr></thead><tbody><tr><td><code>'name' -> string</code></td><td>The name of the option to match excluding the hyphen prefix. eg. <code>-path</code></td></tr><tr><td><code>'type' -> metatype(string | float | boolean)</code></td><td>Parse as given value type.</td></tr><tr><td><code>'default' -> any</code></td><td>Optional: Default value if option is missing. <code>none</code> is used if this is not provided.</td></tr></tbody></table><p><a href="#modules" title="">parent</a></p>
<h2 id="test">test. <a href="#test">#</a></h2>
<p>The <code>test</code> module contains utilities for testing.</p>
<p>Sample usage:</p>
<pre><code class="language-cy">import t 'test'

var a = 123 + 321
t.eq(a, 444)
</code></pre>
<p><a href="#modules" title="">parent</a></p>
<!-- test.start -->
<blockquote><p><code>func eq(a any, b any) any</code></p>
<p>Returns whether two values are equal.  Panics with <code>error.AssertError</code> if types or values do not match up.</p>
</blockquote><blockquote><p><code>func eqList(a any, b any) any</code></p>
<p>Returns true if two lists have the same size and the elements are equal  as if <code>eq</code> was called on those corresponding elements.</p>
</blockquote><blockquote><p><code>func eqNear(a any, b any) any</code></p>
<p>Returns two numbers are near each other within epsilon 1e-5.</p>
</blockquote><blockquote><p><code>func fail() any</code></p>
</blockquote><!-- test.end -->
<h1 id="ffi">FFI. <a href="#ffi">#</a></h1>
<ul>
<li><a href="#ffi-context" title="">FFI context.</a></li>
<li><a href="#declare-functions" title="">Declare functions.</a></li>
<li><a href="#bind-library" title="">Bind library.</a><ul>
<li><a href="#search-path" title="">Search path.</a></li>
<li><a href="#configuration" title="">Configuration.</a></li>
<li><a href="#finalizer" title="">Finalizer.</a></li>
</ul>
</li>
<li><a href="#mappings" title="">Mappings.</a></li>
<li><a href="#bind-to-cyber-type" title="">Bind to Cyber type.</a></li>
<li><a href="#pointers" title="">Pointers.</a></li>
<li><a href="#cbindgency" title="">cbindgen.cy</a></li>
</ul>
<p><a href="#table-of-contents" title="">top</a></p>
<p>Cyber supports binding to an existing C ABI compatible library at runtime.
This allows you to call into dynamic libraries created in C or other languages.
Cyber uses <code>libtcc</code> to JIT compile the bindings so function calls are fast.
The example shown below can be found in <a href="https://github.com/fubark/cyber/blob/master/examples/ffi.cy" title="">Examples</a>.</p>
<h2 id="ffi-context">FFI context. <a href="#ffi-context">#</a></h2>
<p>An FFI context contains declarations that map C to Cyber. Afterwards, it allows you to bind to a dynamic library or create interoperable objects. To create a new <code>FFI</code> context:</p>
<pre><code class="language-cy">import os

var ffi = os.newFFI()
</code></pre>
<p><a href="#ffi" title="">parent</a></p>
<h2 id="declare-functions">Declare functions. <a href="#declare-functions">#</a></h2>
<p>Functions from a library are first declared using <code>cfunc</code> which accepts C types in the form of symbols. In a future update they will accept C syntax instead.</p>
<pre><code class="language-cy">ffi.cfunc('add', [.int, .int], .int)
</code></pre>
<p>The first argument refers to the symbol's name in the dynamic library.
The second argument contains the function's parameter types and finally the last argument is the function's return type.</p>
<p>The example above maps to this C function:</p>
<pre><code class="language-c">int add(int a, int b) {
    return a + b;
}
</code></pre>
<p><a href="#ffi" title="">parent</a></p>
<h2 id="bind-library">Bind library. <a href="#bind-library">#</a></h2>
<p><code>bindLib</code> accepts the path to the library and returns a object which can be used to invoke the functions declared from <code>cfunc</code>:</p>
<pre><code class="language-cy">my lib = ffi.bindLib('./mylib.so')
lib.add(123, 321)
</code></pre>
<p>Note that <code>my</code> is used to allow <code>lib</code> to be used dynamically since the type is unknown at compile-time.</p>
<p><a href="#ffi" title="">parent</a></p>
<h3 id="search-path">Search path. <a href="#search-path">#</a></h3>
<p>If the path argument to <code>bindLib</code> is just a filename, the search steps for the library is specific to the operating system. Provide an absolute (eg. '/foo/mylib.so') or relative (eg. './mylib.so') path to load from a direct location instead. When the path argument is <code>none</code>, it loads the currently running executable as a library allowing you to bind exported functions from the Cyber CLI or your own application/runtime.</p>
<p><a href="#ffi" title="">parent</a></p>
<h3 id="configuration">Configuration. <a href="#configuration">#</a></h3>
<p>By default <code>bindLib</code> returns an anonymous object with the binded C-functions as methods. This is convenient for invoking functions using the method call syntax. If a config is passed into <code>bindLib</code> as the second argument, <code>genMap: true</code> makes <code>bindLib</code> return a map instead with the binded C-functions as Cyber functions.</p>
<p><a href="#ffi" title="">parent</a></p>
<h3 id="finalizer">Finalizer. <a href="#finalizer">#</a></h3>
<p>The resulting object of <code>bindLib</code> holds a reference to an internal TCCState which owns the loaded JIT code.
Once the object is released by ARC, the TCCState is also released which removes the JIT code from memory.</p>
<p><a href="#ffi" title="">parent</a></p>
<h2 id="mappings">Mappings. <a href="#mappings">#</a></h2>
<p>When using <code>cfunc</code> or <code>cbind</code> declarations, <a href="#symbols-1" title="">symbols</a> are used to represent default type mappings from Cyber to C and back:</p>
<blockquote><p><em>Incomplete: This is not the final API for dynamically loading and interfacing with C libraries. The plan is to parse a subset of C headers to bind to Cyber types and functions.</em></p>
</blockquote><table><thead><tr><th>Binding</th><th>Cyber</th><th>C</th></tr></thead><tbody><tr><td>.bool</td><td>bool</td><td>bool</td></tr><tr><td>.char</td><td>int</td><td>int8_t, signed char</td></tr><tr><td>.uchar</td><td>int</td><td>uint8_t, unsigned char</td></tr><tr><td>.short</td><td>int</td><td>int16_t, short</td></tr><tr><td>.ushort</td><td>int</td><td>uint16_t, unsigned short</td></tr><tr><td>.int</td><td>int</td><td>int32_t, int</td></tr><tr><td>.uint</td><td>int</td><td>uint32_t, unsigned int</td></tr><tr><td>.long</td><td>int</td><td>int64_t, long long</td></tr><tr><td>.ulong</td><td>int</td><td>uint64_t, unsigned long long</td></tr><tr><td>.usize</td><td>int</td><td>size_t, uintptr_t</td></tr><tr><td>.float</td><td>float</td><td>float</td></tr><tr><td>.double</td><td>float</td><td>double</td></tr><tr><td>(1) .charPtr</td><td>pointer</td><td>char*</td></tr><tr><td>.voidPtr</td><td>pointer</td><td>void*</td></tr><tr><td>(2) type {S} object</td><td>type {S} object</td><td>struct</td></tr></tbody></table><ol>
<li>Use <code>os.cstr()</code> and <code>pointer.fromCstr()</code> to convert between a Cyber string and a null terminated C string.</li>
<li>The mapping from a Cyber object type <code>S</code> and the C-struct can be declared with <code>cbind</code>.</li>
</ol>
<p><a href="#ffi" title="">parent</a></p>
<h2 id="bind-to-cyber-type">Bind to Cyber type. <a href="#bind-to-cyber-type">#</a></h2>
<p><code>cbind</code> is used to bind a C struct to a Cyber object type. Once declared, the Cyber type can be used as a binding type in function declarations:</p>
<pre><code class="language-cy">import os

type MyObject object:
    var a float
    var b pointer
    var c bool

ffi.cbind(MyObject, [.float, .voidPtr, .bool])
ffi.cfunc('foo', [MyObject], MyObject)
my lib = ffi.bindLib('./mylib.so')

var res = lib.foo([MyObject a: 123.0, b: os.cstr('foo'), c: true])
</code></pre>
<p>The example above maps to these C declarations in <code>mylib.so</code>:</p>
<pre><code class="language-c">typedef struct MyObject {
    double a;
    char* b;
    bool c;
} MyObject;

MyObject foo(MyObject o) {
    // Do something.
}
</code></pre>
<p><code>cbind</code> also generates <code>ptrTo[Type]</code> as a helper function to dereference an opaque ptr to a new Cyber object:</p>
<pre><code class="language-cy">ffi.cfunc('foo', [MyObject], .voidPtr)
my lib = ffi.bindLib('./mylib.so')

var ptr = lib.foo([MyObject a: 123, b: os.cstr('foo'), c: true])
var res = lib.ptrToMyObject(ptr)
</code></pre>
<p><a href="#ffi" title="">parent</a></p>
<h2 id="pointers">Pointers. <a href="#pointers">#</a></h2>
<p>A <code>pointer</code> is used to read or write to an exact memory address. This is typically used for FFI to manually map Cyber types to C, and back. See <a href="#type-pointer" title=""><code>type pointer</code></a>.</p>
<p>A new pointer can be created with the builtin <code>pointer</code>.</p>
<pre><code class="language-cy">var ptr = pointer(0xDEADBEEF)
print ptr.value()     --'3735928559'
</code></pre>
<p><a href="#ffi" title="">parent</a></p>
<h2 id="cbindgency">cbindgen.cy <a href="#cbindgency">#</a></h2>
<p><a href="https://github.com/fubark/cyber/blob/master/src/tools/cbindgen.cy" title="">cbindgen.cy</a> is a Cyber script that automatically generates bindings given a C header file. Some example bindings that were generated include: <a href="https://github.com/fubark/ray-cyber" title="">Raylib</a> and <a href="https://github.com/fubark/cyber/blob/master/src/tools/llvm.cy" title="">LLVM</a>.</p>
<p><a href="#ffi" title="">parent</a></p>
<h1 id="error-handling">Error Handling. <a href="#error-handling">#</a></h1>
<table><tr>
<td valign="top">
<ul>
<li><a href="#error-trait" title="">Error trait.</a><ul>
<li><a href="#error-value" title=""><code>error</code> value.</a></li>
<li><a href="#enum-error" title="">Enum error.</a></li>
</ul>
</li>
<li><a href="#throwing-errors" title="">Throwing errors.</a></li>
<li><a href="#catching-errors" title="">Catching errors.</a><ul>
<li><a href="#try-block" title=""><code>try</code> block.</a></li>
<li><a href="#caught-variable" title=""><code>caught</code> variable.</a></li>
<li><a href="#catch-matching" title=""><code>catch</code> matching.</a></li>
<li><a href="#try-expression" title=""><code>try</code> expression.</a></li>
<li><a href="#value-or-error" title="">Value or error.</a></li>
</ul>
</li>
</ul>
</td><td valign="top">
<ul>
<li><a href="#semantic-checks" title="">Semantic checks.</a><ul>
<li><a href="#throws-specifier" title=""><code>throws</code> specifier.</a></li>
<li><a href="#requiring-throws" title="">Requiring <code>throws</code>.</a></li>
</ul>
</li>
<li><a href="#stack-trace" title="">Stack trace.</a></li>
<li><a href="#unexpected-errors" title="">Unexpected errors.</a><ul>
<li><a href="#panics" title="">Panics.</a></li>
</ul>
</li>
</ul>
</td>
</tr></table>
<p><a href="#table-of-contents" title="">top</a></p>
<p>Cyber provides a throw/catch mechanism to handle expected errors. For unexpected errors, panics can be used as a fail-fast mechanism to abort the currently running fiber.</p>
<h2 id="error-trait">Error trait. <a href="#error-trait">#</a></h2>
<p>Only types that implement the <code>Error</code> trait can be thrown or attached to a panic.
Since the <code>Error</code> trait is empty, it's simple to turn any type into a throwable type.</p>
<p><a href="#error-handling" title="">parent</a></p>
<h3 id="error-value"><code>error</code> value. <a href="#error-value">#</a></h3>
<p>An <code>error</code> value contains a <code>symbol</code> and implements the <code>Error</code> trait. They can be created without a declaration using the error literal:</p>
<pre><code class="language-cy">var err = error.Oops
</code></pre>
<p>Use <code>sym()</code> to obtain the underlying symbol:</p>
<pre><code class="language-cy">print err.sym()   -- Prints ".Oops"
</code></pre>
<p>Since <code>error</code> is a primitive value, it can be compared using the <code>==</code> operator.</p>
<pre><code class="language-cy">if err == error.Oops:
    handleOops()

-- Alternatively.
if err.sym() == .Oops:
    handleOops()
</code></pre>
<p><a href="#error-handling" title="">parent</a></p>
<h3 id="enum-error">Enum error. <a href="#enum-error">#</a></h3>
<p>By implementing the <code>Error</code> trait, an enum type can be throwable: <em>Planned Feature</em></p>
<pre><code class="language-cy">type MyError enum:
    with Error
    boom
    badArgument
    nameTooLong

var err = MyError.nameTooLong
</code></pre>
<p><a href="#error-handling" title="">parent</a></p>
<h2 id="throwing-errors">Throwing errors. <a href="#throwing-errors">#</a></h2>
<p>Use the <code>throw</code> keyword to throw errors.
A thrown error continues to bubble up the call stack until it is caught by a <code>try</code> block or expression.</p>
<pre><code class="language-cy">func fail():
    throw error.Oops      -- Throws an error with the symbol `#Oops`

func fail2():
    throw 123             -- Panic. Can only throw an error
                          -- that implement the `Error` trait.
</code></pre>
<p><code>throw</code> can also be used as an expression.</p>
<pre><code class="language-cy">func fail():
    var a = false or throw error.False
</code></pre>
<p><a href="#error-handling" title="">parent</a></p>
<h2 id="catching-errors">Catching errors. <a href="#catching-errors">#</a></h2>
<h3 id="try-block"><code>try</code> block. <a href="#try-block">#</a></h3>
<p>The <code>try</code> block catches thrown errors and resumes execution in a followup <code>catch</code> block:</p>
<pre><code class="language-cy">try:
    funcThatCanFail()
catch err:
    print err      -- 'error.Failed'
</code></pre>
<p><a href="#error-handling" title="">parent</a></p>
<h3 id="caught-variable"><code>caught</code> variable. <a href="#caught-variable">#</a></h3>
<p>The contextual <code>caught</code> variable is used to reference the caught error: <em>Planned Feature</em></p>
<pre><code class="language-cy">try:
    funcThatCanFail()
catch:
    print caught   -- 'error.Failed'
</code></pre>
<p><a href="#error-handling" title="">parent</a></p>
<h3 id="catch-matching"><code>catch</code> matching. <a href="#catch-matching">#</a></h3>
<p>An inner <code>catch</code> block contains a matching clause: <em>Planned Feature</em></p>
<pre><code class="language-cy">try:
    funcThatCanFail()
catch error.BadDay:
    eatSnack()
catch:
    print caught
</code></pre>
<p>Enum errors can be matched: <em>Planned Feature</em></p>
<pre><code class="language-cy">try:
    funcThatCanFail()
catch MyError.Boom:
    print 'Kaboom!'
catch:
    print caught
</code></pre>
<p><a href="#error-handling" title="">parent</a></p>
<h3 id="try-expression"><code>try</code> expression. <a href="#try-expression">#</a></h3>
<p>The <code>try</code> expression either returns a non-error result or the default value from the <code>catch</code> clause:</p>
<pre><code class="language-cy">var res = try funcThatCanFail() catch 123
print res         -- '123'
</code></pre>
<p>Since errors bubble up automatically, any errors thrown from sub-expressions are also caught:</p>
<pre><code class="language-cy">var res = try happyFunc(funcThatCanFail()) catch 123
print res         -- '123'
</code></pre>
<p><a href="#error-handling" title="">parent</a></p>
<h3 id="value-or-error">Value or error. <a href="#value-or-error">#</a></h3>
<p>When the <code>catch</code> clause is omitted, the <code>try</code> expression will return either the value or the error:</p>
<pre><code class="language-cy">var res = try funcThatCanFail()
if res == error.Failed:
    print 'Result is an error.'
</code></pre>
<p><a href="#error-handling" title="">parent</a></p>
<h2 id="semantic-checks">Semantic checks. <a href="#semantic-checks">#</a></h2>
<h3 id="throws-specifier"><code>throws</code> specifier. <a href="#throws-specifier">#</a></h3>
<p>The <code>throws</code> specifier indicates that a function contains a throwing expression that was not caught with <code>try catch</code>.</p>
<p>When a function does not have a return specifier, it's implicitly given the <code>throws</code> specifier:</p>
<pre><code class="language-cy">func foo():
    throw error.Failure

func bar() throws:
    throw error.Failure

-- `foo` and `bar` both have the same return specifier.
</code></pre>
<p>Return types for typed functions are declared after <code>throws</code> using a comma separator:</p>
<pre><code class="language-cy">func result(cond bool) throws, int:
    if cond:
        return 123
    else:
        throw error.Failure
</code></pre>
<p><a href="#error-handling" title="">parent</a></p>
<h3 id="requiring-throws">Requiring <code>throws</code>. <a href="#requiring-throws">#</a></h3>
<p>A compile-time error is issued when a typed function without a <code>throws</code> specifier contains an uncaught throwing expression: <em>Planned Feature</em></p>
<pre><code class="language-cy">func foo(a int) int:
    if a == 10:
        throw error.Failure -- CompileError. `foo` requires the `throws`
    else:                   -- specifier or any throwing expression must
        return a * 2        -- be caught with `try catch`.
</code></pre>
<p><a href="#error-handling" title="">parent</a></p>
<h2 id="stack-trace">Stack trace. <a href="#stack-trace">#</a></h2>
<p>When an uncaught error bubbles up to the top, its stack trace from the <code>throw</code> callsite is dumped to the console. The builtin <code>errorTrace()</code> and <code>errorReport()</code> are used to obtain the stack trace info.</p>
<pre><code class="language-cy">try:
    funcThatCanFail()
catch:
    -- Prints the stack trace summary of the caught error.
    print errorReport()

    -- Provides structured info about the stack trace.
    var info = errorTrace()
    print info.frames.len()
</code></pre>
<p><a href="#error-handling" title="">parent</a></p>
<h2 id="unexpected-errors">Unexpected errors. <a href="#unexpected-errors">#</a></h2>
<p>An unexpected error is an error that is not meant to be handled at runtime.</p>
<p><a href="#error-handling" title="">parent</a></p>
<h3 id="panics">Panics. <a href="#panics">#</a></h3>
<p>The builtin <code>panic</code> is used as a fail-fast mechanism to quickly exit the current fiber with an error payload:</p>
<pre><code class="language-cy">func kaboom():
    panic(error.danger)

kaboom()     -- Script ends and prints the stack trace.
</code></pre>
<p>Panics can not be caught using <code>try catch</code>. Once <code>panic</code> is invoked, the current fiber stops execution and begins to unwind its call stack. Once the error is propagated to the root, the fiber ends and transitions to a panic state. If the main fiber ends this way, the VM begins to shutdown. Otherwise, execution resumes on the next fiber which allows recovery from a panic.</p>
<p><a href="#error-handling" title="">parent</a></p>
<h1 id="concurrency">Concurrency. <a href="#concurrency">#</a></h1>
<ul>
<li><a href="#fibers" title="">Fibers.</a><ul>
<li><a href="#creating-fibers" title="">Creating fibers.</a></li>
<li><a href="#passing-arguments" title="">Passing arguments.</a></li>
<li><a href="#reset-state" title="">Reset state.</a></li>
<li><a href="#rebinding-arguments" title="">Rebinding arguments.</a></li>
<li><a href="#fiber-block" title="">Fiber block.</a></li>
<li><a href="#pause-and-resume" title="">Pause and resume.</a></li>
<li><a href="#fiber-state" title="">Fiber state.</a></li>
</ul>
</li>
<li><a href="#gas-mileage" title="">Gas mileage.</a></li>
<li><a href="#async" title="">Async.</a></li>
<li><a href="#multi-thread" title="">Multi-thread.</a></li>
</ul>
<p><a href="#table-of-contents" title="">top</a></p>
<p>Cyber supports fibers as a concurrency mechanism. There are plans to support preemptive concurrency with async/await as well as multithreading.</p>
<h2 id="fibers">Fibers. <a href="#fibers">#</a></h2>
<p>A fiber represents a separate execution context as a first-class value. It contains it's own call stack and program counter. Fibers by themselves do not enable parallelism.</p>
<p><a href="#concurrency" title="">parent</a></p>
<h3 id="creating-fibers">Creating fibers. <a href="#creating-fibers">#</a></h3>
<p>The <code>coinit</code> keyword creates and returns a new fiber using a function as the entry point:</p>
<pre><code class="language-cy">var count = 0

var foo = func ():
    count += 1
    coyield
    count += 1

var fiber = coinit(foo)

print count          -- '0'
coresume fiber
print count          -- '1'
coresume fiber
print count          -- '2'
</code></pre>
<p>A fiber does not start execution until <code>coresume</code> is invoked on it.
<code>coyield</code> pauses the current fiber and execution is returned to the previous fiber that invoked <code>coresume</code>.</p>
<p><a href="#concurrency" title="">parent</a></p>
<h3 id="passing-arguments">Passing arguments. <a href="#passing-arguments">#</a></h3>
<p>Arguments after the callee are passed into the entry function:</p>
<pre><code class="language-cy">var count = 0

var increment = func (inc):
    count += inc

var fiber = coinit(increment, 5)
coresume fiber
print count          -- '5'
</code></pre>
<p>When the fiber is created, the arguments are saved inside the fiber's stack. Once the first <code>coresume</code> is invoked, the entry function is invoked with the saved arguments.</p>
<p><a href="#concurrency" title="">parent</a></p>
<h3 id="reset-state">Reset state. <a href="#reset-state">#</a></h3>
<p>To reset a fiber to its initial state, invoke <code>reset()</code>. <em>Planned Feature</em>
When reset, the existing stack is unwinded, the program counter returns to the starting point, and the state is set to <code>.init</code>:</p>
<pre><code class="language-cy">func fib(n int) int:
    coyield n
    if n < 2:
        return n
    return fib(n - 1) + fib(n - 2)

var task = coinit(fib, 10)

-- Progress the fiber...
print(coresume task)    -- Prints "10"
print(coresume task)    -- Prints "9"
print(coresume task)    -- Prints "8"

-- Reset back to the start with the `.init` state.
fiber.reset()
print(coresume task)    -- Prints "10"
</code></pre>
<p><a href="#concurrency" title="">parent</a></p>
<h3 id="rebinding-arguments">Rebinding arguments. <a href="#rebinding-arguments">#</a></h3>
<p>Arguments attached to the fiber can be rebinded with a different set of values. <em>Planned Feature</em>
This allows fiber reuse, instead of creating a new fiber:</p>
<pre><code class="language-cy">var task = coinit(fib, 10)

-- Run task to completion.
var res = 0
while fiber.status() != .done:
    res = coresume fiber
print res

fiber.reset()
fiber.bindArgs(20)

-- Run task again with the new argument...
</code></pre>
<p><a href="#concurrency" title="">parent</a></p>
<h3 id="fiber-block">Fiber block. <a href="#fiber-block">#</a></h3>
<p>A fiber block is used to construct a fiber without an entry function. <em>Planned Feature</em> The counting example can be rewritten to:</p>
<pre><code class="language-cy">var count = 0

var fiber = coinit:
    count += 1       -- `count is captured`
    coyield
    count += 1

print count          -- '0'
coresume fiber
print count          -- '1'
coresume fiber
print count          -- '2'
</code></pre>
<p>Referencing parent variables from the fiber block automatically captures them just like a function closure.</p>
<p><a href="#concurrency" title="">parent</a></p>
<h3 id="pause-and-resume">Pause and resume. <a href="#pause-and-resume">#</a></h3>
<p><code>coyield</code> can be used anywhere in a fiber's call stack to pause execution and return to the previous fiber.</p>
<pre><code class="language-cy">func foo():
    print 'foo'
    bar()

func bar():
    -- Nested coyield in call stack.
    coyield
    print 'bar'

var fiber = coinit(foo)
coresume fiber
</code></pre>
<p><code>coresume</code> also returns the resulting value.</p>
<pre><code class="language-cy">func foo():
    return 123

var fiber = coinit(foo)
print(coresume fiber)    -- '123'
</code></pre>
<p><code>coyield</code> can return a value back to <code>coresume</code>. <em>Planned Feature</em></p>
<p><a href="#concurrency" title="">parent</a></p>
<h3 id="fiber-state">Fiber state. <a href="#fiber-state">#</a></h3>
<p>Use <code>Fiber.status()</code> to get the current state of the fiber.</p>
<pre><code class="language-cy">func foo():
    coyield
    print 'done'

var fiber = coinit(foo)
print fiber.status()   -- '.paused'
coresume fiber
print fiber.status()   -- '.paused'
coresume fiber
print fiber.status()   -- '.done'
</code></pre>
<p>The main execution context is a fiber as well. Once the main fiber has finished, the VM is done and control is returned to the host.</p>
<p><a href="#concurrency" title="">parent</a></p>
<h2 id="gas-mileage">Gas mileage. <a href="#gas-mileage">#</a></h2>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#concurrency" title="">parent</a></p>
<h2 id="async">Async. <a href="#async">#</a></h2>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#concurrency" title="">parent</a></p>
<h2 id="multi-thread">Multi-thread. <a href="#multi-thread">#</a></h2>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#concurrency" title="">parent</a></p>
<h1 id="type-system">Type System. <a href="#type-system">#</a></h1>
<table><tr>
<td valign="top">
<ul>
<li><a href="#dynamic-typing" title="">Dynamic typing.</a><ul>
<li><a href="#my-declaration" title=""><code>my</code> declaration.</a></li>
<li><a href="#dynamic-vs-any" title=""><code>dynamic</code> vs <code>any</code>.</a></li>
<li><a href="#invoking-dynamic-values" title="">Invoking dynamic values.</a></li>
<li><a href="#dynamic-return-value" title="">Dynamic return value.</a></li>
<li><a href="#recent-type-inference" title="">Recent type inference.</a></li>
</ul>
</li>
</ul>
</td><td valign="top">
<ul>
<li><a href="#static-typing" title="">Static typing.</a><ul>
<li><a href="#builtin-types" title="">Builtin types.</a></li>
<li><a href="#var-declaration" title=""><code>var</code> declaration.</a></li>
<li><a href="#typed-variables" title="">Typed variables.</a></li>
<li><a href="#object-types" title="">Object types.</a></li>
<li><a href="#zero-values" title="">Zero values.</a></li>
<li><a href="#type-aliases" title="">Type aliases.</a></li>
<li><a href="#functions-1" title="">Functions.</a></li>
<li><a href="#traits" title="">Traits.</a></li>
<li><a href="#union-types" title="">Union types.</a></li>
<li><a href="#any-type" title=""><code>any</code> type.</a></li>
<li><a href="#invoking-any-values" title="">Invoking any values.</a></li>
<li><a href="#type-casting" title="">Type casting.</a></li>
</ul>
</li>
</ul>
</td>
</tr></table>
<p><a href="#table-of-contents" title="">top</a></p>
<p>Cyber supports the use of both dynamically and statically typed code.</p>
<h2 id="dynamic-typing">Dynamic typing. <a href="#dynamic-typing">#</a></h2>
<p>Dynamic typing can reduce the amount of friction when writing code, but it can also result in more runtime errors.</p>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="my-declaration"><code>my</code> declaration. <a href="#my-declaration">#</a></h3>
<p>Variables declared with <code>my</code> are assigned the <code>dynamic</code> type:</p>
<pre><code class="language-cy">my a = 123
</code></pre>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="dynamic-vs-any"><code>dynamic</code> vs <code>any</code> <a href="#dynamic-vs-any">#</a></h3>
<p><code>dynamic</code> values can be freely used and copied without any compile errors (if there is a chance it can succeed at runtime, see <a href="#recent-type-inference" title="">Recent type inference</a>):</p>
<pre><code class="language-cy">my a = 123

func getFirstRune(s string):
    return s[0]

getFirstRune(a)       -- RuntimeError. Expected `string`.
</code></pre>
<p>Since <code>a</code> is dynamic, passing it to a typed function parameter is allowed at compile-time, but will fail when the function is invoked at runtime.</p>
<p>The <code>any</code> type on the otherhand is a <strong>static type</strong> and must be explicitly declared using <code>var</code>:</p>
<pre><code class="language-cy">var a any = 123

func getFirstRune(s string):
    return s[0]

getFirstRune(a)       -- CompileError. Expected `string`.
</code></pre>
<p>This same setup will now fail at compile-time because <code>any</code> does not satisfy the destination's <code>string</code> type constraint.</p>
<p>The use of the <code>dynamic</code> type effectively defers type checking to runtime while <code>any</code> is a static type and must adhere to type constraints at compile-time.</p>
<p>A <code>dynamic</code> value can be used in any operation. It can be invoked as the callee, invoked as the receiver of a method call, or used with operators.</p>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="invoking-dynamic-values">Invoking <code>dynamic</code> values. <a href="#invoking-dynamic-values">#</a></h3>
<p>When a <code>dynamic</code> value is invoked, checks on whether the callee is a function is deferred to runtime.</p>
<pre><code class="language-cy">my op = 123
print op(1, 2, 3)      -- RuntimeError. Expected a function.
</code></pre>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="dynamic-return-value">Dynamic return value. <a href="#dynamic-return-value">#</a></h3>
<p>When the return type of a function is not specified, it defaults to the <code>dynamic</code> type.
This allows copying the return value to a typed destination without casting:</p>
<pre><code class="language-cy">func getValue():
    return 123

func add(a int, b int):
    return a + b

print add(getValue(), 2)    -- Prints "125"
</code></pre>
<p>The <code>add</code> function defers type checking of <code>getValue()</code> to runtime because it has the <code>dynamic</code> type.</p>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="recent-type-inference">Recent type inference. <a href="#recent-type-inference">#</a></h3>
<p>Although a <code>dynamic</code> variable has the most flexibility, in some situations it is advantageous to know what type it could be.</p>
<p>The compiler keeps a running record of a <code>dynamic</code> variable's most <strong>recent type</strong> to gain additional compile-time features without sacrificing flexibility. It can prevent inevitable runtime errors and avoid unnecessary type casts.</p>
<p>When a <code>dynamic</code> variable is first initialized, it has a recent type inferred from its initializer. In the following, <code>a</code> has the recent type of <code>int</code> at compile-time because numeric literals default to the <code>int</code> type:</p>
<pre><code class="language-cy">my a = 123
</code></pre>
<p>The recent type can change at compile-time from another assignment.
If <code>a</code> is then assigned to a string literal, <code>a</code> from that point on has the recent type of <code>string</code> at compile-time:</p>
<pre><code class="language-cy">my a = 123
foo(a)           -- Valid call expression.
a = 'hello'
foo(a)           -- CompileError. Expected `int` argument, got `string`.

func foo(n int):
    pass
</code></pre>
<p>Even though <code>a</code> is <code>dynamic</code> and is usually allowed to defer type checking to runtime, the compiler knows that doing so in this context would <strong>always</strong> result in a runtime error, so it provides a compile error instead. This provides a quicker feedback to fix the problem.</p>
<p>The recent type of <code>a</code> can also change in branches. However, after the branch block, <code>a</code> will have a recent type after merging the types assigned to <code>a</code> from the two branched code paths. Currently, the <code>any</code> type is used if the types from the two branches differ. At the end of the following <code>if</code> block, <code>a</code> has the recent type of <code>any</code> type after merging the <code>int</code> and <code>string</code> types: <em>Planned Feature</em></p>
<pre><code class="language-cy">my a = 123
if a > 20:
    a = 'hello'
    foo(a)       -- Valid call expression. `foo` can be called without type casting.

foo(a)           -- CompileError. Expected `string` argument, got `any`.

func foo(s string):
    pass
</code></pre>
<p><a href="#type-system" title="">parent</a></p>
<h2 id="static-typing">Static typing. <a href="#static-typing">#</a></h2>
<p>Static typing can be incrementally applied which provides compile-time guarantees and prevents runtime errors.
Static typing also makes it easier to maintain and refactor your code.</p>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="builtin-types">Builtin types. <a href="#builtin-types">#</a></h3>
<p>The following builtin types are available in every module: <code>bool</code>, <code>float</code>, <code>int</code>, <code>string</code>, <code>List</code>, <code>Map</code>, <code>error</code>, <code>fiber</code>, <code>any</code>.</p>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="var-declaration"><code>var</code> declaration. <a href="#var-declaration">#</a></h3>
<p>A <code>var</code> declaration automatically infers the type from the initializer:</p>
<pre><code class="language-cy">-- Initialized as an `int` variable.
var a = 123
</code></pre>
<p><code>var</code> declarations are strictly for static typing. If the assigned value's type is <code>dynamic</code>, the variable's type becomes <code>any</code>.</p>
<pre><code class="language-cy">func getValue():
    return ['a', 'list']

-- Initialized as an `any` variable.
var a = getValue()
</code></pre>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="typed-variables">Typed variables. <a href="#typed-variables">#</a></h3>
<p>A typed local variable can be declared by attaching a type specifier after its name. The value assigned to the variable must satisfy the type constraint or a compile error is issued.</p>
<pre><code class="language-cy">var a float = 123

var b int = 123.0    -- CompileError. Expected `int`, got `float`.
</code></pre>
<p>Any operation afterwards that violates the type constraint of the variable will result in a compile error.</p>
<pre><code class="language-cy">a = 'hello'          -- CompileError. Expected `float`, got `string`.
</code></pre>
<p>Static variables are declared in a similar way:</p>
<pre><code class="language-cy">var Root.global Map = [:]
</code></pre>
<p>Unlike local variables, static variable declarations do not infer the type from the right hand side. A specific type must be specified or it will default to the <code>any</code> type.</p>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="object-types">Object types. <a href="#object-types">#</a></h3>
<p>A <code>type object</code> declaration creates a new object type. Field types are optional and declared with a type specifier after their name.</p>
<pre><code class="language-cy">type Student object:    -- Creates a new type named `Student`
    var name string
    var age  int
    var gpa  float
</code></pre>
<p>Instantiating a new object does not require typed fields to be initialized. Missing field values will default to their <a href="#zero-values" title="">zero value</a>:</p>
<pre><code class="language-cy">var s = [Student:]
print s.name       -- Prints ""
print s.age        -- Prints "0"
print s.gpa        -- Prints "0.0"
</code></pre>
<p>Circular type dependencies are allowed if the object can be initialized:</p>
<blockquote><p><em>Planned Feature: Optional types are not currently supported.</em></p>
</blockquote><pre><code class="language-cy">type Node object:
    var val  any
    var next Node?     -- Valid type specifier.
</code></pre>
<p>In this example, <code>next</code> has an optional <code>Node?</code> type so it can be initialized to <code>none</code> when creating a new <code>Node</code> object.</p>
<p>The following example will fail because this version of <code>Node</code> can not be initialized:</p>
<pre><code class="language-cy">type Node object:
    var val  any
    var next Node

var n = [Node:]    -- CompileError. Can not zero initialize `next`
                   -- because of circular dependency.
</code></pre>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="zero-values">Zero values. <a href="#zero-values">#</a></h3>
<p>The following shows the zero values of builtin or created types.</p>
<table><thead><tr><th>Type</th><th>Zero value</th></tr></thead><tbody><tr><td><code>boolean</code></td><td><code>false</code></td></tr><tr><td><code>int</code></td><td><code>0</code></td></tr><tr><td><code>float</code></td><td><code>0.0</code></td></tr><tr><td><code>string</code></td><td><code>''</code></td></tr><tr><td><code>array</code></td><td><code>array('')</code></td></tr><tr><td><code>List</code></td><td><code>[]</code></td></tr><tr><td><code>Map</code></td><td><code>[:]</code></td></tr><tr><td><code>type S object</code></td><td><code>[S:]</code></td></tr><tr><td><code>@host type S object</code></td><td><code>S.$zero()</code></td></tr><tr><td><code>dynamic</code></td><td><code>none</code></td></tr><tr><td><code>any</code></td><td><code>none</code></td></tr><tr><td><code>S?</code></td><td><code>none</code></td></tr></tbody></table><p><a href="#type-system" title="">parent</a></p>
<h3 id="type-aliases">Type aliases. <a href="#type-aliases">#</a></h3>
<p>A type alias is declared from a single line <code>type</code> statement. This creates a new type symbol for an existing data type.</p>
<pre><code class="language-cy">import util './util.cy'

type Vec3 util.Vec3

var v = [Vec3 x: 3, y: 4, z: 5]
</code></pre>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="functions-1">Functions. <a href="#functions-1">#</a></h3>
<p>Function parameter and return type specifiers follows a similiar syntax.</p>
<pre><code class="language-cy">func mul(a float, b float) float:
    return a * b

print mul(3, 4)
print mul(3, '4')  -- CompileError. Function signature mismatch.
</code></pre>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="traits">Traits. <a href="#traits">#</a></h3>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#type-system" title="">parent</a></p>
<h3 id="union-types">Union types. <a href="#union-types">#</a></h3>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#type-system" title="">parent</a></p>
<h3 id="any-type"><code>any</code> type. <a href="#any-type">#</a></h3>
<p>A variable with the <code>any</code> type can hold any value, but copying it to narrowed type destination will result in a compile error:</p>
<pre><code class="language-cy">func square(i int):
    return i * i

var a any = 123
a = ['a', 'list']         -- Valid assignment to a value with a different type.
a = 10

print square(a)           -- CompileError. Expected `int`, got `any`.
</code></pre>
<p><code>a</code> must be explicitly casted to satisfy the type constraint:</p>
<pre><code class="language-cy">print square(a as int)    -- Prints "100".
</code></pre>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="invoking-any-values">Invoking <code>any</code> values. <a href="#invoking-any-values">#</a></h3>
<p>Since <code>any</code> is a static type, invoking an <code>any</code> value must be explicitly casted to the appropriate function type.</p>
<blockquote><p><em>Planned Feature: Casting to a function type is not currently supported.</em></p>
</blockquote><pre><code class="language-cy">func add(a int, b int) int:
    return a + b

var op any = add
print op(1, 2)         -- CompileError. Expected `func (int, int) any`

var opFunc = op as (func (int, int) int)
print opFunc(1, 2)     -- Prints "3".
</code></pre>
<p><a href="#type-system" title="">parent</a></p>
<h3 id="type-casting">Type casting. <a href="#type-casting">#</a></h3>
<p>The <code>as</code> keyword can be used to cast a value to a specific type. Casting lets the compiler know what the expected type is and does not perform any conversions.</p>
<p>If the compiler knows the cast will always fail at runtime, a compile error is returned instead.</p>
<pre><code class="language-cy">print('123' as int)       -- CompileError. Can not cast `string` to `int`.
</code></pre>
<p>If the cast fails at runtime, a panic is returned.</p>
<pre><code class="language-cy">var erased any = 123
add(1, erased as int)     -- Success.
print(erased as string)   -- Panic. Can not cast `int` to `string`.

func add(a int, b int):
    return a + b
</code></pre>
<p><a href="#type-system" title="">parent</a></p>
<h1 id="metaprogramming">Metaprogramming. <a href="#metaprogramming">#</a></h1>
<table><tr>
<td valign="top">
<ul>
<li><a href="#operator-overloading-1" title="">Operator overloading.</a><ul>
<li><a href="#builtin-operators" title="">Builtin operators.</a></li>
<li><a href="#custom-operators" title="">Custom operators.</a></li>
</ul>
</li>
<li><a href="#magic-functions" title="">Magic functions.</a><ul>
<li><a href="#call-module" title="">Call module.</a></li>
<li><a href="#gettersetter" title="">Getter/Setter.</a></li>
<li><a href="#missing-method" title="">Missing method.</a></li>
</ul>
</li>
</ul>
</td><td valign="top">
<ul>
<li><a href="#reflection" title="">Reflection.</a></li>
<li><a href="#annotations" title="">Annotations.</a></li>
<li><a href="#runtime-eval" title="">Runtime eval.</a></li>
<li><a href="#generics" title="">Generics.</a></li>
<li><a href="#compile-time" title="">Compile-time.</a></li>
</ul>
</td>
</tr></table>
<p><a href="#table-of-contents" title="">top</a></p>
<h2 id="operator-overloading-1">Operator overloading. <a href="#operator-overloading-1">#</a></h2>
<p>All operators are implemented as object methods.</p>
<blockquote><p><em>Incomplete: Not all operators have transitioned to the method paradigm.</em></p>
</blockquote><p>Normally this would impact performance, but Cyber generates specialized bytecode for builtin types like <code>int</code> and <code>float</code>. The VM performs inline caching at runtime to eliminate the overhead of evaluating on dynamic operands.</p>
<p>To overload an operator for an object type, declare <code>$prefix</code>, <code>$infix</code>, <code>$postfix</code> methods. See the available <a href="#builtin-operators" title="">builtin operators</a>. Since operator names aren't allowed as standard identifiers, they are contained in a string literal.</p>
<pre><code class="language-cy">type Vec2 object:
    var x float
    var y float

    func '$infix+'(o Vec2) Vec2:
        return [Vec2
            x: x + o.x,
            y: y + o.y,
        ]

    func '$prefix-'() Vec2:
        return [Vec2 x: -x, y: -y]

var a = [Vec2 x: 1, y: 2]
var b = a + [Vec2 x: 3, y: 4]
var c = -a
</code></pre>
<p>Some special operators have their own name. This example overloads the <code>index</code> operator and the <code>set index</code> operator:</p>
<pre><code class="language-cy">type MyCollection object:
    var arr List

    func '$index'(idx):
        return arr[idx * 2]

    func '$setIndex'(idx, val):
        arr[idx * 2] = val 

var a = [MyCollection arr: [1, 2, 3, 4]]
print a[1]        -- Prints `3`
</code></pre>
<p><a href="#metaprogramming" title="">parent</a></p>
<h3 id="builtin-operators">Builtin operators. <a href="#builtin-operators">#</a></h3>
<p>A list of all supported operators:</p>
<table><thead><tr><th>Operator</th><th>Name</th></tr></thead><tbody><tr><td>Bitwise not</td><td><code>$prefix~</code></td></tr><tr><td>Minus</td><td><code>$prefix-</code></td></tr><tr><td>Greater</td><td><code>$infix></code></td></tr><tr><td>Greater equal</td><td><code>$infix>=</code></td></tr><tr><td>Less</td><td><code>$infix<</code></td></tr><tr><td>Less equal</td><td><code>$infix<=</code></td></tr><tr><td>Add</td><td><code>$infix+</code></td></tr><tr><td>Subtract</td><td><code>$infix-</code></td></tr><tr><td>Multiply</td><td><code>$infix*</code></td></tr><tr><td>Divide</td><td><code>$infix/</code></td></tr><tr><td>Modulus</td><td><code>$infix%</code></td></tr><tr><td>Power</td><td><code>$infix^</code></td></tr><tr><td>Bitwise and</td><td><code>$infix&</code></td></tr><tr><td>Bitwise or</td><td><code>$infix\|</code></td></tr><tr><td>Bitwise xor</td><td><code>$infix\|\|</code></td></tr><tr><td>Bitwise left shift</td><td><code>$infix<<</code></td></tr><tr><td>Bitwise right shift</td><td><code>$infix>></code></td></tr><tr><td>Index</td><td><code>$index</code></td></tr><tr><td>Set index</td><td><code>$setIndex</code></td></tr><tr><td>Slice</td><td><code>$slice</code></td></tr></tbody></table><p><a href="#metaprogramming" title="">parent</a></p>
<h3 id="custom-operators">Custom operators. <a href="#custom-operators">#</a></h3>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#metaprogramming" title="">parent</a></p>
<h2 id="magic-functions">Magic functions. <a href="#magic-functions">#</a></h2>
<h3 id="call-module">Call module. <a href="#call-module">#</a></h3>
<p>Declare a <code>$call</code> function to allow invoking a module as a function.</p>
<pre><code class="language-cy">-- Object types are also modules.
type Vec2 object:
    var x float
    var y float

func Vec2.'$call'(x float, y float) Vec2:
    return [Vec2 x: x, y: y]

var v = Vec2(1, 2)
</code></pre>
<p><a href="#metaprogramming" title="">parent</a></p>
<h3 id="gettersetter">Getter/Setter. <a href="#gettersetter">#</a></h3>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#metaprogramming" title="">parent</a></p>
<h3 id="missing-method">Missing method. <a href="#missing-method">#</a></h3>
<p>Declare a <code>$missing</code> method as a fallback when a method was not found in an instance.</p>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><pre><code class="language-cy">type A object:

    func '$missing'(args...):
        return args.len

var a = [A:]
print a.foo()      -- Output: '0'
print a.bar(1, 2)  -- Output: '2'
</code></pre>
<p><a href="#metaprogramming" title="">parent</a></p>
<h2 id="reflection">Reflection. <a href="#reflection">#</a></h2>
<p>A <a href="#type-metatype" title=""><code>type metatype</code></a> object references an internal type. Use the <code>typeof</code> builtin to get the <code>metatype</code> of a value.</p>
<pre><code class="language-cy">var val = 123
print typeof(val)   -- 'type: float'

-- Referencing a type as a value also returns its `metatype`.
print bool          -- 'type: bool'
</code></pre>
<p><a href="#metaprogramming" title="">parent</a></p>
<h2 id="annotations">Annotations. <a href="#annotations">#</a></h2>
<p>Annotations are used to attach modifiers to declarative statements. The <code>@host</code> annotation is used for <a href="#embedding" title="">embedding</a> to bind a host function to a Cyber function:</p>
<pre><code class="language-cy">@host func compute() float
</code></pre>
<p>Custom annotations.</p>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#metaprogramming" title="">parent</a></p>
<h2 id="runtime-eval">Runtime eval. <a href="#runtime-eval">#</a></h2>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#metaprogramming" title="">parent</a></p>
<h2 id="generics">Generics. <a href="#generics">#</a></h2>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#metaprogramming" title="">parent</a></p>
<h2 id="compile-time">Compile-time. <a href="#compile-time">#</a></h2>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#metaprogramming" title="">parent</a></p>
<h1 id="embedding">Embedding. <a href="#embedding">#</a></h1>
<table><tr>
<td valign="top">
<ul>
<li><a href="#getting-started" title="">Getting started.</a><ul>
<li><a href="#create-vm" title="">Create VM.</a></li>
<li><a href="#override-print" title="">Override <code>print</code>.</a></li>
<li><a href="#eval-script" title="">Eval script.</a></li>
</ul>
</li>
<li><a href="#module-loader" title="">Module Loader.</a><ul>
<li><a href="#default-module-loader" title="">Default module loader.</a></li>
<li><a href="#function-loader" title="">Function loader.</a></li>
<li><a href="#variable-loader" title="">Variable loader.</a></li>
<li><a href="#type-loader" title="">Type loader.</a></li>
</ul>
</li>
</ul>
</td><td valign="top">
<ul>
<li><a href="#host-functions" title="">Host functions.</a></li>
<li><a href="#host-types" title="">Host types.</a><ul>
<li><a href="#getchildren" title=""><code>getChildren</code></a></li>
<li><a href="#finalizer-1" title=""><code>finalizer</code></a></li>
</ul>
</li>
</ul>
</td>
</tr></table>
<p><a href="#table-of-contents" title="">top</a></p>
<p>The Embed API allows embedding the Cyber compiler and VM as a library into applications. Cyber's core types and the CLI app were built using the Embed API.</p>
<p>The API is defined in the <a href="https://github.com/fubark/cyber/blob/master/src/include/cyber.h" title="">C header file</a>.
The examples shown below can be found in the repository under <a href="https://github.com/fubark/cyber/blob/master/examples/c-embedded" title="">c-embedded</a>. C is used as the host language, but it can be easily translated to C++ or any C-ABI compatible language.</p>
<p>Types from the Embed API begin with <code>Cs</code>, constants begin with <code>CS</code>, and functions begin with <code>cs</code>.</p>
<h2 id="getting-started">Getting started. <a href="#getting-started">#</a></h2>
<h3 id="create-vm">Create VM. <a href="#create-vm">#</a></h3>
<p>Most operations are tied to a VM handle. To create a new VM instance, call <code>csCreate</code>:</p>
<pre><code class="language-c">#include "cyber.h"

int main() {
    CsVM* vm = csCreate();
    // ...
    csDestroy(vm);
    return 0;
}
</code></pre>
<p><a href="#embedding" title="">parent</a></p>
<h3 id="override-print">Override <code>print</code>. <a href="#override-print">#</a></h3>
<p>The builtin <code>print</code> function does nothing by default, so it needs to be overrided to print to stdout for example:</p>
<pre><code class="language-c">void print(CsVM* vm, CsStr str) {
    printf("My print: %.*s\n", (int)str.len, str.buf);
}

int main() {
    // ...
    csSetPrint(vm, print);
    // ...
}
</code></pre>
<p><a href="#embedding" title="">parent</a></p>
<h3 id="eval-script">Eval script. <a href="#eval-script">#</a></h3>
<p><code>csEval</code> compiles and evaluates a script:</p>
<pre><code class="language-c">CsStr src = STR(
    "var a = 1\n"
    "print(a + 2)\n"
);

CsValue val;
int res = csEval(vm, src, &val);
if (res == CS_SUCCESS) {
    printf("Success!\n");
    csRelease(vm, val);
} else {
    const char* report = csNewLastErrorReport(vm);
    printf("%s\n", report);
    csFreeStrZ(report);
}
</code></pre>
<p>If a value is returned from the main block of the script, it's saved to the result value argument.
Memory is managed by ARC so a value that points to a heap object requires a <code>csRelease</code> when it's no longer needed.</p>
<p><code>csEval</code> returns a result code that indicates whether it was successful.</p>
<p><a href="#embedding" title="">parent</a></p>
<h2 id="module-loader">Module Loader. <a href="#module-loader">#</a></h2>
<p>A module loader describes how a module is loaded when an <code>import</code> statement is encountered during script execution.
Only one module loader can be active and is set using <code>csSetModuleLoader</code>:</p>
<pre><code class="language-c">bool modLoader(CsVM* vm, CsStr spec, CsModuleLoaderResult* out) {
    if (strncmp("my_mod", spec.buf, spec.len) == 0) {
        out->src =
            "@host func add(a float, b float) float\n"
            "@host var Root.MyConstant float\n"
            "@host var Root.MyList     List\n"
            "\n"
            "@host\n"
            "type MyCollection object:\n"
            "    @host func asList() any"
            "\n"
            "@host func MyCollection.new(a, b) MyCollection\n";
        out->funcLoader = funcLoader;
        out->varLoader = varLoader;
        out->typeLoader = typeLoader;
        return true;
    } else {
        // Fallback to the default module loader to load `builtins`.
        return csDefaultModuleLoader(vm, spec, out);
    }
}

int main() {
    //...
    csSetModuleLoader(vm, modLoader);
    //...
}
</code></pre>
<p>The above example checks whether "my_mod" was imported and returns it's source code. Additional loaders are returned to load the functions, variables, and types from the source code.</p>
<p><a href="#embedding" title="">parent</a></p>
<h3 id="default-module-loader">Default module loader. <a href="#default-module-loader">#</a></h3>
<p>Since only one module loader can be set to the VM instance, a custom loader is required to handle the "builtins" import which contains all of the core types and functions in Cyber. This can simply be delegated to <code>csDefaultModuleLoader</code>.</p>
<p><a href="#embedding" title="">parent</a></p>
<h3 id="function-loader">Function loader. <a href="#function-loader">#</a></h3>
<p>A function loader describes how to load a <code>@host</code> function when it's encountered by the compiler.
The loader can bind functions and type methods:</p>
<pre><code class="language-c">struct { char* n; CsFuncFn fn; } funcs[] = {
    {"add", add},
    {"asList", myCollectionAsList},
    {"MyCollection.new", myCollectionNew},
};

bool funcLoader(CsVM* vm, CsFuncInfo info, CsFuncResult* out) {
    // Check that the name matches before setting the function pointer.
    if (strncmp(funcs[info.idx].n, info.name.buf, info.name.len) == 0) {
        out->ptr = funcs[info.idx].fn;
        return true;
    } else {
        return false;
    }
}
</code></pre>
<p>This example uses the <code>CsFuncInfo.idx</code> of a @host function to index into an array and return a <a href="#host-functions" title="">Host function</a> pointer. The name is also compared to ensure it's binding to the correct pointer.</p>
<p>This is an efficient way to map Cyber functions to host functions. A different implementation might use a hash table to map the name of the function to it's pointer.</p>
<p><a href="#embedding" title="">parent</a></p>
<h3 id="variable-loader">Variable loader. <a href="#variable-loader">#</a></h3>
<p>A variable loader describes how to load a <code>@host</code> variable when it's encountered by the compiler:</p>
<pre><code class="language-c">// C has limited static initializers (and objects require a vm instance) so initialize them in `main`.
typedef struct { char* n; CsValue v; } NameValue;
NameValue vars[2];

bool varLoader(CsVM* vm, CsVarInfo info, CsValue* out) {
    // Check that the name matches before setting the value.
    if (strncmp(vars[info.idx].n, info.name.buf, info.name.len) == 0) {
        // Objects are consumed by the module.
        *out = vars[info.idx].v;
        return true;
    } else {
        return false;
    }
}

int main() {
    // ...

    // Initialize var array for loader.
    vars[0] = (NameValue){"Root.MyConstant", csFloat(1.23)};
    CsValue myInt = csInteger(123);
    vars[1] = (NameValue){"Root.MyList", csNewList(vm, &myInt, 1)};

    // ...
}
</code></pre>
<p>This example uses the same technique as the function loader, but it can be much simpler. It doesn't matter how the mapping is done as long as the variable loader returns a <code>CsValue</code>.</p>
<p><a href="#embedding" title="">parent</a></p>
<h3 id="type-loader">Type loader. <a href="#type-loader">#</a></h3>
<p>A type loader describes how to load a <code>@host</code> type when it's encountered by the compiler:</p>
<pre><code class="language-c">CsTypeId myCollectionId;

bool typeLoader(CsVM* vm, CsTypeInfo info, CsTypeResult* out) {
    if (strncmp("MyCollection", info.name.buf, info.name.len) == 0) {
        out->type = CS_TYPE_OBJECT;
        out->data.object.outTypeId = &myCollectionId;
        out->data.object.getChildren = myCollectionGetChildren;
        out->data.object.finalizer = myCollectionFinalizer;
        return true;
    } else {
        return false;
    }
}
</code></pre>
<p>When binding to the "MyCollection" type, it's typeId is saved to <code>outTypeId</code>. This id is then used to create new instances of this type. See <a href="#host-types" title="">Host types</a>.</p>
<p><a href="#embedding" title="">parent</a></p>
<h2 id="host-functions">Host functions. <a href="#host-functions">#</a></h2>
<p>A host function requires a specific function signature:</p>
<pre><code class="language-c">CsValue add(CsVM* vm, const CsValue* args, uint8_t nargs) {
    double res = csAsFloat(args[0]) + csAsFloat(args[1]);
    return csFloat(res);
}
</code></pre>
<p>A host function should always return a <code>CsValue</code>. <code>csNone()</code> can be returned if the function does not intend to return any value.</p>
<p><a href="#embedding" title="">parent</a></p>
<h2 id="host-types">Host types. <a href="#host-types">#</a></h2>
<p>A host type are types that are opaque to Cyber scripts but still behave like an object. They can have type functions and methods.</p>
<p>Only the host application can directly create new instances of them, so usually a function is binded to expose a constructor to the user script:</p>
<pre><code class="language-c">// Binding a C struct with it's own children and finalizer.
// This struct retains 2 VM values and has 2 arbitrary data values unrelated to the VM.
typedef struct MyCollection {
    CsValue val1;
    CsValue val2;
    int a;
    double b;
} MyCollection;

// Implement the `new` function in MyCollection.
CsValue myCollectionNew(CsVM* vm, const CsValue* args, uint8_t nargs) {
    // Instantiate our object.
    CsValue new = csNewHostObject(vm, myCollectionId, sizeof(MyCollection));
    MyCollection* my = (MyCollection*)csAsHostObject(new);

    // Assign the constructor args passed in and retain them since the new object now references them.
    csRetain(vm, args[0]);
    my->val1 = args[0];
    csRetain(vm, args[1]);
    my->val2 = args[1];

    // Assign non VM values.
    my->a = 123;
    my->b = 9999.999;
    return new;
}
</code></pre>
<p><code>csNewHostObject</code> takes the type id (returned from the <a href="#type-loader" title="">Type loader</a>) and size (in bytes) and returns a new heap object. Note that the size is allowed to vary. Different instances of the same type can occupy different amounts of memory.</p>
<p><a href="#embedding" title="">parent</a></p>
<h3 id="getchildren"><code>getChildren</code> <a href="#getchildren">#</a></h3>
<p>Since <code>MyCollection</code> contains <code>CsValue</code> children, the <a href="#type-loader" title="">Type loader</a> requires a <code>getChildren</code> callback so that memory management can reach them:</p>
<pre><code class="language-c">CsValueSlice myCollectionGetChildren(CsVM* vm, void* obj) {
    MyCollection* my = (MyCollection*)obj;
    return (CsValueSlice){ .ptr = &my->val1, .len = 2 };
}
</code></pre>
<p><a href="#embedding" title="">parent</a></p>
<h3 id="finalizer-1"><code>finalizer</code> <a href="#finalizer-1">#</a></h3>
<p>A type finalizer is optional since the memory and children of an instance will be freed automatically by ARC.
However, it can be useful to perform additional cleanup tasks for instances that contain external resources.</p>
<pre><code class="language-c">void myCollectionFinalizer(CsVM* vm, void* obj) {
    printf("MyCollection finalizer was called.\n");
}
</code></pre>
<p><a href="#embedding" title="">parent</a></p>
<h1 id="memory">Memory. <a href="#memory">#</a></h1>
<ul>
<li><a href="#arc" title="">ARC.</a><ul>
<li><a href="#reference-counting" title="">Reference counting.</a></li>
<li><a href="#optimizations" title="">Optimizations.</a></li>
<li><a href="#closures-1" title="">Closures.</a></li>
<li><a href="#fibers-1" title="">Fibers.</a></li>
</ul>
</li>
<li><a href="#heap" title="">Heap.</a><ul>
<li><a href="#weak-references" title="">Weak references.</a></li>
<li><a href="#cycle-detection" title="">Cycle detection.</a></li>
</ul>
</li>
</ul>
<p><a href="#table-of-contents" title="">top</a></p>
<p>Cyber provides memory safety by default.</p>
<h2 id="arc">ARC. <a href="#arc">#</a></h2>
<p>Cyber uses ARC or automatic reference counting to manage memory.
ARC is deterministic and has less overhead compared to a tracing garbage collector. Reference counting distributes memory management, which reduces GC pauses and makes ARC suitable for realtime applications. One common issue in ARC implementations is reference cycles which Cyber addresses with <a href="#weak-references" title="">Weak References</a> and it's very own <a href="#cycle-detection" title="">Cycle Detection</a>.</p>
<p><a href="#memory" title="">parent</a></p>
<h3 id="reference-counting">Reference counting. <a href="#reference-counting">#</a></h3>
<p>In Cyber, there are <a href="#data-types" title="">primitive and object</a> values. Primitives don't need any memory management, since they are copied by value and no heap allocation is required (with the exception of primitives being captured by a <a href="#closures-1" title="">closure</a>.</p>
<p>Objects are managed by ARC. Each object has its own reference counter. Upon creating a new object, it receives a reference count of 1. When the object is copied, it's <strong>retained</strong> and the reference count increments by 1. When an object value is removed from it's parent or is no longer reachable in the current stack frame, it is <strong>released</strong> and the reference count decrements by 1.</p>
<p>Once the reference count reaches 0 the object begins its destruction procedure. First, child references are released thereby decrementing their reference counts by 1. If the object is a host object, it will invoke its <code>finalizer</code> function. Afterwards, the object is freed from memory.</p>
<p><a href="#memory" title="">parent</a></p>
<h3 id="optimizations">Optimizations. <a href="#optimizations">#</a></h3>
<p>The compiler can reduce the number of retain/release ops since it can infer value types even though they are dynamically typed to the user. Arguments passed to functions are only retained depending on the analysis from the callsite.</p>
<p><a href="#memory" title="">parent</a></p>
<h3 id="closures-1">Closures. <a href="#closures-1">#</a></h3>
<p>When primitive variables are captured by a <a href="#closures" title="">closure</a>, they are boxed and allocated on the heap. This means they are managed by ARC and cleaned up when there are no more references to them.</p>
<p><a href="#memory" title="">parent</a></p>
<h3 id="fibers-1">Fibers. <a href="#fibers-1">#</a></h3>
<p><a href="#fibers" title="">Fibers</a> are freed by ARC just like any other object. Once there are no references to the fiber, it begins to release it's child references by unwinding it's call stack.</p>
<p><a href="#memory" title="">parent</a></p>
<h2 id="heap">Heap. <a href="#heap">#</a></h2>
<p>Many object types in Cyber are small enough to be at or under 40 bytes. To take advantage of this, Cyber can reserve object pools to quickly allocate and free these small objects with very little bookkeeping. Bigger objects are allocated and managed by <code>mimalloc</code> which has proven to be a fast and reliable general-purpose heap allocator.</p>
<p><a href="#memory" title="">parent</a></p>
<h2 id="weak-references">Weak references. <a href="#weak-references">#</a></h2>
<blockquote><p><em>Planned Feature</em></p>
</blockquote><p><a href="#memory" title="">parent</a></p>
<h2 id="cycle-detection">Cycle detection. <a href="#cycle-detection">#</a></h2>
<p>The cycle detector is also considered a GC and frees abandoned objects managed by ARC. Although weak references can remove cycles altogether, Cyber does not force you to use them and provides a manual GC as a one-time catch all solution.</p>
<blockquote><p><em>Incomplete Feature: Only the main fiber stack is cleaned up at the moment.</em></p>
</blockquote><p>To invoke the GC, call the builtin function: <code>performGC</code>.</p>
<pre><code class="language-cy">func foo():
    -- Create a reference cycle.
    var a = []
    var b = []
    a.append(b)
    b.append(a)

    -- Cycle still alive in the current stack so no cleanup is done.
    var res = performGC()
    print res['numCycFreed']    -- Output: 0
    print res['numObjFreed']    -- Output: 0

foo()
-- `a` and `b` are no longer reachable, so the GC does work.
var res = performGC()
print res['numCycFreed']      -- Output: 2
print res['numObjFreed']      -- Output: 2
</code></pre>
<p><a href="#memory" title="">parent</a></p>
<h1 id="backends">Backends. <a href="#backends">#</a></h1>
<ul>
<li><a href="#jit" title="">JIT.</a></li>
<li><a href="#aot" title="">AOT.</a></li>
</ul>
<p><a href="#table-of-contents" title="">top</a></p>
<h2 id="jit">JIT. <a href="#jit">#</a></h2>
<p>Cyber's just-in-time compiler is incomplete and unstable. To run your script with JIT enabled:</p>
<pre><code class="language-bash">cyber -jit &lt;script&gt;
</code></pre>
<p>The JIT compiler is just as fast as the bytecode generation so when it's enabled, the entire script is compiled from the start.</p>
<p><a href="#backends" title="">parent</a></p>
<h2 id="aot">AOT <a href="#aot">#</a></h2>
<p>Work on the ahead-of-time compiler has not begun.</p>
<p><a href="#backends" title="">parent</a></p>

</main>
<script>/*!
  Highlight.js v11.7.0 (git: 82688fad18)
  (c) 2006-2022 undefined and other contributors
  License: BSD-3-Clause
 */
  var hljs=function(){"use strict";var e={exports:{}};function n(e){
	return e instanceof Map?e.clear=e.delete=e.set=()=>{
	throw Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=()=>{
	throw Error("set is read-only")
	}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((t=>{var a=e[t]
	;"object"!=typeof a||Object.isFrozen(a)||n(a)})),e}
	e.exports=n,e.exports.default=n;class t{constructor(e){
	void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}
	ignoreMatch(){this.isMatchIgnored=!0}}function a(e){
	return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")
	}function i(e,...n){const t=Object.create(null);for(const n in e)t[n]=e[n]
	;return n.forEach((e=>{for(const n in e)t[n]=e[n]})),t}
	const r=e=>!!e.scope||e.sublanguage&&e.language;class s{constructor(e,n){
	this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){
	this.buffer+=a(e)}openNode(e){if(!r(e))return;let n=""
	;n=e.sublanguage?"language-"+e.language:((e,{prefix:n})=>{if(e.includes(".")){
	const t=e.split(".")
	;return[`${n}${t.shift()}`,...t.map(((e,n)=>`${e}${"_".repeat(n+1)}`))].join(" ")
	}return`${n}${e}`})(e.scope,{prefix:this.classPrefix}),this.span(n)}
	closeNode(e){r(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){
	this.buffer+=`<span class="${e}">`}}const o=(e={})=>{const n={children:[]}
	;return Object.assign(n,e),n};class l{constructor(){
	this.rootNode=o(),this.stack=[this.rootNode]}get top(){
	return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){
	this.top.children.push(e)}openNode(e){const n=o({scope:e})
	;this.add(n),this.stack.push(n)}closeNode(){
	if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){
	for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}
	walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){
	return"string"==typeof n?e.addText(n):n.children&&(e.openNode(n),
	n.children.forEach((n=>this._walk(e,n))),e.closeNode(n)),e}static _collapse(e){
	"string"!=typeof e&&e.children&&(e.children.every((e=>"string"==typeof e))?e.children=[e.children.join("")]:e.children.forEach((e=>{
	l._collapse(e)})))}}class c extends l{constructor(e){super(),this.options=e}
	addKeyword(e,n){""!==e&&(this.openNode(n),this.addText(e),this.closeNode())}
	addText(e){""!==e&&this.add(e)}addSublanguage(e,n){const t=e.root
	;t.sublanguage=!0,t.language=n,this.add(t)}toHTML(){
	return new s(this,this.options).value()}finalize(){return!0}}function d(e){
	return e?"string"==typeof e?e:e.source:null}function g(e){return m("(?=",e,")")}
	function u(e){return m("(?:",e,")*")}function b(e){return m("(?:",e,")?")}
	function m(...e){return e.map((e=>d(e))).join("")}function p(...e){const n=(e=>{
	const n=e[e.length-1]
	;return"object"==typeof n&&n.constructor===Object?(e.splice(e.length-1,1),n):{}
	})(e);return"("+(n.capture?"":"?:")+e.map((e=>d(e))).join("|")+")"}
	function _(e){return RegExp(e.toString()+"|").exec("").length-1}
	const h=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./
	;function f(e,{joinWith:n}){let t=0;return e.map((e=>{t+=1;const n=t
	;let a=d(e),i="";for(;a.length>0;){const e=h.exec(a);if(!e){i+=a;break}
	i+=a.substring(0,e.index),
	a=a.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+(Number(e[1])+n):(i+=e[0],
	"("===e[0]&&t++)}return i})).map((e=>`(${e})`)).join(n)}
	const E="[a-zA-Z]\\w*",y="[a-zA-Z_]\\w*",w="\\b\\d+(\\.\\d+)?",N="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",v="\\b(0b[01]+)",O={
	begin:"\\\\[\\s\\S]",relevance:0},k={scope:"string",begin:"'",end:"'",
	illegal:"\\n",contains:[O]},x={scope:"string",begin:'"',end:'"',illegal:"\\n",
	contains:[O]},M=(e,n,t={})=>{const a=i({scope:"comment",begin:e,end:n,
	contains:[]},t);a.contains.push({scope:"doctag",
	begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",
	end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0})
	;const r=p("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/)
	;return a.contains.push({begin:m(/[ ]+/,"(",r,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),a
	},S=M("//","$"),A=M("/\\*","\\*/"),C=M("#","$");var T=Object.freeze({
	__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:E,UNDERSCORE_IDENT_RE:y,
	NUMBER_RE:w,C_NUMBER_RE:N,BINARY_NUMBER_RE:v,
	RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",
	SHEBANG:(e={})=>{const n=/^#![ ]*\//
	;return e.binary&&(e.begin=m(n,/.*\b/,e.binary,/\b.*/)),i({scope:"meta",begin:n,
	end:/$/,relevance:0,"on:begin":(e,n)=>{0!==e.index&&n.ignoreMatch()}},e)},
	BACKSLASH_ESCAPE:O,APOS_STRING_MODE:k,QUOTE_STRING_MODE:x,PHRASAL_WORDS_MODE:{
	begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/
	},COMMENT:M,C_LINE_COMMENT_MODE:S,C_BLOCK_COMMENT_MODE:A,HASH_COMMENT_MODE:C,
	NUMBER_MODE:{scope:"number",begin:w,relevance:0},C_NUMBER_MODE:{scope:"number",
	begin:N,relevance:0},BINARY_NUMBER_MODE:{scope:"number",begin:v,relevance:0},
	REGEXP_MODE:{begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,
	end:/\/[gimuy]*/,illegal:/\n/,contains:[O,{begin:/\[/,end:/\]/,relevance:0,
	contains:[O]}]}]},TITLE_MODE:{scope:"title",begin:E,relevance:0},
	UNDERSCORE_TITLE_MODE:{scope:"title",begin:y,relevance:0},METHOD_GUARD:{
	begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0},END_SAME_AS_BEGIN:e=>Object.assign(e,{
	"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{
	n.data._beginMatch!==e[1]&&n.ignoreMatch()}})});function R(e,n){
	"."===e.input[e.index-1]&&n.ignoreMatch()}function D(e,n){
	void 0!==e.className&&(e.scope=e.className,delete e.className)}function I(e,n){
	n&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",
	e.__beforeBegin=R,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,
	void 0===e.relevance&&(e.relevance=0))}function L(e,n){
	Array.isArray(e.illegal)&&(e.illegal=p(...e.illegal))}function B(e,n){
	if(e.match){
	if(e.begin||e.end)throw Error("begin & end are not supported with match")
	;e.begin=e.match,delete e.match}}function $(e,n){
	void 0===e.relevance&&(e.relevance=1)}const z=(e,n)=>{if(!e.beforeMatch)return
	;if(e.starts)throw Error("beforeMatch cannot be used with starts")
	;const t=Object.assign({},e);Object.keys(e).forEach((n=>{delete e[n]
	})),e.keywords=t.keywords,e.begin=m(t.beforeMatch,g(t.begin)),e.starts={
	relevance:0,contains:[Object.assign(t,{endsParent:!0})]
	},e.relevance=0,delete t.beforeMatch
	},F=["of","and","for","in","not","or","if","then","parent","list","value"]
	;function U(e,n,t="keyword"){const a=Object.create(null)
	;return"string"==typeof e?i(t,e.split(" ")):Array.isArray(e)?i(t,e):Object.keys(e).forEach((t=>{
	Object.assign(a,U(e[t],n,t))})),a;function i(e,t){
	n&&(t=t.map((e=>e.toLowerCase()))),t.forEach((n=>{const t=n.split("|")
	;a[t[0]]=[e,j(t[0],t[1])]}))}}function j(e,n){
	return n?Number(n):(e=>F.includes(e.toLowerCase()))(e)?0:1}const P={},K=e=>{
	console.error(e)},H=(e,...n)=>{console.log("WARN: "+e,...n)},q=(e,n)=>{
	P[`${e}/${n}`]||(console.log(`Deprecated as of ${e}. ${n}`),P[`${e}/${n}`]=!0)
	},Z=Error();function G(e,n,{key:t}){let a=0;const i=e[t],r={},s={}
	;for(let e=1;e<=n.length;e++)s[e+a]=i[e],r[e+a]=!0,a+=_(n[e-1])
	;e[t]=s,e[t]._emit=r,e[t]._multi=!0}function W(e){(e=>{
	e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,
	delete e.scope)})(e),"string"==typeof e.beginScope&&(e.beginScope={
	_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope
	}),(e=>{if(Array.isArray(e.begin)){
	if(e.skip||e.excludeBegin||e.returnBegin)throw K("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),
	Z
	;if("object"!=typeof e.beginScope||null===e.beginScope)throw K("beginScope must be object"),
	Z;G(e,e.begin,{key:"beginScope"}),e.begin=f(e.begin,{joinWith:""})}})(e),(e=>{
	if(Array.isArray(e.end)){
	if(e.skip||e.excludeEnd||e.returnEnd)throw K("skip, excludeEnd, returnEnd not compatible with endScope: {}"),
	Z
	;if("object"!=typeof e.endScope||null===e.endScope)throw K("endScope must be object"),
	Z;G(e,e.end,{key:"endScope"}),e.end=f(e.end,{joinWith:""})}})(e)}function Q(e){
	function n(n,t){
	return RegExp(d(n),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(t?"g":""))
	}class t{constructor(){
	this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}
	addRule(e,n){
	n.position=this.position++,this.matchIndexes[this.matchAt]=n,this.regexes.push([n,e]),
	this.matchAt+=_(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null)
	;const e=this.regexes.map((e=>e[1]));this.matcherRe=n(f(e,{joinWith:"|"
	}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex
	;const n=this.matcherRe.exec(e);if(!n)return null
	;const t=n.findIndex(((e,n)=>n>0&&void 0!==e)),a=this.matchIndexes[t]
	;return n.splice(0,t),Object.assign(n,a)}}class a{constructor(){
	this.rules=[],this.multiRegexes=[],
	this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){
	if(this.multiRegexes[e])return this.multiRegexes[e];const n=new t
	;return this.rules.slice(e).forEach((([e,t])=>n.addRule(e,t))),
	n.compile(),this.multiRegexes[e]=n,n}resumingScanAtSamePosition(){
	return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,n){
	this.rules.push([e,n]),"begin"===n.type&&this.count++}exec(e){
	const n=this.getMatcher(this.regexIndex);n.lastIndex=this.lastIndex
	;let t=n.exec(e)
	;if(this.resumingScanAtSamePosition())if(t&&t.index===this.lastIndex);else{
	const n=this.getMatcher(0);n.lastIndex=this.lastIndex+1,t=n.exec(e)}
	return t&&(this.regexIndex+=t.position+1,
	this.regexIndex===this.count&&this.considerAll()),t}}
	if(e.compilerExtensions||(e.compilerExtensions=[]),
	e.contains&&e.contains.includes("self"))throw Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.")
	;return e.classNameAliases=i(e.classNameAliases||{}),function t(r,s){const o=r
	;if(r.isCompiled)return o
	;[D,B,W,z].forEach((e=>e(r,s))),e.compilerExtensions.forEach((e=>e(r,s))),
	r.__beforeBegin=null,[I,L,$].forEach((e=>e(r,s))),r.isCompiled=!0;let l=null
	;return"object"==typeof r.keywords&&r.keywords.$pattern&&(r.keywords=Object.assign({},r.keywords),
	l=r.keywords.$pattern,
	delete r.keywords.$pattern),l=l||/\w+/,r.keywords&&(r.keywords=U(r.keywords,e.case_insensitive)),
	o.keywordPatternRe=n(l,!0),
	s&&(r.begin||(r.begin=/\B|\b/),o.beginRe=n(o.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),
	r.end&&(o.endRe=n(o.end)),
	o.terminatorEnd=d(o.end)||"",r.endsWithParent&&s.terminatorEnd&&(o.terminatorEnd+=(r.end?"|":"")+s.terminatorEnd)),
	r.illegal&&(o.illegalRe=n(r.illegal)),
	r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map((e=>(e=>(e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((n=>i(e,{
	variants:null},n)))),e.cachedVariants?e.cachedVariants:X(e)?i(e,{
	starts:e.starts?i(e.starts):null
	}):Object.isFrozen(e)?i(e):e))("self"===e?r:e)))),r.contains.forEach((e=>{t(e,o)
	})),r.starts&&t(r.starts,s),o.matcher=(e=>{const n=new a
	;return e.contains.forEach((e=>n.addRule(e.begin,{rule:e,type:"begin"
	}))),e.terminatorEnd&&n.addRule(e.terminatorEnd,{type:"end"
	}),e.illegal&&n.addRule(e.illegal,{type:"illegal"}),n})(o),o}(e)}function X(e){
	return!!e&&(e.endsWithParent||X(e.starts))}class V extends Error{
	constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}
	const J=a,Y=i,ee=Symbol("nomatch");var ne=(n=>{
	const a=Object.create(null),i=Object.create(null),r=[];let s=!0
	;const o="Could not find the language '{}', did you forget to load/include a language module?",l={
	disableAutodetect:!0,name:"Plain text",contains:[]};let d={
	ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,
	languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",
	cssSelector:"pre code",languages:null,__emitter:c};function _(e){
	return d.noHighlightRe.test(e)}function h(e,n,t){let a="",i=""
	;"object"==typeof n?(a=e,
	t=n.ignoreIllegals,i=n.language):(q("10.7.0","highlight(lang, code, ...args) has been deprecated."),
	q("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),
	i=e,a=n),void 0===t&&(t=!0);const r={code:a,language:i};x("before:highlight",r)
	;const s=r.result?r.result:f(r.language,r.code,t)
	;return s.code=r.code,x("after:highlight",s),s}function f(e,n,i,r){
	const l=Object.create(null);function c(){if(!k.keywords)return void M.addText(S)
	;let e=0;k.keywordPatternRe.lastIndex=0;let n=k.keywordPatternRe.exec(S),t=""
	;for(;n;){t+=S.substring(e,n.index)
	;const i=w.case_insensitive?n[0].toLowerCase():n[0],r=(a=i,k.keywords[a]);if(r){
	const[e,a]=r
	;if(M.addText(t),t="",l[i]=(l[i]||0)+1,l[i]<=7&&(A+=a),e.startsWith("_"))t+=n[0];else{
	const t=w.classNameAliases[e]||e;M.addKeyword(n[0],t)}}else t+=n[0]
	;e=k.keywordPatternRe.lastIndex,n=k.keywordPatternRe.exec(S)}var a
	;t+=S.substring(e),M.addText(t)}function g(){null!=k.subLanguage?(()=>{
	if(""===S)return;let e=null;if("string"==typeof k.subLanguage){
	if(!a[k.subLanguage])return void M.addText(S)
	;e=f(k.subLanguage,S,!0,x[k.subLanguage]),x[k.subLanguage]=e._top
	}else e=E(S,k.subLanguage.length?k.subLanguage:null)
	;k.relevance>0&&(A+=e.relevance),M.addSublanguage(e._emitter,e.language)
	})():c(),S=""}function u(e,n){let t=1;const a=n.length-1;for(;t<=a;){
	if(!e._emit[t]){t++;continue}const a=w.classNameAliases[e[t]]||e[t],i=n[t]
	;a?M.addKeyword(i,a):(S=i,c(),S=""),t++}}function b(e,n){
	return e.scope&&"string"==typeof e.scope&&M.openNode(w.classNameAliases[e.scope]||e.scope),
	e.beginScope&&(e.beginScope._wrap?(M.addKeyword(S,w.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),
	S=""):e.beginScope._multi&&(u(e.beginScope,n),S="")),k=Object.create(e,{parent:{
	value:k}}),k}function m(e,n,a){let i=((e,n)=>{const t=e&&e.exec(n)
	;return t&&0===t.index})(e.endRe,a);if(i){if(e["on:end"]){const a=new t(e)
	;e["on:end"](n,a),a.isMatchIgnored&&(i=!1)}if(i){
	for(;e.endsParent&&e.parent;)e=e.parent;return e}}
	if(e.endsWithParent)return m(e.parent,n,a)}function p(e){
	return 0===k.matcher.regexIndex?(S+=e[0],1):(R=!0,0)}function _(e){
	const t=e[0],a=n.substring(e.index),i=m(k,e,a);if(!i)return ee;const r=k
	;k.endScope&&k.endScope._wrap?(g(),
	M.addKeyword(t,k.endScope._wrap)):k.endScope&&k.endScope._multi?(g(),
	u(k.endScope,e)):r.skip?S+=t:(r.returnEnd||r.excludeEnd||(S+=t),
	g(),r.excludeEnd&&(S=t));do{
	k.scope&&M.closeNode(),k.skip||k.subLanguage||(A+=k.relevance),k=k.parent
	}while(k!==i.parent);return i.starts&&b(i.starts,e),r.returnEnd?0:t.length}
	let h={};function y(a,r){const o=r&&r[0];if(S+=a,null==o)return g(),0
	;if("begin"===h.type&&"end"===r.type&&h.index===r.index&&""===o){
	if(S+=n.slice(r.index,r.index+1),!s){const n=Error(`0 width match regex (${e})`)
	;throw n.languageName=e,n.badRule=h.rule,n}return 1}
	if(h=r,"begin"===r.type)return(e=>{
	const n=e[0],a=e.rule,i=new t(a),r=[a.__beforeBegin,a["on:begin"]]
	;for(const t of r)if(t&&(t(e,i),i.isMatchIgnored))return p(n)
	;return a.skip?S+=n:(a.excludeBegin&&(S+=n),
	g(),a.returnBegin||a.excludeBegin||(S=n)),b(a,e),a.returnBegin?0:n.length})(r)
	;if("illegal"===r.type&&!i){
	const e=Error('Illegal lexeme "'+o+'" for mode "'+(k.scope||"<unnamed>")+'"')
	;throw e.mode=k,e}if("end"===r.type){const e=_(r);if(e!==ee)return e}
	if("illegal"===r.type&&""===o)return 1
	;if(T>1e5&&T>3*r.index)throw Error("potential infinite loop, way more iterations than matches")
	;return S+=o,o.length}const w=v(e)
	;if(!w)throw K(o.replace("{}",e)),Error('Unknown language: "'+e+'"')
	;const N=Q(w);let O="",k=r||N;const x={},M=new d.__emitter(d);(()=>{const e=[]
	;for(let n=k;n!==w;n=n.parent)n.scope&&e.unshift(n.scope)
	;e.forEach((e=>M.openNode(e)))})();let S="",A=0,C=0,T=0,R=!1;try{
	for(k.matcher.considerAll();;){
	T++,R?R=!1:k.matcher.considerAll(),k.matcher.lastIndex=C
	;const e=k.matcher.exec(n);if(!e)break;const t=y(n.substring(C,e.index),e)
	;C=e.index+t}
	return y(n.substring(C)),M.closeAllNodes(),M.finalize(),O=M.toHTML(),{
	language:e,value:O,relevance:A,illegal:!1,_emitter:M,_top:k}}catch(t){
	if(t.message&&t.message.includes("Illegal"))return{language:e,value:J(n),
	illegal:!0,relevance:0,_illegalBy:{message:t.message,index:C,
	context:n.slice(C-100,C+100),mode:t.mode,resultSoFar:O},_emitter:M};if(s)return{
	language:e,value:J(n),illegal:!1,relevance:0,errorRaised:t,_emitter:M,_top:k}
	;throw t}}function E(e,n){n=n||d.languages||Object.keys(a);const t=(e=>{
	const n={value:J(e),illegal:!1,relevance:0,_top:l,_emitter:new d.__emitter(d)}
	;return n._emitter.addText(e),n})(e),i=n.filter(v).filter(k).map((n=>f(n,e,!1)))
	;i.unshift(t);const r=i.sort(((e,n)=>{
	if(e.relevance!==n.relevance)return n.relevance-e.relevance
	;if(e.language&&n.language){if(v(e.language).supersetOf===n.language)return 1
	;if(v(n.language).supersetOf===e.language)return-1}return 0})),[s,o]=r,c=s
	;return c.secondBest=o,c}function y(e){let n=null;const t=(e=>{
	let n=e.className+" ";n+=e.parentNode?e.parentNode.className:""
	;const t=d.languageDetectRe.exec(n);if(t){const n=v(t[1])
	;return n||(H(o.replace("{}",t[1])),
	H("Falling back to no-highlight mode for this block.",e)),n?t[1]:"no-highlight"}
	return n.split(/\s+/).find((e=>_(e)||v(e)))})(e);if(_(t))return
	;if(x("before:highlightElement",{el:e,language:t
	}),e.children.length>0&&(d.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),
	console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),
	console.warn("The element with unescaped HTML:"),
	console.warn(e)),d.throwUnescapedHTML))throw new V("One of your code blocks includes unescaped HTML.",e.innerHTML)
	;n=e;const a=n.textContent,r=t?h(a,{language:t,ignoreIllegals:!0}):E(a)
	;e.innerHTML=r.value,((e,n,t)=>{const a=n&&i[n]||t
	;e.classList.add("hljs"),e.classList.add("language-"+a)
	})(e,t,r.language),e.result={language:r.language,re:r.relevance,
	relevance:r.relevance},r.secondBest&&(e.secondBest={
	language:r.secondBest.language,relevance:r.secondBest.relevance
	}),x("after:highlightElement",{el:e,result:r,text:a})}let w=!1;function N(){
	"loading"!==document.readyState?document.querySelectorAll(d.cssSelector).forEach(y):w=!0
	}function v(e){return e=(e||"").toLowerCase(),a[e]||a[i[e]]}
	function O(e,{languageName:n}){"string"==typeof e&&(e=[e]),e.forEach((e=>{
	i[e.toLowerCase()]=n}))}function k(e){const n=v(e)
	;return n&&!n.disableAutodetect}function x(e,n){const t=e;r.forEach((e=>{
	e[t]&&e[t](n)}))}
	"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",(()=>{
	w&&N()}),!1),Object.assign(n,{highlight:h,highlightAuto:E,highlightAll:N,
	highlightElement:y,
	highlightBlock:e=>(q("10.7.0","highlightBlock will be removed entirely in v12.0"),
	q("10.7.0","Please use highlightElement now."),y(e)),configure:e=>{d=Y(d,e)},
	initHighlighting:()=>{
	N(),q("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},
	initHighlightingOnLoad:()=>{
	N(),q("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")
	},registerLanguage:(e,t)=>{let i=null;try{i=t(n)}catch(n){
	if(K("Language definition for '{}' could not be registered.".replace("{}",e)),
	!s)throw n;K(n),i=l}
	i.name||(i.name=e),a[e]=i,i.rawDefinition=t.bind(null,n),i.aliases&&O(i.aliases,{
	languageName:e})},unregisterLanguage:e=>{delete a[e]
	;for(const n of Object.keys(i))i[n]===e&&delete i[n]},
	listLanguages:()=>Object.keys(a),getLanguage:v,registerAliases:O,
	autoDetection:k,inherit:Y,addPlugin:e=>{(e=>{
	e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=n=>{
	e["before:highlightBlock"](Object.assign({block:n.el},n))
	}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=n=>{
	e["after:highlightBlock"](Object.assign({block:n.el},n))})})(e),r.push(e)}
	}),n.debugMode=()=>{s=!1},n.safeMode=()=>{s=!0
	},n.versionString="11.7.0",n.regex={concat:m,lookahead:g,either:p,optional:b,
	anyNumberOfTimes:u};for(const n in T)"object"==typeof T[n]&&e.exports(T[n])
	;return Object.assign(n,T),n})({});const te=e=>({IMPORTANT:{scope:"meta",
	begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{
	scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},
	FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},
	ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",
	contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{
	scope:"number",
	begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",
	relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}
	}),ae=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],ie=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],re=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],se=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],oe=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),le=re.concat(se)
	;var ce="\\.([0-9](_*[0-9])*)",de="[0-9a-fA-F](_*[0-9a-fA-F])*",ge={
	className:"number",variants:[{
	begin:`(\\b([0-9](_*[0-9])*)((${ce})|\\.)?|(${ce}))[eE][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`
	},{begin:`\\b([0-9](_*[0-9])*)((${ce})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{
	begin:`(${ce})[fFdD]?\\b`},{begin:"\\b([0-9](_*[0-9])*)[fFdD]\\b"},{
	begin:`\\b0[xX]((${de})\\.?|(${de})?\\.(${de}))[pP][+-]?([0-9](_*[0-9])*)[fFdD]?\\b`
	},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${de})[lL]?\\b`},{
	begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],
	relevance:0};function ue(e,n,t){return-1===t?"":e.replace(n,(a=>ue(e,n,t-1)))}
	const be="[A-Za-z$_][0-9A-Za-z$_]*",me=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],pe=["true","false","null","undefined","NaN","Infinity"],_e=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],he=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],fe=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Ee=["arguments","this","super","console","window","document","localStorage","module","global"],ye=[].concat(fe,_e,he)
	;function we(e){const n=e.regex,t=be,a={begin:/<[A-Za-z0-9\\._:-]+/,
	end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(e,n)=>{
	const t=e[0].length+e.index,a=e.input[t]
	;if("<"===a||","===a)return void n.ignoreMatch();let i
	;">"===a&&(((e,{after:n})=>{const t="</"+e[0].slice(1)
	;return-1!==e.input.indexOf(t,n)})(e,{after:t})||n.ignoreMatch())
	;const r=e.input.substring(t)
	;((i=r.match(/^\s*=/))||(i=r.match(/^\s+extends\s+/))&&0===i.index)&&n.ignoreMatch()
	}},i={$pattern:be,keyword:me,literal:pe,built_in:ye,"variable.language":Ee
	},r="\\.([0-9](_?[0-9])*)",s="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",o={
	className:"number",variants:[{
	begin:`(\\b(${s})((${r})|\\.)?|(${r}))[eE][+-]?([0-9](_?[0-9])*)\\b`},{
	begin:`\\b(${s})\\b((${r})\\b|\\.)?|(${r})\\b`},{
	begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{
	begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{
	begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{
	begin:"\\b0[0-7]+n?\\b"}],relevance:0},l={className:"subst",begin:"\\$\\{",
	end:"\\}",keywords:i,contains:[]},c={begin:"html`",end:"",starts:{end:"`",
	returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,l],subLanguage:"xml"}},d={
	begin:"css`",end:"",starts:{end:"`",returnEnd:!1,
	contains:[e.BACKSLASH_ESCAPE,l],subLanguage:"css"}},g={className:"string",
	begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,l]},u={className:"comment",
	variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{
	begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",
	begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,
	excludeBegin:!0,relevance:0},{className:"variable",begin:t+"(?=\\s*(-)|$)",
	endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]
	}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]
	},b=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,d,g,{match:/\$\d+/},o]
	;l.contains=b.concat({begin:/\{/,end:/\}/,keywords:i,contains:["self"].concat(b)
	});const m=[].concat(u,l.contains),p=m.concat([{begin:/\(/,end:/\)/,keywords:i,
	contains:["self"].concat(m)}]),_={className:"params",begin:/\(/,end:/\)/,
	excludeBegin:!0,excludeEnd:!0,keywords:i,contains:p},h={variants:[{
	match:[/class/,/\s+/,t,/\s+/,/extends/,/\s+/,n.concat(t,"(",n.concat(/\./,t),")*")],
	scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{
	match:[/class/,/\s+/,t],scope:{1:"keyword",3:"title.class"}}]},f={relevance:0,
	match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),
	className:"title.class",keywords:{_:[..._e,...he]}},E={variants:[{
	match:[/function/,/\s+/,t,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],
	className:{1:"keyword",3:"title.function"},label:"func.def",contains:[_],
	illegal:/%/},y={
	match:n.concat(/\b/,(w=[...fe,"super","import"],n.concat("(?!",w.join("|"),")")),t,n.lookahead(/\(/)),
	className:"title.function",relevance:0};var w;const N={
	begin:n.concat(/\./,n.lookahead(n.concat(t,/(?![0-9A-Za-z$_(])/))),end:t,
	excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},v={
	match:[/get|set/,/\s+/,t,/(?=\()/],className:{1:"keyword",3:"title.function"},
	contains:[{begin:/\(\)/},_]
	},O="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",k={
	match:[/const|var|let/,/\s+/,t,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(O)],
	keywords:"async",className:{1:"keyword",3:"title.function"},contains:[_]}
	;return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:i,exports:{
	PARAMS_CONTAINS:p,CLASS_REFERENCE:f},illegal:/#(?![$_A-z])/,
	contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{
	label:"use_strict",className:"meta",relevance:10,
	begin:/^\s*['"]use (strict|asm)['"]/
	},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,c,d,g,u,{match:/\$\d+/},o,f,{
	className:"attr",begin:t+n.lookahead(":"),relevance:0},k,{
	begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",
	keywords:"return throw case",relevance:0,contains:[u,e.REGEXP_MODE,{
	className:"function",begin:O,returnBegin:!0,end:"\\s*=>",contains:[{
	className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{
	className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,
	excludeEnd:!0,keywords:i,contains:p}]}]},{begin:/,/,relevance:0},{match:/\s+/,
	relevance:0},{variants:[{begin:"<>",end:"</>"},{
	match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:a.begin,
	"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{
	begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},E,{
	beginKeywords:"while if switch catch for"},{
	begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",
	returnBegin:!0,label:"func.def",contains:[_,e.inherit(e.TITLE_MODE,{begin:t,
	className:"title.function"})]},{match:/\.\.\./,relevance:0},N,{match:"\\$"+t,
	relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},
	contains:[_]},y,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,
	className:"variable.constant"},h,v,{match:/\$[(.]/}]}}
	const Ne=e=>m(/\b/,e,/\w$/.test(e)?/\b/:/\B/),ve=["Protocol","Type"].map(Ne),Oe=["init","self"].map(Ne),ke=["Any","Self"],xe=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","break","case","catch","class","continue","convenience","default","defer","deinit","didSet","distributed","do","dynamic","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],Me=["false","nil","true"],Se=["assignment","associativity","higherThan","left","lowerThan","none","right"],Ae=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warn_unqualified_access","#warning"],Ce=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Te=p(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Re=p(Te,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),De=m(Te,Re,"*"),Ie=p(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),Le=p(Ie,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Be=m(Ie,Le,"*"),$e=m(/[A-Z]/,Le,"*"),ze=["autoclosure",m(/convention\(/,p("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",m(/objc\(/,Be,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","testable","UIApplicationMain","unknown","usableFromInline"],Fe=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"]
	;var Ue=Object.freeze({__proto__:null,grmr_bash:e=>{const n=e.regex,t={},a={
	begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[t]}]}
	;Object.assign(t,{className:"variable",variants:[{
	begin:n.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},a]});const i={
	className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},r={
	begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,
	end:/(\w+)/,className:"string"})]}},s={className:"string",begin:/"/,end:/"/,
	contains:[e.BACKSLASH_ESCAPE,t,i]};i.contains.push(s);const o={begin:/\$?\(\(/,
	end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,t]
	},l=e.SHEBANG({binary:"(fish|bash|zsh|sh|csh|ksh|tcsh|dash|scsh)",relevance:10
	}),c={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,
	contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{
	name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,
	keyword:["if","then","else","elif","fi","for","while","in","do","done","case","esac","function"],
	literal:["true","false"],
	built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]
	},contains:[l,e.SHEBANG(),c,o,e.HASH_COMMENT_MODE,r,{match:/(\/[a-z._-]+)+/},s,{
	className:"",begin:/\\"/},{className:"string",begin:/'/,end:/'/},t]}},
	grmr_c:e=>{const n=e.regex,t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]
	}),a="[a-zA-Z_]\\w*::",i="(decltype\\(auto\\)|"+n.optional(a)+"[a-zA-Z_]\\w*"+n.optional("<[^<>]+>")+")",r={
	className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{
	match:/\batomic_[a-z]{3,6}\b/}]},s={className:"string",variants:[{
	begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{
	begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",
	end:"'",illegal:"."},e.END_SAME_AS_BEGIN({
	begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},o={
	className:"number",variants:[{begin:"\\b(0b[01']+)"},{
	begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"
	},{
	begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"
	}],relevance:0},l={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{
	keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"
	},contains:[{begin:/\\\n/,relevance:0},e.inherit(s,{className:"string"}),{
	className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},c={
	className:"title",begin:n.optional(a)+e.IDENT_RE,relevance:0
	},d=n.optional(a)+e.IDENT_RE+"\\s*\\(",g={
	keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],
	type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],
	literal:"true false NULL",
	built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"
	},u=[l,r,t,e.C_BLOCK_COMMENT_MODE,o,s],b={variants:[{begin:/=/,end:/;/},{
	begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],
	keywords:g,contains:u.concat([{begin:/\(/,end:/\)/,keywords:g,
	contains:u.concat(["self"]),relevance:0}]),relevance:0},m={
	begin:"("+i+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,
	keywords:g,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:"decltype\\(auto\\)",
	keywords:g,relevance:0},{begin:d,returnBegin:!0,contains:[e.inherit(c,{
	className:"title.function"})],relevance:0},{relevance:0,match:/,/},{
	className:"params",begin:/\(/,end:/\)/,keywords:g,relevance:0,
	contains:[t,e.C_BLOCK_COMMENT_MODE,s,o,r,{begin:/\(/,end:/\)/,keywords:g,
	relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,s,o,r]}]
	},r,t,e.C_BLOCK_COMMENT_MODE,l]};return{name:"C",aliases:["h"],keywords:g,
	disableAutodetect:!0,illegal:"</",contains:[].concat(b,m,u,[l,{
	begin:e.IDENT_RE+"::",keywords:g},{className:"class",
	beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{
	beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:l,
	strings:s,keywords:g}}},grmr_cpp:e=>{const n=e.regex,t=e.COMMENT("//","$",{
	contains:[{begin:/\\\n/}]
	}),a="[a-zA-Z_]\\w*::",i="(?!struct)(decltype\\(auto\\)|"+n.optional(a)+"[a-zA-Z_]\\w*"+n.optional("<[^<>]+>")+")",r={
	className:"type",begin:"\\b[a-z\\d_]*_t\\b"},s={className:"string",variants:[{
	begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{
	begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",
	end:"'",illegal:"."},e.END_SAME_AS_BEGIN({
	begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},o={
	className:"number",variants:[{begin:"\\b(0b[01']+)"},{
	begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"
	},{
	begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"
	}],relevance:0},l={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{
	keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"
	},contains:[{begin:/\\\n/,relevance:0},e.inherit(s,{className:"string"}),{
	className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},c={
	className:"title",begin:n.optional(a)+e.IDENT_RE,relevance:0
	},d=n.optional(a)+e.IDENT_RE+"\\s*\\(",g={
	type:["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],
	keyword:["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],
	literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],
	_type_hints:["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"]
	},u={className:"function.dispatch",relevance:0,keywords:{
	_hint:["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"]
	},
	begin:n.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,n.lookahead(/(<[^<>]+>|)\s*\(/))
	},b=[u,l,r,t,e.C_BLOCK_COMMENT_MODE,o,s],m={variants:[{begin:/=/,end:/;/},{
	begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],
	keywords:g,contains:b.concat([{begin:/\(/,end:/\)/,keywords:g,
	contains:b.concat(["self"]),relevance:0}]),relevance:0},p={className:"function",
	begin:"("+i+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,
	keywords:g,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:"decltype\\(auto\\)",
	keywords:g,relevance:0},{begin:d,returnBegin:!0,contains:[c],relevance:0},{
	begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[s,o]},{
	relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:g,
	relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,s,o,r,{begin:/\(/,end:/\)/,
	keywords:g,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,s,o,r]}]
	},r,t,e.C_BLOCK_COMMENT_MODE,l]};return{name:"C++",
	aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:g,illegal:"</",
	classNameAliases:{"function.dispatch":"built_in"},
	contains:[].concat(m,p,u,b,[l,{
	begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",
	end:">",keywords:g,contains:["self",r]},{begin:e.IDENT_RE+"::",keywords:g},{
	match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],
	className:{1:"keyword",3:"title.class"}}])}},grmr_csharp:e=>{const n={
	keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"]),
	built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],
	literal:["default","false","null","true"]},t=e.inherit(e.TITLE_MODE,{
	begin:"[a-zA-Z](\\.?\\w)*"}),a={className:"number",variants:[{
	begin:"\\b(0b[01']+)"},{
	begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{
	begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"
	}],relevance:0},i={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]
	},r=e.inherit(i,{illegal:/\n/}),s={className:"subst",begin:/\{/,end:/\}/,
	keywords:n},o=e.inherit(s,{illegal:/\n/}),l={className:"string",begin:/\$"/,
	end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/
	},e.BACKSLASH_ESCAPE,o]},c={className:"string",begin:/\$@"/,end:'"',contains:[{
	begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]},d=e.inherit(c,{illegal:/\n/,
	contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},o]})
	;s.contains=[c,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,a,e.C_BLOCK_COMMENT_MODE],
	o.contains=[d,l,r,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,a,e.inherit(e.C_BLOCK_COMMENT_MODE,{
	illegal:/\n/})];const g={variants:[c,l,i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]
	},u={begin:"<",end:">",contains:[{beginKeywords:"in out"},t]
	},b=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",m={
	begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],
	keywords:n,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,
	contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{
	begin:"\x3c!--|--\x3e"},{begin:"</?",end:">"}]}]
	}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",
	end:"$",keywords:{
	keyword:"if else elif endif define undef warning error line region endregion pragma checksum"
	}},g,a,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,
	illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"
	},t,u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",
	relevance:0,end:/[{;=]/,illegal:/[^\s:]/,
	contains:[t,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{
	beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,
	contains:[t,u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",
	begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{
	className:"string",begin:/"/,end:/"/}]},{
	beginKeywords:"new return throw await else",relevance:0},{className:"function",
	begin:"("+b+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,
	end:/\s*[{;=]/,excludeEnd:!0,keywords:n,contains:[{
	beginKeywords:"public private protected static internal protected abstract async extern override unsafe virtual new sealed partial",
	relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,
	contains:[e.TITLE_MODE,u],relevance:0},{match:/\(\)/},{className:"params",
	begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:n,relevance:0,
	contains:[g,a,e.C_BLOCK_COMMENT_MODE]
	},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},m]}},grmr_css:e=>{
	const n=e.regex,t=te(e),a=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{
	name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{
	keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},
	contains:[t.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/
	},t.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0
	},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0
	},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{
	begin:":("+re.join("|")+")"},{begin:":(:)?("+se.join("|")+")"}]
	},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+oe.join("|")+")\\b"},{
	begin:/:/,end:/[;}{]/,
	contains:[t.BLOCK_COMMENT,t.HEXCOLOR,t.IMPORTANT,t.CSS_NUMBER_MODE,...a,{
	begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"
	},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,
	excludeEnd:!0}]},t.FUNCTION_DISPATCH]},{begin:n.lookahead(/@/),end:"[{;]",
	relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/
	},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{
	$pattern:/[a-z-]+/,keyword:"and or not only",attribute:ie.join(" ")},contains:[{
	begin:/[a-z-]+(?=:)/,className:"attribute"},...a,t.CSS_NUMBER_MODE]}]},{
	className:"selector-tag",begin:"\\b("+ae.join("|")+")\\b"}]}},grmr_diff:e=>{
	const n=e.regex;return{name:"Diff",aliases:["patch"],contains:[{
	className:"meta",relevance:10,
	match:n.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)
	},{className:"comment",variants:[{
	begin:n.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),
	end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{
	className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,
	end:/$/}]}},grmr_go:e=>{const n={
	keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],
	type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],
	literal:["true","false","iota","nil"],
	built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]
	};return{name:"Go",aliases:["golang"],keywords:n,illegal:"</",
	contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",
	variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{
	className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1
	},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",
	end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",
	begin:/\(/,end:/\)/,endsParent:!0,keywords:n,illegal:/["']/}]}]}},
	grmr_graphql:e=>{const n=e.regex;return{name:"GraphQL",aliases:["gql"],
	case_insensitive:!0,disableAutodetect:!1,keywords:{
	keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],
	literal:["true","false","null"]},
	contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{
	scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",
	begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,
	end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{
	scope:"symbol",begin:n.concat(/[_A-Za-z][_0-9A-Za-z]*/,n.lookahead(/\s*:/)),
	relevance:0}],illegal:[/[;<']/,/BEGIN/]}},grmr_ini:e=>{const n=e.regex,t={
	className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{
	begin:e.NUMBER_RE}]},a=e.COMMENT();a.variants=[{begin:/;/,end:/$/},{begin:/#/,
	end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{
	begin:/\$\{(.*?)\}/}]},r={className:"literal",
	begin:/\bon|off|true|false|yes|no\b/},s={className:"string",
	contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{
	begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]
	},o={begin:/\[/,end:/\]/,contains:[a,r,i,s,t,"self"],relevance:0
	},l=n.either(/[A-Za-z0-9_-]+/,/"(\\"|[^"])*"/,/'[^']*'/);return{
	name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,
	contains:[a,{className:"section",begin:/\[+/,end:/\]+/},{
	begin:n.concat(l,"(\\s*\\.\\s*",l,")*",n.lookahead(/\s*=\s*[^#\s]/)),
	className:"attr",starts:{end:/$/,contains:[a,o,r,i,s,t]}}]}},grmr_java:e=>{
	const n=e.regex,t="[\xc0-\u02b8a-zA-Z_$][\xc0-\u02b8a-zA-Z_$0-9]*",a=t+ue("(?:<"+t+"~~~(?:\\s*,\\s*"+t+"~~~)*>)?",/~~~/g,2),i={
	keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],
	literal:["false","true","null"],
	type:["char","boolean","long","float","int","byte","short","double"],
	built_in:["super","this"]},r={className:"meta",begin:"@"+t,contains:[{
	begin:/\(/,end:/\)/,contains:["self"]}]},s={className:"params",begin:/\(/,
	end:/\)/,keywords:i,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0}
	;return{name:"Java",aliases:["jsp"],keywords:i,illegal:/<\/|#/,
	contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,
	relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{
	begin:/import java\.[a-z]+\./,keywords:"import",relevance:2
	},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,
	className:"string",contains:[e.BACKSLASH_ESCAPE]
	},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{
	match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,t],className:{
	1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{
	begin:[n.concat(/(?!else)/,t),/\s+/,t,/\s+/,/=(?!=)/],className:{1:"type",
	3:"variable",5:"operator"}},{begin:[/record/,/\s+/,t],className:{1:"keyword",
	3:"title.class"},contains:[s,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{
	beginKeywords:"new throw return else",relevance:0},{
	begin:["(?:"+a+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{
	2:"title.function"},keywords:i,contains:[{className:"params",begin:/\(/,
	end:/\)/,keywords:i,relevance:0,
	contains:[r,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,ge,e.C_BLOCK_COMMENT_MODE]
	},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},ge,r]}},grmr_javascript:we,
	grmr_json:e=>{const n=["true","false","null"],t={scope:"literal",
	beginKeywords:n.join(" ")};return{name:"JSON",keywords:{literal:n},contains:[{
	className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{
	match:/[{}[\],:]/,className:"punctuation",relevance:0
	},e.QUOTE_STRING_MODE,t,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],
	illegal:"\\S"}},grmr_kotlin:e=>{const n={
	keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",
	built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",
	literal:"true false null"},t={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"
	},a={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},i={
	className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},r={className:"string",
	variants:[{begin:'"""',end:'"""(?=[^"])',contains:[i,a]},{begin:"'",end:"'",
	illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,
	contains:[e.BACKSLASH_ESCAPE,i,a]}]};a.contains.push(r);const s={
	className:"meta",
	begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"
	},o={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,
	end:/\)/,contains:[e.inherit(r,{className:"string"}),"self"]}]
	},l=ge,c=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),d={
	variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,
	contains:[]}]},g=d;return g.variants[1].contains=[d],d.variants[1].contains=[g],
	{name:"Kotlin",aliases:["kt","kts"],keywords:n,
	contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",
	begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,c,{className:"keyword",
	begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",
	begin:/@\w+/}]}},t,s,o,{className:"function",beginKeywords:"fun",end:"[(]|$",
	returnBegin:!0,excludeEnd:!0,keywords:n,relevance:5,contains:[{
	begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,
	contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,
	keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,
	endsParent:!0,keywords:n,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,
	endsWithParent:!0,contains:[d,e.C_LINE_COMMENT_MODE,c],relevance:0
	},e.C_LINE_COMMENT_MODE,c,s,o,r,e.C_NUMBER_MODE]},c]},{
	begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{
	3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,
	illegal:"extends implements",contains:[{
	beginKeywords:"public protected internal private constructor"
	},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,
	excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,
	excludeBegin:!0,returnEnd:!0},s,o]},r,{className:"meta",begin:"^#!/usr/bin/env",
	end:"$",illegal:"\n"},l]}},grmr_less:e=>{
	const n=te(e),t=le,a="([\\w-]+|@\\{[\\w-]+\\})",i=[],r=[],s=e=>({
	className:"string",begin:"~?"+e+".*?"+e}),o=(e,n,t)=>({className:e,begin:n,
	relevance:t}),l={$pattern:/[a-z-]+/,keyword:"and or not only",
	attribute:ie.join(" ")},c={begin:"\\(",end:"\\)",contains:r,keywords:l,
	relevance:0}
	;r.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,s("'"),s('"'),n.CSS_NUMBER_MODE,{
	begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",
	excludeEnd:!0}
	},n.HEXCOLOR,c,o("variable","@@?[\\w-]+",10),o("variable","@\\{[\\w-]+\\}"),o("built_in","~?`[^`]*?`"),{
	className:"attribute",begin:"[\\w-]+\\s*:",end:":",returnBegin:!0,excludeEnd:!0
	},n.IMPORTANT,{beginKeywords:"and not"},n.FUNCTION_DISPATCH);const d=r.concat({
	begin:/\{/,end:/\}/,contains:i}),g={beginKeywords:"when",endsWithParent:!0,
	contains:[{beginKeywords:"and not"}].concat(r)},u={begin:a+"\\s*:",
	returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/
	},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+oe.join("|")+")\\b",
	end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:r}}]
	},b={className:"keyword",
	begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",
	starts:{end:"[;{}]",keywords:l,returnEnd:!0,contains:r,relevance:0}},m={
	className:"variable",variants:[{begin:"@[\\w-]+\\s*:",relevance:15},{
	begin:"@[\\w-]+"}],starts:{end:"[;}]",returnEnd:!0,contains:d}},p={variants:[{
	begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:a,end:/\{/}],returnBegin:!0,
	returnEnd:!0,illegal:"[<='$\"]",relevance:0,
	contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,g,o("keyword","all\\b"),o("variable","@\\{[\\w-]+\\}"),{
	begin:"\\b("+ae.join("|")+")\\b",className:"selector-tag"
	},n.CSS_NUMBER_MODE,o("selector-tag",a,0),o("selector-id","#"+a),o("selector-class","\\."+a,0),o("selector-tag","&",0),n.ATTRIBUTE_SELECTOR_MODE,{
	className:"selector-pseudo",begin:":("+re.join("|")+")"},{
	className:"selector-pseudo",begin:":(:)?("+se.join("|")+")"},{begin:/\(/,
	end:/\)/,relevance:0,contains:d},{begin:"!important"},n.FUNCTION_DISPATCH]},_={
	begin:`[\\w-]+:(:)?(${t.join("|")})`,returnBegin:!0,contains:[p]}
	;return i.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,b,m,_,u,p,g,n.FUNCTION_DISPATCH),
	{name:"Less",case_insensitive:!0,illegal:"[=>'/<($\"]",contains:i}},
	grmr_lua:e=>{const n="\\[=*\\[",t="\\]=*\\]",a={begin:n,end:t,contains:["self"]
	},i=[e.COMMENT("--(?!\\[=*\\[)","$"),e.COMMENT("--\\[=*\\[",t,{contains:[a],
	relevance:10})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,
	literal:"true false nil",
	keyword:"and break do else elseif end for goto if in local not or repeat return then until while",
	built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"
	},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",
	contains:[e.inherit(e.TITLE_MODE,{
	begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",
	begin:"\\(",endsWithParent:!0,contains:i}].concat(i)
	},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",
	begin:n,end:t,contains:[a],relevance:5}])}},grmr_makefile:e=>{const n={
	className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",
	contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},t={className:"string",
	begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n]},a={className:"variable",
	begin:/\$\([\w-]+\s/,end:/\)/,keywords:{
	built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"
	},contains:[n]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},r={
	className:"section",begin:/^[^\s]+:/,end:/$/,contains:[n]};return{
	name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,
	keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"
	},contains:[e.HASH_COMMENT_MODE,n,t,a,i,{className:"meta",begin:/^\.PHONY:/,
	end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},r]}},grmr_xml:e=>{
	const n=e.regex,t=n.concat(/[\p{L}_]/u,n.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),a={
	className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},i={begin:/\s/,
	contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]
	},r=e.inherit(i,{begin:/\(/,end:/\)/}),s=e.inherit(e.APOS_STRING_MODE,{
	className:"string"}),o=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),l={
	endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",
	begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{
	className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[a]},{
	begin:/'/,end:/'/,contains:[a]},{begin:/[^\s"'=<>`]+/}]}]}]};return{
	name:"HTML, XML",
	aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],
	case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,
	end:/>/,relevance:10,contains:[i,o,s,r,{begin:/\[/,end:/\]/,contains:[{
	className:"meta",begin:/<![a-z]/,end:/>/,contains:[i,r,o,s]}]}]
	},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,
	relevance:10},a,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,
	relevance:10,contains:[o]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",
	begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[l],starts:{
	end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",
	begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[l],starts:{
	end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{
	className:"tag",begin:/<>|<\/>/},{className:"tag",
	begin:n.concat(/</,n.lookahead(n.concat(t,n.either(/\/>/,/>/,/\s/)))),
	end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:l}]},{
	className:"tag",begin:n.concat(/<\//,n.lookahead(n.concat(t,/>/))),contains:[{
	className:"name",begin:t,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}
	},grmr_markdown:e=>{const n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",
	relevance:0},t={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{
	begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,
	relevance:2},{
	begin:e.regex.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z0-9+.-]*/,/:\/\/.*?\)/),
	relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{
	begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/
	},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,
	returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",
	excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",
	end:"\\]",excludeBegin:!0,excludeEnd:!0}]},a={className:"strong",contains:[],
	variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]
	},i={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{
	begin:/_(?![_\s])/,end:/_/,relevance:0}]},r=e.inherit(a,{contains:[]
	}),s=e.inherit(i,{contains:[]});a.contains.push(s),i.contains.push(r)
	;let o=[n,t];return[a,i,r,s].forEach((e=>{e.contains=e.contains.concat(o)
	})),o=o.concat(a,i),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{
	className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:o},{
	begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",
	contains:o}]}]},n,{className:"bullet",begin:"^[ \t]*([*+-]|(\\d+\\.))(?=\\s+)",
	end:"\\s+",excludeEnd:!0},a,i,{className:"quote",begin:"^>\\s+",contains:o,
	end:"$"},{className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{
	begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{
	begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",
	contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},{
	begin:"^[-\\*]{3,}",end:"$"},t,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{
	className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{
	className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}},grmr_objectivec:e=>{
	const n=/[a-zA-Z@][a-zA-Z0-9_]*/,t={$pattern:n,
	keyword:["@interface","@class","@protocol","@implementation"]};return{
	name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],
	keywords:{"variable.language":["this","super"],$pattern:n,
	keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],
	literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],
	built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],
	type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]
	},illegal:"</",contains:[{className:"built_in",
	begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"
	},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{
	className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",
	contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,
	keywords:{
	keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"
	},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{
	className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"
	},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",
	begin:"("+t.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:t,
	contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,
	relevance:0}]}},grmr_perl:e=>{const n=e.regex,t=/[dualxmsipngr]{0,12}/,a={
	$pattern:/[\w.]+/,
	keyword:"abs accept alarm and atan2 bind binmode bless break caller chdir chmod chomp chop chown chr chroot close closedir connect continue cos crypt dbmclose dbmopen defined delete die do dump each else elsif endgrent endhostent endnetent endprotoent endpwent endservent eof eval exec exists exit exp fcntl fileno flock for foreach fork format formline getc getgrent getgrgid getgrnam gethostbyaddr gethostbyname gethostent getlogin getnetbyaddr getnetbyname getnetent getpeername getpgrp getpriority getprotobyname getprotobynumber getprotoent getpwent getpwnam getpwuid getservbyname getservbyport getservent getsockname getsockopt given glob gmtime goto grep gt hex if index int ioctl join keys kill last lc lcfirst length link listen local localtime log lstat lt ma map mkdir msgctl msgget msgrcv msgsnd my ne next no not oct open opendir or ord our pack package pipe pop pos print printf prototype push q|0 qq quotemeta qw qx rand read readdir readline readlink readpipe recv redo ref rename require reset return reverse rewinddir rindex rmdir say scalar seek seekdir select semctl semget semop send setgrent sethostent setnetent setpgrp setpriority setprotoent setpwent setservent setsockopt shift shmctl shmget shmread shmwrite shutdown sin sleep socket socketpair sort splice split sprintf sqrt srand stat state study sub substr symlink syscall sysopen sysread sysseek system syswrite tell telldir tie tied time times tr truncate uc ucfirst umask undef unless unlink unpack unshift untie until use utime values vec wait waitpid wantarray warn when while write x|0 xor y|0"
	},i={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:a},r={begin:/->\{/,
	end:/\}/},s={variants:[{begin:/\$\d/},{
	begin:n.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")
	},{begin:/[$%@][^\s\w{]/,relevance:0}]
	},o=[e.BACKSLASH_ESCAPE,i,s],l=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],c=(e,a,i="\\1")=>{
	const r="\\1"===i?i:n.concat(i,a)
	;return n.concat(n.concat("(?:",e,")"),a,/(?:\\.|[^\\\/])*?/,r,/(?:\\.|[^\\\/])*?/,i,t)
	},d=(e,a,i)=>n.concat(n.concat("(?:",e,")"),a,/(?:\\.|[^\\\/])*?/,i,t),g=[s,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{
	endsWithParent:!0}),r,{className:"string",contains:o,variants:[{
	begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",
	end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{
	begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",
	relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",
	contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",
	contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{
	begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",
	begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",
	relevance:0},{
	begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",
	keywords:"split return print reverse grep",relevance:0,
	contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{
	begin:c("s|tr|y",n.either(...l,{capture:!0}))},{begin:c("s|tr|y","\\(","\\)")},{
	begin:c("s|tr|y","\\[","\\]")},{begin:c("s|tr|y","\\{","\\}")}],relevance:2},{
	className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{
	begin:d("(?:m|qr)?",/\//,/\//)},{begin:d("m|qr",n.either(...l,{capture:!0
	}),/\1/)},{begin:d("m|qr",/\(/,/\)/)},{begin:d("m|qr",/\[/,/\]/)},{
	begin:d("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",
	end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{
	begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",
	subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]
	}];return i.contains=g,r.contains=g,{name:"Perl",aliases:["pl","pm"],keywords:a,
	contains:g}},grmr_php:e=>{
	const n=e.regex,t=/(?![A-Za-z0-9])(?![$])/,a=n.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,t),i=n.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,t),r={
	scope:"variable",match:"\\$+"+a},s={scope:"subst",variants:[{begin:/\$\w+/},{
	begin:/\{\$/,end:/\}/}]},o=e.inherit(e.APOS_STRING_MODE,{illegal:null
	}),l="[ \t\n]",c={scope:"string",variants:[e.inherit(e.QUOTE_STRING_MODE,{
	illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(s)
	}),o,e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*(\w+)\n/,end:/[ \t]*(\w+)\b/,
	contains:e.QUOTE_STRING_MODE.contains.concat(s)})]},d={scope:"number",
	variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{
	begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{
	begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{
	begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"
	}],relevance:0
	},g=["false","null","true"],u=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],b=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],m={
	keyword:u,literal:(e=>{const n=[];return e.forEach((e=>{
	n.push(e),e.toLowerCase()===e?n.push(e.toUpperCase()):n.push(e.toLowerCase())
	})),n})(g),built_in:b},p=e=>e.map((e=>e.replace(/\|\d+$/,""))),_={variants:[{
	match:[/new/,n.concat(l,"+"),n.concat("(?!",p(b).join("\\b|"),"\\b)"),i],scope:{
	1:"keyword",4:"title.class"}}]},h=n.concat(a,"\\b(?!\\()"),f={variants:[{
	match:[n.concat(/::/,n.lookahead(/(?!class\b)/)),h],scope:{2:"variable.constant"
	}},{match:[/::/,/class/],scope:{2:"variable.language"}},{
	match:[i,n.concat(/::/,n.lookahead(/(?!class\b)/)),h],scope:{1:"title.class",
	3:"variable.constant"}},{match:[i,n.concat("::",n.lookahead(/(?!class\b)/))],
	scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",
	3:"variable.language"}}]},E={scope:"attr",
	match:n.concat(a,n.lookahead(":"),n.lookahead(/(?!::)/))},y={relevance:0,
	begin:/\(/,end:/\)/,keywords:m,contains:[E,r,f,e.C_BLOCK_COMMENT_MODE,c,d,_]
	},w={relevance:0,
	match:[/\b/,n.concat("(?!fn\\b|function\\b|",p(u).join("\\b|"),"|",p(b).join("\\b|"),"\\b)"),a,n.concat(l,"*"),n.lookahead(/(?=\()/)],
	scope:{3:"title.function.invoke"},contains:[y]};y.contains.push(w)
	;const N=[E,f,e.C_BLOCK_COMMENT_MODE,c,d,_];return{case_insensitive:!1,
	keywords:m,contains:[{begin:n.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,
	endScope:"meta",keywords:{literal:g,keyword:["new","array"]},contains:[{
	begin:/\[/,end:/]/,keywords:{literal:g,keyword:["new","array"]},
	contains:["self",...N]},...N,{scope:"meta",match:i}]
	},e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{
	scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,
	keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,
	contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{
	begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{
	begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},r,w,f,{
	match:[/const/,/\s/,a],scope:{1:"keyword",3:"variable.constant"}},_,{
	scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,
	excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"
	},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",
	begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:m,
	contains:["self",r,f,e.C_BLOCK_COMMENT_MODE,c,d]}]},{scope:"class",variants:[{
	beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",
	illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{
	beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{
	beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,
	contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{
	beginKeywords:"use",relevance:0,end:";",contains:[{
	match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},c,d]}
	},grmr_php_template:e=>({name:"PHP template",subLanguage:"xml",contains:[{
	begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",
	end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0
	},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,
	skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,
	contains:null,skip:!0})]}]}),grmr_plaintext:e=>({name:"Plain text",
	aliases:["text","txt"],disableAutodetect:!0}),grmr_python:e=>{
	const n=e.regex,t=/[\p{XID_Start}_]\p{XID_Continue}*/u,a=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],i={
	$pattern:/[A-Za-z]\w+|__\w+__/,keyword:a,
	built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],
	literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],
	type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]
	},r={className:"meta",begin:/^(>>>|\.\.\.) /},s={className:"subst",begin:/\{/,
	end:/\}/,keywords:i,illegal:/#/},o={begin:/\{\{/,relevance:0},l={
	className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{
	begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,
	contains:[e.BACKSLASH_ESCAPE,r],relevance:10},{
	begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,
	contains:[e.BACKSLASH_ESCAPE,r],relevance:10},{
	begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,
	contains:[e.BACKSLASH_ESCAPE,r,o,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,
	end:/"""/,contains:[e.BACKSLASH_ESCAPE,r,o,s]},{begin:/([uU]|[rR])'/,end:/'/,
	relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{
	begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,
	end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,
	contains:[e.BACKSLASH_ESCAPE,o,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,
	contains:[e.BACKSLASH_ESCAPE,o,s]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]
	},c="[0-9](_?[0-9])*",d=`(\\b(${c}))?\\.(${c})|\\b(${c})\\.`,g="\\b|"+a.join("|"),u={
	className:"number",relevance:0,variants:[{
	begin:`(\\b(${c})|(${d}))[eE][+-]?(${c})[jJ]?(?=${g})`},{begin:`(${d})[jJ]?`},{
	begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${g})`},{
	begin:`\\b0[bB](_?[01])+[lL]?(?=${g})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${g})`
	},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${g})`},{begin:`\\b(${c})[jJ](?=${g})`
	}]},b={className:"comment",begin:n.lookahead(/# type:/),end:/$/,keywords:i,
	contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},m={
	className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,
	end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:i,
	contains:["self",r,u,l,e.HASH_COMMENT_MODE]}]};return s.contains=[l,u,r],{
	name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:i,
	illegal:/(<\/|->|\?)|=>/,contains:[r,u,{begin:/\bself\b/},{beginKeywords:"if",
	relevance:0},l,b,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,t],scope:{
	1:"keyword",3:"title.function"},contains:[m]},{variants:[{
	match:[/\bclass/,/\s+/,t,/\s*/,/\(\s*/,t,/\s*\)/]},{match:[/\bclass/,/\s+/,t]}],
	scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{
	className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[u,m,l]}]}},
	grmr_python_repl:e=>({aliases:["pycon"],contains:[{className:"meta.prompt",
	starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{
	begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}),grmr_r:e=>{
	const n=e.regex,t=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,a=n.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,r=n.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/)
	;return{name:"R",keywords:{$pattern:t,
	keyword:"function if in break next repeat else for while",
	literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",
	built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"
	},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,
	starts:{end:n.lookahead(n.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),
	endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{
	scope:"variable",variants:[{match:t},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0
	}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]
	}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],
	variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/
	}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/
	}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/
	}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/
	}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/
	}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',
	relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{
	1:"operator",2:"number"},match:[i,a]},{scope:{1:"operator",2:"number"},
	match:[/%[^%]*%/,a]},{scope:{1:"punctuation",2:"number"},match:[r,a]},{scope:{
	2:"number"},match:[/[^a-zA-Z0-9._]|^/,a]}]},{scope:{3:"operator"},
	match:[t,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{
	match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:r},{begin:"`",end:"`",
	contains:[{begin:/\\./}]}]}},grmr_ruby:e=>{
	const n=e.regex,t="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",a=n.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=n.concat(a,/(::\w+)*/),r={
	"variable.constant":["__FILE__","__LINE__","__ENCODING__"],
	"variable.language":["self","super"],
	keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield","include","extend","prepend","public","private","protected","raise","throw"],
	built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],
	literal:["true","false","nil"]},s={className:"doctag",begin:"@[A-Za-z]+"},o={
	begin:"#<",end:">"},l=[e.COMMENT("#","$",{contains:[s]
	}),e.COMMENT("^=begin","^=end",{contains:[s],relevance:10
	}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],c={className:"subst",begin:/#\{/,
	end:/\}/,keywords:r},d={className:"string",contains:[e.BACKSLASH_ESCAPE,c],
	variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{
	begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{
	begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,
	end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{
	begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{
	begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{
	begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{
	begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{
	begin:n.concat(/<<[-~]?'?/,n.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),
	contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,
	contains:[e.BACKSLASH_ESCAPE,c]})]}]},g="[0-9](_?[0-9])*",u={className:"number",
	relevance:0,variants:[{
	begin:`\\b([1-9](_?[0-9])*|0)(\\.(${g}))?([eE][+-]?(${g})|r)?i?\\b`},{
	begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"
	},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{
	begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{
	begin:"\\b0(_?[0-7])+r?i?\\b"}]},b={variants:[{match:/\(\)/},{
	className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,
	keywords:r}]},m=[d,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{
	match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",
	4:"title.class.inherited"},keywords:r},{match:[/(include|extend)\s+/,i],scope:{
	2:"title.class"},keywords:r},{relevance:0,match:[i,/\.new[. (]/],scope:{
	1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,
	className:"variable.constant"},{relevance:0,match:a,scope:"title.class"},{
	match:[/def/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[b]},{
	begin:e.IDENT_RE+"::"},{className:"symbol",
	begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",
	begin:":(?!\\s)",contains:[d,{begin:t}],relevance:0},u,{className:"variable",
	begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{
	className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,
	relevance:0,keywords:r},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",
	keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,c],
	illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{
	begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",
	end:"\\][a-z]*"}]}].concat(o,l),relevance:0}].concat(o,l)
	;c.contains=m,b.contains=m;const p=[{begin:/^\s*=>/,starts:{end:"$",contains:m}
	},{className:"meta.prompt",
	begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]|(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>)(?=[ ])",
	starts:{end:"$",keywords:r,contains:m}}];return l.unshift(o),{name:"Ruby",
	aliases:["rb","gemspec","podspec","thor","irb"],keywords:r,illegal:/\/\*/,
	contains:[e.SHEBANG({binary:"ruby"})].concat(p).concat(l).concat(m)}},
	grmr_rust:e=>{const n=e.regex,t={className:"title.function.invoke",relevance:0,
	begin:n.concat(/\b/,/(?!let\b)/,e.IDENT_RE,n.lookahead(/\s*\(/))
	},a="([ui](8|16|32|64|128|size)|f(32|64))?",i=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],r=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"]
	;return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:r,
	keyword:["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],
	literal:["true","false","Some","None","Ok","Err"],built_in:i},illegal:"</",
	contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]
	}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{
	className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{
	begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",
	begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{
	begin:"\\b0b([01_]+)"+a},{begin:"\\b0o([0-7_]+)"+a},{
	begin:"\\b0x([A-Fa-f0-9_]+)"+a},{
	begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+a}],relevance:0},{
	begin:[/fn/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",
	3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{
	className:"string",begin:/"/,end:/"/}]},{
	begin:[/let/,/\s+/,/(?:mut\s+)?/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",
	3:"keyword",4:"variable"}},{
	begin:[/for/,/\s+/,e.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",
	3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,e.UNDERSCORE_IDENT_RE],
	className:{1:"keyword",3:"title.class"}},{
	begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,e.UNDERSCORE_IDENT_RE],
	className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{
	keyword:"Self",built_in:i,type:r}},{className:"punctuation",begin:"->"},t]}},
	grmr_scss:e=>{const n=te(e),t=se,a=re,i="@[a-z-]+",r={className:"variable",
	begin:"(\\$[a-zA-Z-][a-zA-Z0-9_-]*)\\b",relevance:0};return{name:"SCSS",
	case_insensitive:!0,illegal:"[=/|']",
	contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,n.CSS_NUMBER_MODE,{
	className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{
	className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0
	},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",
	begin:"\\b("+ae.join("|")+")\\b",relevance:0},{className:"selector-pseudo",
	begin:":("+a.join("|")+")"},{className:"selector-pseudo",
	begin:":(:)?("+t.join("|")+")"},r,{begin:/\(/,end:/\)/,
	contains:[n.CSS_NUMBER_MODE]},n.CSS_VARIABLE,{className:"attribute",
	begin:"\\b("+oe.join("|")+")\\b"},{
	begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"
	},{begin:/:/,end:/[;}{]/,relevance:0,
	contains:[n.BLOCK_COMMENT,r,n.HEXCOLOR,n.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,n.IMPORTANT,n.FUNCTION_DISPATCH]
	},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{
	begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,
	keyword:"and or not only",attribute:ie.join(" ")},contains:[{begin:i,
	className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"
	},r,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,n.HEXCOLOR,n.CSS_NUMBER_MODE]
	},n.FUNCTION_DISPATCH]}},grmr_shell:e=>({name:"Shell Session",
	aliases:["console","shellsession"],contains:[{className:"meta.prompt",
	begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,
	subLanguage:"bash"}}]}),grmr_sql:e=>{
	const n=e.regex,t=e.COMMENT("--","$"),a=["true","false","unknown"],i=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],r=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],s=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],o=r,l=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter((e=>!r.includes(e))),c={
	begin:n.concat(/\b/,n.either(...o),/\s*\(/),relevance:0,keywords:{built_in:o}}
	;return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{
	$pattern:/\b[\w\.]+/,keyword:((e,{exceptions:n,when:t}={})=>{const a=t
	;return n=n||[],e.map((e=>e.match(/\|\d+$/)||n.includes(e)?e:a(e)?e+"|0":e))
	})(l,{when:e=>e.length<3}),literal:a,type:i,
	built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]
	},contains:[{begin:n.either(...s),relevance:0,keywords:{$pattern:/[\w\.]+/,
	keyword:l.concat(s),literal:a,type:i}},{className:"type",
	begin:n.either("double precision","large object","with timezone","without timezone")
	},c,{className:"variable",begin:/@[a-z0-9]+/},{className:"string",variants:[{
	begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,contains:[{
	begin:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t,{className:"operator",
	begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}},
	grmr_swift:e=>{const n={match:/\s+/,relevance:0},t=e.COMMENT("/\\*","\\*/",{
	contains:["self"]}),a=[e.C_LINE_COMMENT_MODE,t],i={match:[/\./,p(...ve,...Oe)],
	className:{2:"keyword"}},r={match:m(/\./,p(...xe)),relevance:0
	},s=xe.filter((e=>"string"==typeof e)).concat(["_|0"]),o={variants:[{
	className:"keyword",
	match:p(...xe.filter((e=>"string"!=typeof e)).concat(ke).map(Ne),...Oe)}]},l={
	$pattern:p(/\b\w+/,/#\w+/),keyword:s.concat(Ae),literal:Me},c=[i,r,o],d=[{
	match:m(/\./,p(...Ce)),relevance:0},{className:"built_in",
	match:m(/\b/,p(...Ce),/(?=\()/)}],u={match:/->/,relevance:0},b=[u,{
	className:"operator",relevance:0,variants:[{match:De},{match:`\\.(\\.|${Re})+`}]
	}],_="([0-9a-fA-F]_*)+",h={className:"number",relevance:0,variants:[{
	match:"\\b(([0-9]_*)+)(\\.(([0-9]_*)+))?([eE][+-]?(([0-9]_*)+))?\\b"},{
	match:`\\b0x(${_})(\\.(${_}))?([pP][+-]?(([0-9]_*)+))?\\b`},{
	match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},f=(e="")=>({
	className:"subst",variants:[{match:m(/\\/,e,/[0\\tnr"']/)},{
	match:m(/\\/,e,/u\{[0-9a-fA-F]{1,8}\}/)}]}),E=(e="")=>({className:"subst",
	match:m(/\\/,e,/[\t ]*(?:[\r\n]|\r\n)/)}),y=(e="")=>({className:"subst",
	label:"interpol",begin:m(/\\/,e,/\(/),end:/\)/}),w=(e="")=>({begin:m(e,/"""/),
	end:m(/"""/,e),contains:[f(e),E(e),y(e)]}),N=(e="")=>({begin:m(e,/"/),
	end:m(/"/,e),contains:[f(e),y(e)]}),v={className:"string",
	variants:[w(),w("#"),w("##"),w("###"),N(),N("#"),N("##"),N("###")]},O={
	match:m(/`/,Be,/`/)},k=[O,{className:"variable",match:/\$\d+/},{
	className:"variable",match:`\\$${Le}+`}],x=[{match:/(@|#(un)?)available/,
	className:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:Fe,
	contains:[...b,h,v]}]}},{className:"keyword",match:m(/@/,p(...ze))},{
	className:"meta",match:m(/@/,Be)}],M={match:g(/\b[A-Z]/),relevance:0,contains:[{
	className:"type",
	match:m(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,Le,"+")
	},{className:"type",match:$e,relevance:0},{match:/[?!]+/,relevance:0},{
	match:/\.\.\./,relevance:0},{match:m(/\s+&\s+/,g($e)),relevance:0}]},S={
	begin:/</,end:/>/,keywords:l,contains:[...a,...c,...x,u,M]};M.contains.push(S)
	;const A={begin:/\(/,end:/\)/,relevance:0,keywords:l,contains:["self",{
	match:m(Be,/\s*:/),keywords:"_|0",relevance:0
	},...a,...c,...d,...b,h,v,...k,...x,M]},C={begin:/</,end:/>/,contains:[...a,M]
	},T={begin:/\(/,end:/\)/,keywords:l,contains:[{
	begin:p(g(m(Be,/\s*:/)),g(m(Be,/\s+/,Be,/\s*:/))),end:/:/,relevance:0,
	contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Be}]
	},...a,...c,...b,h,v,...x,M,A],endsParent:!0,illegal:/["']/},R={
	match:[/func/,/\s+/,p(O.match,Be,De)],className:{1:"keyword",3:"title.function"
	},contains:[C,T,n],illegal:[/\[/,/%/]},D={
	match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},
	contains:[C,T,n],illegal:/\[|%/},I={match:[/operator/,/\s+/,De],className:{
	1:"keyword",3:"title"}},L={begin:[/precedencegroup/,/\s+/,$e],className:{
	1:"keyword",3:"title"},contains:[M],keywords:[...Se,...Me],end:/}/}
	;for(const e of v.variants){const n=e.contains.find((e=>"interpol"===e.label))
	;n.keywords=l;const t=[...c,...d,...b,h,v,...k];n.contains=[...t,{begin:/\(/,
	end:/\)/,contains:["self",...t]}]}return{name:"Swift",keywords:l,
	contains:[...a,R,D,{beginKeywords:"struct protocol class extension enum actor",
	end:"\\{",excludeEnd:!0,keywords:l,contains:[e.inherit(e.TITLE_MODE,{
	className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...c]
	},I,L,{beginKeywords:"import",end:/$/,contains:[...a],relevance:0
	},...c,...d,...b,h,v,...k,...x,M,A]}},grmr_typescript:e=>{
	const n=we(e),t=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],a={
	beginKeywords:"namespace",end:/\{/,excludeEnd:!0,
	contains:[n.exports.CLASS_REFERENCE]},i={beginKeywords:"interface",end:/\{/,
	excludeEnd:!0,keywords:{keyword:"interface extends",built_in:t},
	contains:[n.exports.CLASS_REFERENCE]},r={$pattern:be,
	keyword:me.concat(["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"]),
	literal:pe,built_in:ye.concat(t),"variable.language":Ee},s={className:"meta",
	begin:"@[A-Za-z$_][0-9A-Za-z$_]*"},o=(e,n,t)=>{
	const a=e.contains.findIndex((e=>e.label===n))
	;if(-1===a)throw Error("can not find mode to replace");e.contains.splice(a,1,t)}
	;return Object.assign(n.keywords,r),
	n.exports.PARAMS_CONTAINS.push(s),n.contains=n.contains.concat([s,a,i]),
	o(n,"shebang",e.SHEBANG()),o(n,"use_strict",{className:"meta",relevance:10,
	begin:/^\s*['"]use strict['"]/
	}),n.contains.find((e=>"func.def"===e.label)).relevance=0,Object.assign(n,{
	name:"TypeScript",aliases:["ts","tsx"]}),n},grmr_vbnet:e=>{
	const n=e.regex,t=/\d{1,2}\/\d{1,2}\/\d{4}/,a=/\d{4}-\d{1,2}-\d{1,2}/,i=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,r=/\d{1,2}(:\d{1,2}){1,2}/,s={
	className:"literal",variants:[{begin:n.concat(/# */,n.either(a,t),/ *#/)},{
	begin:n.concat(/# */,r,/ *#/)},{begin:n.concat(/# */,i,/ *#/)},{
	begin:n.concat(/# */,n.either(a,t),/ +/,n.either(i,r),/ *#/)}]
	},o=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]
	}),l=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]})
	;return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,
	classNameAliases:{label:"symbol"},keywords:{
	keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",
	built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",
	type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",
	literal:"true false nothing"},
	illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[{
	className:"string",begin:/"(""|[^/n])"C\b/},{className:"string",begin:/"/,
	end:/"/,illegal:/\n/,contains:[{begin:/""/}]},s,{className:"number",relevance:0,
	variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/
	},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{
	begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},{
	className:"label",begin:/^\w+:/},o,l,{className:"meta",
	begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,
	end:/$/,keywords:{
	keyword:"const disable else elseif enable end externalsource if region then"},
	contains:[l]}]}},grmr_wasm:e=>{e.regex;const n=e.COMMENT(/\(;/,/;\)/)
	;return n.contains.push("self"),{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,
	keyword:["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"]
	},contains:[e.COMMENT(/;;/,/$/),n,{match:[/(?:offset|align)/,/\s*/,/=/],
	className:{1:"keyword",3:"operator"}},{className:"variable",begin:/\$[\w_]+/},{
	match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},{
	begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",
	3:"title.function"}},e.QUOTE_STRING_MODE,{match:/(i32|i64|f32|f64)(?!\.)/,
	className:"type"},{className:"keyword",
	match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/
	},{className:"number",relevance:0,
	match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/
	}]}},grmr_yaml:e=>{
	const n="true false yes no null",t="[\\w#;/?:@&=+$,.~*'()[\\]]+",a={
	className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/
	},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",
	variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},i=e.inherit(a,{
	variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),r={
	end:",",endsWithParent:!0,excludeEnd:!0,keywords:n,relevance:0},s={begin:/\{/,
	end:/\}/,contains:[r],illegal:"\\n",relevance:0},o={begin:"\\[",end:"\\]",
	contains:[r],illegal:"\\n",relevance:0},l=[{className:"attr",variants:[{
	begin:"\\w[\\w :\\/.-]*:(?=[ \t]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ \t]|$)'},{
	begin:"'\\w[\\w :\\/.-]*':(?=[ \t]|$)"}]},{className:"meta",begin:"^---\\s*$",
	relevance:10},{className:"string",
	begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{
	begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,
	relevance:0},{className:"type",begin:"!\\w+!"+t},{className:"type",
	begin:"!<"+t+">"},{className:"type",begin:"!"+t},{className:"type",begin:"!!"+t
	},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",
	begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",
	relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:n,keywords:{literal:n}},{
	className:"number",
	begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"
	},{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},s,o,a],c=[...l]
	;return c.pop(),c.push(i),r.contains=c,{name:"YAML",case_insensitive:!0,
	aliases:["yml"],contains:l}}});const je=ne;for(const e of Object.keys(Ue)){
	const n=e.replace("grmr_","").replace("_","-");je.registerLanguage(n,Ue[e])}
	return je}()
	;"object"==typeof exports&&"undefined"!=typeof module&&(module.exports=hljs);</script>
<script>
hljs.registerLanguage('cy', function() {
    return {
    keywords: {
        keyword: [
            'func', 'import', 'for', 'coinit', 'coresume', 'coyield',
            'return', 'if', 'else', 'as', 'while', 'var', 'my', 'object', 'with', 'caught',
            'break', 'continue', 'switch', 'pass', 'or', 'and', 'not', 'is', 'error', 'throws',
            'true', 'false', 'none', 'throw', 'try', 'catch', 'recover', 'enum', 'type', 'case'
        ],
        type: [
            'float', 'string', 'bool', 'any', 'int', 'List', 'Map', 'rawstring', 'symbol', 'pointer', 'dynamic'
        ],
    },
    contains: [
        {
            scope: 'string',
            begin: "'", end: "'"
        },
        {
            scope: 'symbol',
            begin: '#', end: /w(?=[^w])/
        },
        hljs.COMMENT(
        '\-\-', // begin
        '\n', // end
        {
            contains: [
            ]
        }
        ),
        hljs.C_NUMBER_MODE,
    ]
    };
})
hljs.highlightAll();
</script>
</body>
</html>